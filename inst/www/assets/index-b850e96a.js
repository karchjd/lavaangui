(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();function Lt(){}function F_(t,e){for(const r in e)t[r]=e[r];return t}function Q1(t){return t()}function Kv(){return Object.create(null)}function zn(t){t.forEach(Q1)}function Gs(t){return typeof t=="function"}function St(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function z_(t){return Object.keys(t).length===0}function Hd(t,...e){if(t==null)return Lt;const r=t.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}function Ut(t){let e;return Hd(t,r=>e=r)(),e}function jt(t,e,r){t.$$.on_destroy.push(Hd(e,r))}function Lo(t,e,r,n){if(t){const i=J1(t,e,r,n);return t[0](i)}}function J1(t,e,r,n){return t[1]&&n?F_(r.ctx.slice(),t[1](n(e))):r.ctx}function Mo(t,e,r,n){if(t[2]&&n){const i=t[2](n(r));if(e.dirty===void 0)return i;if(typeof i=="object"){const o=[],a=Math.max(e.dirty.length,i.length);for(let s=0;s<a;s+=1)o[s]=e.dirty[s]|i[s];return o}return e.dirty|i}return e.dirty}function Oo(t,e,r,n,i,o){if(i){const a=J1(e,r,n,o);t.p(a,i)}}function No(t){if(t.ctx.length>32){const e=[],r=t.ctx.length/32;for(let n=0;n<r;n++)e[n]=-1;return e}return-1}function mi(t){return t??""}function Dt(t,e,r){return t.set(r),e}function je(t,e){t.appendChild(e)}function Ue(t,e,r){t.insertBefore(e,r||null)}function He(t){t.parentNode&&t.parentNode.removeChild(t)}function hn(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function Ke(t){return document.createElement(t)}function Ir(t){return document.createTextNode(t)}function it(){return Ir(" ")}function Bn(){return Ir("")}function cr(t,e,r,n){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n)}function Oe(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function B_(t){let e;return{p(...r){e=r,e.forEach(n=>t.push(n))},r(){e.forEach(r=>t.splice(t.indexOf(r),1))}}}function q_(t){return Array.from(t.childNodes)}function Jn(t,e){e=""+e,t.data!==e&&(t.data=e)}function Zv(t,e){t.value=e??""}function Nr(t,e,r,n){r==null?t.style.removeProperty(e):t.style.setProperty(e,r,n?"important":"")}function Ms(t,e,r){t.classList[r?"add":"remove"](e)}let mo;function vo(t){mo=t}function $_(){if(!mo)throw new Error("Function called outside component initialization");return mo}function Di(t){$_().$$.on_mount.push(t)}const ga=[],Tr=[];let wa=[];const Sd=[],G_=Promise.resolve();let Dd=!1;function H_(){Dd||(Dd=!0,G_.then(ew))}function kd(t){wa.push(t)}function Zr(t){Sd.push(t)}const Pu=new Set;let oa=0;function ew(){if(oa!==0)return;const t=mo;do{try{for(;oa<ga.length;){const e=ga[oa];oa++,vo(e),U_(e.$$)}}catch(e){throw ga.length=0,oa=0,e}for(vo(null),ga.length=0,oa=0;Tr.length;)Tr.pop()();for(let e=0;e<wa.length;e+=1){const r=wa[e];Pu.has(r)||(Pu.add(r),r())}wa.length=0}while(ga.length);for(;Sd.length;)Sd.pop()();Dd=!1,Pu.clear(),vo(t)}function U_(t){if(t.fragment!==null){t.update(),zn(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(kd)}}function V_(t){const e=[],r=[];wa.forEach(n=>t.indexOf(n)===-1?e.push(n):r.push(n)),r.forEach(n=>n()),wa=e}const _s=new Set;let qi;function dn(){qi={r:0,c:[],p:qi}}function vn(){qi.r||zn(qi.c),qi=qi.p}function qe(t,e){t&&t.i&&(_s.delete(t),t.i(e))}function Ve(t,e,r,n){if(t&&t.o){if(_s.has(t))return;_s.add(t),qi.c.push(()=>{_s.delete(t),n&&(r&&t.d(1),n())}),t.o(e)}else n&&n()}function Qr(t,e,r){const n=t.$$.props[e];n!==void 0&&(t.$$.bound[n]=r,r(t.$$.ctx[n]))}function vt(t){t&&t.c()}function ct(t,e,r,n){const{fragment:i,after_update:o}=t.$$;i&&i.m(e,r),n||kd(()=>{const a=t.$$.on_mount.map(Q1).filter(Gs);t.$$.on_destroy?t.$$.on_destroy.push(...a):zn(a),t.$$.on_mount=[]}),o.forEach(kd)}function ht(t,e){const r=t.$$;r.fragment!==null&&(V_(r.after_update),zn(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function W_(t,e){t.$$.dirty[0]===-1&&(ga.push(t),H_(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function kt(t,e,r,n,i,o,a,s=[-1]){const u=mo;vo(t);const l=t.$$={fragment:null,ctx:[],props:o,update:Lt,not_equal:i,bound:Kv(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Kv(),dirty:s,skip_bound:!1,root:e.target||u.$$.root};a&&a(l.root);let f=!1;if(l.ctx=r?r(t,e.props||{},(c,h,...d)=>{const p=d.length?d[0]:h;return l.ctx&&i(l.ctx[c],l.ctx[c]=p)&&(!l.skip_bound&&l.bound[c]&&l.bound[c](p),f&&W_(t,c)),h}):[],l.update(),f=!0,zn(l.before_update),l.fragment=n?n(l.ctx):!1,e.target){if(e.hydrate){const c=q_(e.target);l.fragment&&l.fragment.l(c),c.forEach(He)}else l.fragment&&l.fragment.c();e.intro&&qe(t.$$.fragment),ct(t,e.target,e.anchor,e.customElement),ew()}vo(u)}class At{$destroy(){ht(this,1),this.$destroy=Lt}$on(e,r){if(!Gs(r))return Lt;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(r),()=>{const i=n.indexOf(r);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!z_(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var It=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Y_(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var rn=Y_,X_=typeof It=="object"&&It&&It.Object===Object&&It,tw=X_,j_=tw,K_=typeof self=="object"&&self&&self.Object===Object&&self,Z_=j_||K_||Function("return this")(),Cn=Z_,Q_=Cn,J_=function(){return Q_.Date.now()},rw=J_,eC=/\s/;function tC(t){for(var e=t.length;e--&&eC.test(t.charAt(e)););return e}var rC=tC,nC=rC,iC=/^\s+/;function aC(t){return t&&t.slice(0,nC(t)+1).replace(iC,"")}var oC=aC,sC=Cn,uC=sC.Symbol,Aa=uC,Qv=Aa,nw=Object.prototype,lC=nw.hasOwnProperty,fC=nw.toString,ja=Qv?Qv.toStringTag:void 0;function cC(t){var e=lC.call(t,ja),r=t[ja];try{t[ja]=void 0;var n=!0}catch{}var i=fC.call(t);return n&&(e?t[ja]=r:delete t[ja]),i}var hC=cC,dC=Object.prototype,vC=dC.toString;function pC(t){return vC.call(t)}var gC=pC,Jv=Aa,mC=hC,yC=gC,bC="[object Null]",wC="[object Undefined]",ep=Jv?Jv.toStringTag:void 0;function EC(t){return t==null?t===void 0?wC:bC:ep&&ep in Object(t)?mC(t):yC(t)}var Ki=EC;function xC(t){return t!=null&&typeof t=="object"}var $n=xC,_C=Ki,CC=$n,TC="[object Symbol]";function SC(t){return typeof t=="symbol"||CC(t)&&_C(t)==TC}var Zi=SC,DC=oC,tp=rn,kC=Zi,rp=0/0,AC=/^[-+]0x[0-9a-f]+$/i,LC=/^0b[01]+$/i,MC=/^0o[0-7]+$/i,OC=parseInt;function NC(t){if(typeof t=="number")return t;if(kC(t))return rp;if(tp(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=tp(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=DC(t);var r=LC.test(t);return r||MC.test(t)?OC(t.slice(2),r?2:8):AC.test(t)?rp:+t}var iw=NC,IC=rn,Ru=rw,np=iw,PC="Expected a function",RC=Math.max,FC=Math.min;function zC(t,e,r){var n,i,o,a,s,u,l=0,f=!1,c=!1,h=!0;if(typeof t!="function")throw new TypeError(PC);e=np(e)||0,IC(r)&&(f=!!r.leading,c="maxWait"in r,o=c?RC(np(r.maxWait)||0,e):o,h="trailing"in r?!!r.trailing:h);function d(C){var b=n,k=i;return n=i=void 0,l=C,a=t.apply(k,b),a}function p(C){return l=C,s=setTimeout(v,e),f?d(C):a}function g(C){var b=C-u,k=C-l,S=e-b;return c?FC(S,o-k):S}function w(C){var b=C-u,k=C-l;return u===void 0||b>=e||b<0||c&&k>=o}function v(){var C=Ru();if(w(C))return m(C);s=setTimeout(v,g(C))}function m(C){return s=void 0,h&&n?d(C):(n=i=void 0,a)}function y(){s!==void 0&&clearTimeout(s),l=0,n=u=i=s=void 0}function E(){return s===void 0?a:m(Ru())}function T(){var C=Ru(),b=w(C);if(n=arguments,i=this,u=C,b){if(s===void 0)return p(u);if(c)return clearTimeout(s),s=setTimeout(v,e),d(u)}return s===void 0&&(s=setTimeout(v,e)),a}return T.cancel=y,T.flush=E,T}var BC=zC,aw={exports:{}};(function(t,e){(function(){var r,n,i,o,a,s,u,l,f,c,h,d,p,g,w;i=Math.floor,c=Math.min,n=function(v,m){return v<m?-1:v>m?1:0},f=function(v,m,y,E,T){var C;if(y==null&&(y=0),T==null&&(T=n),y<0)throw new Error("lo must be non-negative");for(E==null&&(E=v.length);y<E;)C=i((y+E)/2),T(m,v[C])<0?E=C:y=C+1;return[].splice.apply(v,[y,y-y].concat(m)),m},s=function(v,m,y){return y==null&&(y=n),v.push(m),g(v,0,v.length-1,y)},a=function(v,m){var y,E;return m==null&&(m=n),y=v.pop(),v.length?(E=v[0],v[0]=y,w(v,0,m)):E=y,E},l=function(v,m,y){var E;return y==null&&(y=n),E=v[0],v[0]=m,w(v,0,y),E},u=function(v,m,y){var E;return y==null&&(y=n),v.length&&y(v[0],m)<0&&(E=[v[0],m],m=E[0],v[0]=E[1],w(v,0,y)),m},o=function(v,m){var y,E,T,C,b,k;for(m==null&&(m=n),C=function(){k=[];for(var S=0,O=i(v.length/2);0<=O?S<O:S>O;0<=O?S++:S--)k.push(S);return k}.apply(this).reverse(),b=[],E=0,T=C.length;E<T;E++)y=C[E],b.push(w(v,y,m));return b},p=function(v,m,y){var E;if(y==null&&(y=n),E=v.indexOf(m),E!==-1)return g(v,0,E,y),w(v,E,y)},h=function(v,m,y){var E,T,C,b,k;if(y==null&&(y=n),T=v.slice(0,m),!T.length)return T;for(o(T,y),k=v.slice(m),C=0,b=k.length;C<b;C++)E=k[C],u(T,E,y);return T.sort(y).reverse()},d=function(v,m,y){var E,T,C,b,k,S,O,N,D;if(y==null&&(y=n),m*10<=v.length){if(C=v.slice(0,m).sort(y),!C.length)return C;for(T=C[C.length-1],O=v.slice(m),b=0,S=O.length;b<S;b++)E=O[b],y(E,T)<0&&(f(C,E,0,null,y),C.pop(),T=C[C.length-1]);return C}for(o(v,y),D=[],k=0,N=c(m,v.length);0<=N?k<N:k>N;0<=N?++k:--k)D.push(a(v,y));return D},g=function(v,m,y,E){var T,C,b;for(E==null&&(E=n),T=v[y];y>m;){if(b=y-1>>1,C=v[b],E(T,C)<0){v[y]=C,y=b;continue}break}return v[y]=T},w=function(v,m,y){var E,T,C,b,k;for(y==null&&(y=n),T=v.length,k=m,C=v[m],E=2*m+1;E<T;)b=E+1,b<T&&!(y(v[E],v[b])<0)&&(E=b),v[m]=v[E],m=E,E=2*m+1;return v[m]=C,g(v,k,m,y)},r=function(){v.push=s,v.pop=a,v.replace=l,v.pushpop=u,v.heapify=o,v.updateItem=p,v.nlargest=h,v.nsmallest=d;function v(m){this.cmp=m??n,this.nodes=[]}return v.prototype.push=function(m){return s(this.nodes,m,this.cmp)},v.prototype.pop=function(){return a(this.nodes,this.cmp)},v.prototype.peek=function(){return this.nodes[0]},v.prototype.contains=function(m){return this.nodes.indexOf(m)!==-1},v.prototype.replace=function(m){return l(this.nodes,m,this.cmp)},v.prototype.pushpop=function(m){return u(this.nodes,m,this.cmp)},v.prototype.heapify=function(){return o(this.nodes,this.cmp)},v.prototype.updateItem=function(m){return p(this.nodes,m,this.cmp)},v.prototype.clear=function(){return this.nodes=[]},v.prototype.empty=function(){return this.nodes.length===0},v.prototype.size=function(){return this.nodes.length},v.prototype.clone=function(){var m;return m=new v,m.nodes=this.nodes.slice(0),m},v.prototype.toArray=function(){return this.nodes.slice(0)},v.prototype.insert=v.prototype.push,v.prototype.top=v.prototype.peek,v.prototype.front=v.prototype.peek,v.prototype.has=v.prototype.contains,v.prototype.copy=v.prototype.clone,v}(),function(v,m){return t.exports=m()}(this,function(){return r})}).call(It)})(aw);var qC=aw.exports,$C=qC,GC=Array.isArray,vr=GC,HC=vr,UC=Zi,VC=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,WC=/^\w*$/;function YC(t,e){if(HC(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||UC(t)?!0:WC.test(t)||!VC.test(t)||e!=null&&t in Object(e)}var Ud=YC,XC=Ki,jC=rn,KC="[object AsyncFunction]",ZC="[object Function]",QC="[object GeneratorFunction]",JC="[object Proxy]";function eT(t){if(!jC(t))return!1;var e=XC(t);return e==ZC||e==QC||e==KC||e==JC}var Io=eT,tT=Cn,rT=tT["__core-js_shared__"],nT=rT,Fu=nT,ip=function(){var t=/[^.]+$/.exec(Fu&&Fu.keys&&Fu.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function iT(t){return!!ip&&ip in t}var aT=iT,oT=Function.prototype,sT=oT.toString;function uT(t){if(t!=null){try{return sT.call(t)}catch{}try{return t+""}catch{}}return""}var ow=uT,lT=Io,fT=aT,cT=rn,hT=ow,dT=/[\\^$.*+?()[\]{}|]/g,vT=/^\[object .+?Constructor\]$/,pT=Function.prototype,gT=Object.prototype,mT=pT.toString,yT=gT.hasOwnProperty,bT=RegExp("^"+mT.call(yT).replace(dT,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function wT(t){if(!cT(t)||fT(t))return!1;var e=lT(t)?bT:vT;return e.test(hT(t))}var ET=wT;function xT(t,e){return t==null?void 0:t[e]}var _T=xT,CT=ET,TT=_T;function ST(t,e){var r=TT(t,e);return CT(r)?r:void 0}var Qi=ST,DT=Qi,kT=DT(Object,"create"),Hs=kT,ap=Hs;function AT(){this.__data__=ap?ap(null):{},this.size=0}var LT=AT;function MT(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var OT=MT,NT=Hs,IT="__lodash_hash_undefined__",PT=Object.prototype,RT=PT.hasOwnProperty;function FT(t){var e=this.__data__;if(NT){var r=e[t];return r===IT?void 0:r}return RT.call(e,t)?e[t]:void 0}var zT=FT,BT=Hs,qT=Object.prototype,$T=qT.hasOwnProperty;function GT(t){var e=this.__data__;return BT?e[t]!==void 0:$T.call(e,t)}var HT=GT,UT=Hs,VT="__lodash_hash_undefined__";function WT(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=UT&&e===void 0?VT:e,this}var YT=WT,XT=LT,jT=OT,KT=zT,ZT=HT,QT=YT;function La(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}La.prototype.clear=XT;La.prototype.delete=jT;La.prototype.get=KT;La.prototype.has=ZT;La.prototype.set=QT;var JT=La;function eS(){this.__data__=[],this.size=0}var tS=eS;function rS(t,e){return t===e||t!==t&&e!==e}var Ma=rS,nS=Ma;function iS(t,e){for(var r=t.length;r--;)if(nS(t[r][0],e))return r;return-1}var Us=iS,aS=Us,oS=Array.prototype,sS=oS.splice;function uS(t){var e=this.__data__,r=aS(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():sS.call(e,r,1),--this.size,!0}var lS=uS,fS=Us;function cS(t){var e=this.__data__,r=fS(e,t);return r<0?void 0:e[r][1]}var hS=cS,dS=Us;function vS(t){return dS(this.__data__,t)>-1}var pS=vS,gS=Us;function mS(t,e){var r=this.__data__,n=gS(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var yS=mS,bS=tS,wS=lS,ES=hS,xS=pS,_S=yS;function Oa(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Oa.prototype.clear=bS;Oa.prototype.delete=wS;Oa.prototype.get=ES;Oa.prototype.has=xS;Oa.prototype.set=_S;var Vs=Oa,CS=Qi,TS=Cn,SS=CS(TS,"Map"),Vd=SS,op=JT,DS=Vs,kS=Vd;function AS(){this.size=0,this.__data__={hash:new op,map:new(kS||DS),string:new op}}var LS=AS;function MS(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var OS=MS,NS=OS;function IS(t,e){var r=t.__data__;return NS(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Ws=IS,PS=Ws;function RS(t){var e=PS(this,t).delete(t);return this.size-=e?1:0,e}var FS=RS,zS=Ws;function BS(t){return zS(this,t).get(t)}var qS=BS,$S=Ws;function GS(t){return $S(this,t).has(t)}var HS=GS,US=Ws;function VS(t,e){var r=US(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var WS=VS,YS=LS,XS=FS,jS=qS,KS=HS,ZS=WS;function Na(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Na.prototype.clear=YS;Na.prototype.delete=XS;Na.prototype.get=jS;Na.prototype.has=KS;Na.prototype.set=ZS;var Wd=Na,sw=Wd,QS="Expected a function";function Yd(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(QS);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(Yd.Cache||sw),r}Yd.Cache=sw;var JS=Yd,eD=JS,tD=500;function rD(t){var e=eD(t,function(n){return r.size===tD&&r.clear(),n}),r=e.cache;return e}var nD=rD,iD=nD,aD=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oD=/\\(\\)?/g,sD=iD(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(aD,function(r,n,i,o){e.push(i?o.replace(oD,"$1"):n||r)}),e}),uw=sD;function uD(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var Po=uD,sp=Aa,lD=Po,fD=vr,cD=Zi,hD=1/0,up=sp?sp.prototype:void 0,lp=up?up.toString:void 0;function lw(t){if(typeof t=="string")return t;if(fD(t))return lD(t,lw)+"";if(cD(t))return lp?lp.call(t):"";var e=t+"";return e=="0"&&1/t==-hD?"-0":e}var dD=lw,vD=dD;function pD(t){return t==null?"":vD(t)}var Xd=pD,gD=vr,mD=Ud,yD=uw,bD=Xd;function wD(t,e){return gD(t)?t:mD(t,e)?[t]:yD(bD(t))}var Ys=wD,ED=Zi,xD=1/0;function _D(t){if(typeof t=="string"||ED(t))return t;var e=t+"";return e=="0"&&1/t==-xD?"-0":e}var Ia=_D,CD=Ys,TD=Ia;function SD(t,e){e=CD(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[TD(e[r++])];return r&&r==n?t:void 0}var Xs=SD,DD=Xs;function kD(t,e,r){var n=t==null?void 0:DD(t,e);return n===void 0?r:n}var fw=kD,AD=Qi,LD=function(){try{var t=AD(Object,"defineProperty");return t({},"",{}),t}catch{}}(),cw=LD,fp=cw;function MD(t,e,r){e=="__proto__"&&fp?fp(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var js=MD,OD=js,ND=Ma,ID=Object.prototype,PD=ID.hasOwnProperty;function RD(t,e,r){var n=t[e];(!(PD.call(t,e)&&ND(n,r))||r===void 0&&!(e in t))&&OD(t,e,r)}var Ks=RD,FD=9007199254740991,zD=/^(?:0|[1-9]\d*)$/;function BD(t,e){var r=typeof t;return e=e??FD,!!e&&(r=="number"||r!="symbol"&&zD.test(t))&&t>-1&&t%1==0&&t<e}var Zs=BD,qD=Ks,$D=Ys,GD=Zs,cp=rn,HD=Ia;function UD(t,e,r,n){if(!cp(t))return t;e=$D(e,t);for(var i=-1,o=e.length,a=o-1,s=t;s!=null&&++i<o;){var u=HD(e[i]),l=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return t;if(i!=a){var f=s[u];l=n?n(f,u,s):void 0,l===void 0&&(l=cp(f)?f:GD(e[i+1])?[]:{})}qD(s,u,l),s=s[u]}return t}var hw=UD,VD=hw;function WD(t,e,r){return t==null?t:VD(t,e,r)}var YD=WD;function XD(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var jd=XD,jD=Po,KD=jd,ZD=vr,QD=Zi,JD=uw,ek=Ia,tk=Xd;function rk(t){return ZD(t)?jD(t,ek):QD(t)?[t]:KD(JD(tk(t)))}var nk=rk,ik=BC,ak=$C,ok=fw,sk=YD,uk=nk;function Ro(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var Qs=Ro(ik),Fo=Ro(ak),lk=Ro(ok),fk=Ro(sk),ck=Ro(uk);function yr(t){"@babel/helpers - typeof";return yr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yr(t)}function Kd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hp(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Zd(t,e,r){return e&&hp(t.prototype,e),r&&hp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function dw(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zn(t,e){return hk(t)||dk(t,e)||vk(t,e)||pk()}function hk(t){if(Array.isArray(t))return t}function dk(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,a,s;try{for(r=r.call(t);!(i=(a=r.next()).done)&&(n.push(a.value),!(e&&n.length===e));i=!0);}catch(u){o=!0,s=u}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}function vk(t,e){if(t){if(typeof t=="string")return dp(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dp(t,e)}}function dp(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ar=typeof window>"u"?null:window,vp=ar?ar.navigator:null;ar&&ar.document;var gk=yr(""),vw=yr({}),mk=yr(function(){}),yk=typeof HTMLElement>"u"?"undefined":yr(HTMLElement),zo=function(e){return e&&e.instanceString&&ur(e.instanceString)?e.instanceString():null},ft=function(e){return e!=null&&yr(e)==gk},ur=function(e){return e!=null&&yr(e)===mk},Kt=function(e){return!tn(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},zt=function(e){return e!=null&&yr(e)===vw&&!Kt(e)&&e.constructor===Object},bk=function(e){return e!=null&&yr(e)===vw},Xe=function(e){return e!=null&&yr(e)===yr(1)&&!isNaN(e)},wk=function(e){return Xe(e)&&Math.floor(e)===e},Os=function(e){if(yk!=="undefined")return e!=null&&e instanceof HTMLElement},tn=function(e){return Bo(e)||pw(e)},Bo=function(e){return zo(e)==="collection"&&e._private.single},pw=function(e){return zo(e)==="collection"&&!e._private.single},Qd=function(e){return zo(e)==="core"},gw=function(e){return zo(e)==="stylesheet"},Ek=function(e){return zo(e)==="event"},xi=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},xk=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},_k=function(e){return zt(e)&&Xe(e.x1)&&Xe(e.x2)&&Xe(e.y1)&&Xe(e.y2)},Ck=function(e){return bk(e)&&ur(e.then)},Tk=function(){return vp&&vp.userAgent.match(/msie|trident|edge/i)},yo=function(e,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var o=[],a=0;a<arguments.length;a++)o.push(arguments[a]);return o.join("$")});var n=function i(){var o=this,a=arguments,s,u=r.apply(o,a),l=i.cache;return(s=l[u])||(s=l[u]=e.apply(o,a)),s};return n.cache={},n},Jd=yo(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),Js=yo(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),mw=yo(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),pp=function(e){return xi(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},mr="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",Sk="rgb[a]?\\(("+mr+"[%]?)\\s*,\\s*("+mr+"[%]?)\\s*,\\s*("+mr+"[%]?)(?:\\s*,\\s*("+mr+"))?\\)",Dk="rgb[a]?\\((?:"+mr+"[%]?)\\s*,\\s*(?:"+mr+"[%]?)\\s*,\\s*(?:"+mr+"[%]?)(?:\\s*,\\s*(?:"+mr+"))?\\)",kk="hsl[a]?\\(("+mr+")\\s*,\\s*("+mr+"[%])\\s*,\\s*("+mr+"[%])(?:\\s*,\\s*("+mr+"))?\\)",Ak="hsl[a]?\\((?:"+mr+")\\s*,\\s*(?:"+mr+"[%])\\s*,\\s*(?:"+mr+"[%])(?:\\s*,\\s*(?:"+mr+"))?\\)",Lk="\\#[0-9a-fA-F]{3}",Mk="\\#[0-9a-fA-F]{6}",yw=function(e,r){return e<r?-1:e>r?1:0},Ok=function(e,r){return-1*yw(e,r)},mt=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,r=1;r<e.length;r++){var n=e[r];if(n!=null)for(var i=Object.keys(n),o=0;o<i.length;o++){var a=i[o];t[a]=n[a]}}return t},Nk=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var r=e.length===4,n,i,o,a=16;return r?(n=parseInt(e[1]+e[1],a),i=parseInt(e[2]+e[2],a),o=parseInt(e[3]+e[3],a)):(n=parseInt(e[1]+e[2],a),i=parseInt(e[3]+e[4],a),o=parseInt(e[5]+e[6],a)),[n,i,o]}},Ik=function(e){var r,n,i,o,a,s,u,l;function f(p,g,w){return w<0&&(w+=1),w>1&&(w-=1),w<1/6?p+(g-p)*6*w:w<1/2?g:w<2/3?p+(g-p)*(2/3-w)*6:p}var c=new RegExp("^"+kk+"$").exec(e);if(c){if(n=parseInt(c[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,i=parseFloat(c[2]),i<0||i>100||(i=i/100,o=parseFloat(c[3]),o<0||o>100)||(o=o/100,a=c[4],a!==void 0&&(a=parseFloat(a),a<0||a>1)))return;if(i===0)s=u=l=Math.round(o*255);else{var h=o<.5?o*(1+i):o+i-o*i,d=2*o-h;s=Math.round(255*f(d,h,n+1/3)),u=Math.round(255*f(d,h,n)),l=Math.round(255*f(d,h,n-1/3))}r=[s,u,l,a]}return r},Pk=function(e){var r,n=new RegExp("^"+Sk+"$").exec(e);if(n){r=[];for(var i=[],o=1;o<=3;o++){var a=n[o];if(a[a.length-1]==="%"&&(i[o]=!0),a=parseFloat(a),i[o]&&(a=a/100*255),a<0||a>255)return;r.push(Math.floor(a))}var s=i[1]||i[2]||i[3],u=i[1]&&i[2]&&i[3];if(s&&!u)return;var l=n[4];if(l!==void 0){if(l=parseFloat(l),l<0||l>1)return;r.push(l)}}return r},Rk=function(e){return zk[e.toLowerCase()]},Fk=function(e){return(Kt(e)?e:null)||Rk(e)||Nk(e)||Pk(e)||Ik(e)},zk={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},bw=function(e){for(var r=e.map,n=e.keys,i=n.length,o=0;o<i;o++){var a=n[o];if(zt(a))throw Error("Tried to set map with object key");o<n.length-1?(r[a]==null&&(r[a]={}),r=r[a]):r[a]=e.value}},ww=function(e){for(var r=e.map,n=e.keys,i=n.length,o=0;o<i;o++){var a=n[o];if(zt(a))throw Error("Tried to get map with object key");if(r=r[a],r==null)return r}return r},zu=ar?ar.performance:null,Ew=zu&&zu.now?function(){return zu.now()}:function(){return Date.now()},Bk=function(){if(ar){if(ar.requestAnimationFrame)return function(t){ar.requestAnimationFrame(t)};if(ar.mozRequestAnimationFrame)return function(t){ar.mozRequestAnimationFrame(t)};if(ar.webkitRequestAnimationFrame)return function(t){ar.webkitRequestAnimationFrame(t)};if(ar.msRequestAnimationFrame)return function(t){ar.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(Ew())},1e3/60)}}(),Ns=function(e){return Bk(e)},ei=Ew,ma=9261,xw=65599,ao=5381,_w=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ma,n=r,i;i=e.next(),!i.done;)n=n*xw+i.value|0;return n},bo=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ma;return r*xw+e|0},wo=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ao;return(r<<5)+r+e|0},qk=function(e,r){return e*2097152+r},vi=function(e){return e[0]*2097152+e[1]},ss=function(e,r){return[bo(e[0],r[0]),wo(e[1],r[1])]},$k=function(e,r){var n={value:0,done:!1},i=0,o=e.length,a={next:function(){return i<o?n.value=e[i++]:n.done=!0,n}};return _w(a,r)},Ui=function(e,r){var n={value:0,done:!1},i=0,o=e.length,a={next:function(){return i<o?n.value=e.charCodeAt(i++):n.done=!0,n}};return _w(a,r)},Cw=function(){return Gk(arguments)},Gk=function(e){for(var r,n=0;n<e.length;n++){var i=e[n];n===0?r=Ui(i):r=Ui(i,r)}return r},gp=!0,Hk=console.warn!=null,Uk=console.trace!=null,ev=Number.MAX_SAFE_INTEGER||9007199254740991,Tw=function(){return!0},Is=function(){return!1},mp=function(){return 0},tv=function(){},hr=function(e){throw new Error(e)},Sw=function(e){if(e!==void 0)gp=!!e;else return gp},Wt=function(e){Sw()&&(Hk?console.warn(e):(console.log(e),Uk&&console.trace()))},Vk=function(e){return mt({},e)},In=function(e){return e==null?e:Kt(e)?e.slice():zt(e)?Vk(e):e},Wk=function(e){return e.slice()},Dw=function(e,r){for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r},Yk={},kw=function(){return Yk},kr=function(e){var r=Object.keys(e);return function(n){for(var i={},o=0;o<r.length;o++){var a=r[o],s=n==null?void 0:n[a];i[a]=s===void 0?e[a]:s}return i}},_i=function(e,r,n){for(var i=e.length-1;i>=0&&!(e[i]===r&&(e.splice(i,1),n));i--);},rv=function(e){e.splice(0,e.length)},Xk=function(e,r){for(var n=0;n<r.length;n++){var i=r[n];e.push(i)}},wn=function(e,r,n){return n&&(r=mw(n,r)),e[r]},gi=function(e,r,n,i){n&&(r=mw(n,r)),e[r]=i},jk=function(){function t(){Kd(this,t),this._obj={}}return Zd(t,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}]),t}(),Pn=typeof Map<"u"?Map:jk,Kk="undefined",Zk=function(){function t(e){if(Kd(this,t),this._obj=Object.create(null),this.size=0,e!=null){var r;e.instanceString!=null&&e.instanceString()===this.instanceString()?r=e.toArray():r=e;for(var n=0;n<r.length;n++)this.add(r[n])}}return Zd(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}]),t}(),Pa=(typeof Set>"u"?"undefined":yr(Set))!==Kk?Set:Zk,eu=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||r===void 0||!Qd(e)){hr("An element must have a core reference and parameters set");return}var i=r.group;if(i==null&&(r.data&&r.data.source!=null&&r.data.target!=null?i="edges":i="nodes"),i!=="nodes"&&i!=="edges"){hr("An element must be of type `nodes` or `edges`; you specified `"+i+"`");return}this.length=1,this[0]=this;var o=this._private={cy:e,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:i,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?i==="edges":!!r.pannable,active:!1,classes:new Pa,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(o.position.x==null&&(o.position.x=0),o.position.y==null&&(o.position.y=0),r.renderedPosition){var a=r.renderedPosition,s=e.pan(),u=e.zoom();o.position={x:(a.x-s.x)/u,y:(a.y-s.y)/u}}var l=[];Kt(r.classes)?l=r.classes:ft(r.classes)&&(l=r.classes.split(/\s+/));for(var f=0,c=l.length;f<c;f++){var h=l[f];!h||h===""||o.classes.add(h)}this.createEmitter();var d=r.style||r.css;d&&(Wt("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(d)),(n===void 0||n)&&this.restore()},yp=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,i,o){var a;zt(n)&&!tn(n)&&(a=n,n=a.roots||a.root,i=a.visit,o=a.directed),o=arguments.length===2&&!ur(i)?i:o,i=ur(i)?i:function(){};for(var s=this._private.cy,u=n=ft(n)?this.filter(n):n,l=[],f=[],c={},h={},d={},p=0,g,w=this.byGroup(),v=w.nodes,m=w.edges,y=0;y<u.length;y++){var E=u[y],T=E.id();E.isNode()&&(l.unshift(E),e.bfs&&(d[T]=!0,f.push(E)),h[T]=0)}for(var C=function(){var I=e.bfs?l.shift():l.pop(),x=I.id();if(e.dfs){if(d[x])return"continue";d[x]=!0,f.push(I)}var P=h[x],L=c[x],M=L!=null?L.source():null,R=L!=null?L.target():null,V=L==null?void 0:I.same(M)?R[0]:M[0],U=void 0;if(U=i(I,L,V,p++,P),U===!0)return g=I,"break";if(U===!1)return"break";for(var q=I.connectedEdges().filter(function(j){return(!o||j.source().same(I))&&m.has(j)}),$=0;$<q.length;$++){var X=q[$],B=X.connectedNodes().filter(function(j){return!j.same(I)&&v.has(j)}),H=B.id();B.length!==0&&!d[H]&&(B=B[0],l.push(B),e.bfs&&(d[H]=!0,f.push(B)),c[H]=X,h[H]=h[x]+1)}};l.length!==0;){var b=C();if(b!=="continue"&&b==="break")break}for(var k=s.collection(),S=0;S<f.length;S++){var O=f[S],N=c[O.id()];N!=null&&k.push(N),k.push(O)}return{path:s.collection(k),found:s.collection(g)}}},Eo={breadthFirstSearch:yp({bfs:!0}),depthFirstSearch:yp({dfs:!0})};Eo.bfs=Eo.breadthFirstSearch;Eo.dfs=Eo.depthFirstSearch;var Qk=kr({root:null,weight:function(e){return 1},directed:!1}),Jk={dijkstra:function(e){if(!zt(e)){var r=arguments;e={root:r[0],weight:r[1],directed:r[2]}}var n=Qk(e),i=n.root,o=n.weight,a=n.directed,s=this,u=o,l=ft(i)?this.filter(i)[0]:i[0],f={},c={},h={},d=this.byGroup(),p=d.nodes,g=d.edges;g.unmergeBy(function(P){return P.isLoop()});for(var w=function(L){return f[L.id()]},v=function(L,M){f[L.id()]=M,m.updateItem(L)},m=new Fo.default(function(P,L){return w(P)-w(L)}),y=0;y<p.length;y++){var E=p[y];f[E.id()]=E.same(l)?0:1/0,m.push(E)}for(var T=function(L,M){for(var R=(a?L.edgesTo(M):L.edgesWith(M)).intersect(g),V=1/0,U,q=0;q<R.length;q++){var $=R[q],X=u($);(X<V||!U)&&(V=X,U=$)}return{edge:U,dist:V}};m.size()>0;){var C=m.pop(),b=w(C),k=C.id();if(h[k]=b,b!==1/0)for(var S=C.neighborhood().intersect(p),O=0;O<S.length;O++){var N=S[O],D=N.id(),I=T(C,N),x=b+I.dist;x<w(N)&&(v(N,x),c[D]={node:C,edge:I.edge})}}return{distanceTo:function(L){var M=ft(L)?p.filter(L)[0]:L[0];return h[M.id()]},pathTo:function(L){var M=ft(L)?p.filter(L)[0]:L[0],R=[],V=M,U=V.id();if(M.length>0)for(R.unshift(M);c[U];){var q=c[U];R.unshift(q.edge),R.unshift(q.node),V=q.node,U=V.id()}return s.spawn(R)}}}},e2={kruskal:function(e){e=e||function(y){return 1};for(var r=this.byGroup(),n=r.nodes,i=r.edges,o=n.length,a=new Array(o),s=n,u=function(E){for(var T=0;T<a.length;T++){var C=a[T];if(C.has(E))return T}},l=0;l<o;l++)a[l]=this.spawn(n[l]);for(var f=i.sort(function(y,E){return e(y)-e(E)}),c=0;c<f.length;c++){var h=f[c],d=h.source()[0],p=h.target()[0],g=u(d),w=u(p),v=a[g],m=a[w];g!==w&&(s.merge(h),v.merge(m),a.splice(w,1))}return s}},t2=kr({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),r2={aStar:function(e){var r=this.cy(),n=t2(e),i=n.root,o=n.goal,a=n.heuristic,s=n.directed,u=n.weight;i=r.collection(i)[0],o=r.collection(o)[0];var l=i.id(),f=o.id(),c={},h={},d={},p=new Fo.default(function(U,q){return h[U.id()]-h[q.id()]}),g=new Pa,w={},v={},m=function(q,$){p.push(q),g.add($)},y,E,T=function(){y=p.pop(),E=y.id(),g.delete(E)},C=function(q){return g.has(q)};m(i,l),c[l]=0,h[l]=a(i);for(var b=0;p.size()>0;){if(T(),b++,E===f){for(var k=[],S=o,O=f,N=v[O];k.unshift(S),N!=null&&k.unshift(N),S=w[O],S!=null;)O=S.id(),N=v[O];return{found:!0,distance:c[E],path:this.spawn(k),steps:b}}d[E]=!0;for(var D=y._private.edges,I=0;I<D.length;I++){var x=D[I];if(this.hasElementWithId(x.id())&&!(s&&x.data("source")!==E)){var P=x.source(),L=x.target(),M=P.id()!==E?P:L,R=M.id();if(this.hasElementWithId(R)&&!d[R]){var V=c[E]+u(x);if(!C(R)){c[R]=V,h[R]=V+a(M),m(M,R),w[R]=y,v[R]=x;continue}V<c[R]&&(c[R]=V,h[R]=V+a(M),w[R]=y,v[R]=x)}}}}return{found:!1,distance:void 0,path:void 0,steps:b}}},n2=kr({weight:function(e){return 1},directed:!1}),i2={floydWarshall:function(e){for(var r=this.cy(),n=n2(e),i=n.weight,o=n.directed,a=i,s=this.byGroup(),u=s.nodes,l=s.edges,f=u.length,c=f*f,h=function(X){return u.indexOf(X)},d=function(X){return u[X]},p=new Array(c),g=0;g<c;g++){var w=g%f,v=(g-w)/f;v===w?p[g]=0:p[g]=1/0}for(var m=new Array(c),y=new Array(c),E=0;E<l.length;E++){var T=l[E],C=T.source()[0],b=T.target()[0];if(C!==b){var k=h(C),S=h(b),O=k*f+S,N=a(T);if(p[O]>N&&(p[O]=N,m[O]=S,y[O]=T),!o){var D=S*f+k;!o&&p[D]>N&&(p[D]=N,m[D]=k,y[D]=T)}}}for(var I=0;I<f;I++)for(var x=0;x<f;x++)for(var P=x*f+I,L=0;L<f;L++){var M=x*f+L,R=I*f+L;p[P]+p[R]<p[M]&&(p[M]=p[P]+p[R],m[M]=m[P])}var V=function(X){return(ft(X)?r.filter(X):X)[0]},U=function(X){return h(V(X))},q={distance:function(X,B){var H=U(X),j=U(B);return p[H*f+j]},path:function(X,B){var H=U(X),j=U(B),K=d(H);if(H===j)return K.collection();if(m[H*f+j]==null)return r.collection();var te=r.collection(),re=H,ue;for(te.merge(K);H!==j;)re=H,H=m[H*f+j],ue=y[re*f+H],te.merge(ue),te.merge(d(H));return te}};return q}},a2=kr({weight:function(e){return 1},directed:!1,root:null}),o2={bellmanFord:function(e){var r=this,n=a2(e),i=n.weight,o=n.directed,a=n.root,s=i,u=this,l=this.cy(),f=this.byGroup(),c=f.edges,h=f.nodes,d=h.length,p=new Pn,g=!1,w=[];a=l.collection(a)[0],c.unmergeBy(function(W){return W.isLoop()});for(var v=c.length,m=function(Y){var ie=p.get(Y.id());return ie||(ie={},p.set(Y.id(),ie)),ie},y=function(Y){return(ft(Y)?l.$(Y):Y)[0]},E=function(Y){return m(y(Y)).dist},T=function(Y){for(var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a,ve=y(Y),me=[],fe=ve;;){if(fe==null)return r.spawn();var le=m(fe),ee=le.edge,oe=le.pred;if(me.unshift(fe[0]),fe.same(ie)&&me.length>0)break;ee!=null&&me.unshift(ee),fe=oe}return u.spawn(me)},C=0;C<d;C++){var b=h[C],k=m(b);b.same(a)?k.dist=0:k.dist=1/0,k.pred=null,k.edge=null}for(var S=!1,O=function(Y,ie,ve,me,fe,le){var ee=me.dist+le;ee<fe.dist&&!ve.same(me.edge)&&(fe.dist=ee,fe.pred=Y,fe.edge=ve,S=!0)},N=1;N<d;N++){S=!1;for(var D=0;D<v;D++){var I=c[D],x=I.source(),P=I.target(),L=s(I),M=m(x),R=m(P);O(x,P,I,M,R,L),o||O(P,x,I,R,M,L)}if(!S)break}if(S)for(var V=[],U=0;U<v;U++){var q=c[U],$=q.source(),X=q.target(),B=s(q),H=m($).dist,j=m(X).dist;if(H+B<j||!o&&j+B<H)if(g||(Wt("Graph contains a negative weight cycle for Bellman-Ford"),g=!0),e.findNegativeWeightCycles!==!1){var K=[];H+B<j&&K.push($),!o&&j+B<H&&K.push(X);for(var te=K.length,re=0;re<te;re++){var ue=K[re],se=[ue];se.push(m(ue).edge);for(var de=m(ue).pred;se.indexOf(de)===-1;)se.push(de),se.push(m(de).edge),de=m(de).pred;se=se.slice(se.indexOf(de));for(var be=se[0].id(),z=0,ae=2;ae<se.length;ae+=2)se[ae].id()<be&&(be=se[ae].id(),z=ae);se=se.slice(z).concat(se.slice(0,z)),se.push(se[0]);var Z=se.map(function(W){return W.id()}).join(",");V.indexOf(Z)===-1&&(w.push(u.spawn(se)),V.push(Z))}}else break}return{distanceTo:E,pathTo:T,hasNegativeWeightCycle:g,negativeWeightCycles:w}}},s2=Math.sqrt(2),u2=function(e,r,n){n.length===0&&hr("Karger-Stein must be run on a connected (sub)graph");for(var i=n[e],o=i[1],a=i[2],s=r[o],u=r[a],l=n,f=l.length-1;f>=0;f--){var c=l[f],h=c[1],d=c[2];(r[h]===s&&r[d]===u||r[h]===u&&r[d]===s)&&l.splice(f,1)}for(var p=0;p<l.length;p++){var g=l[p];g[1]===u?(l[p]=g.slice(),l[p][1]=s):g[2]===u&&(l[p]=g.slice(),l[p][2]=s)}for(var w=0;w<r.length;w++)r[w]===u&&(r[w]=s);return l},Bu=function(e,r,n,i){for(;n>i;){var o=Math.floor(Math.random()*r.length);r=u2(o,e,r),n--}return r},l2={kargerStein:function(){var e=this,r=this.byGroup(),n=r.nodes,i=r.edges;i.unmergeBy(function(R){return R.isLoop()});var o=n.length,a=i.length,s=Math.ceil(Math.pow(Math.log(o)/Math.LN2,2)),u=Math.floor(o/s2);if(o<2){hr("At least 2 nodes are required for Karger-Stein algorithm");return}for(var l=[],f=0;f<a;f++){var c=i[f];l.push([f,n.indexOf(c.source()),n.indexOf(c.target())])}for(var h=1/0,d=[],p=new Array(o),g=new Array(o),w=new Array(o),v=function(V,U){for(var q=0;q<o;q++)U[q]=V[q]},m=0;m<=s;m++){for(var y=0;y<o;y++)g[y]=y;var E=Bu(g,l.slice(),o,u),T=E.slice();v(g,w);var C=Bu(g,E,u,2),b=Bu(w,T,u,2);C.length<=b.length&&C.length<h?(h=C.length,d=C,v(g,p)):b.length<=C.length&&b.length<h&&(h=b.length,d=b,v(w,p))}for(var k=this.spawn(d.map(function(R){return i[R[0]]})),S=this.spawn(),O=this.spawn(),N=p[0],D=0;D<p.length;D++){var I=p[D],x=n[D];I===N?S.merge(x):O.merge(x)}var P=function(V){var U=e.spawn();return V.forEach(function(q){U.merge(q),q.connectedEdges().forEach(function($){e.contains($)&&!k.contains($)&&U.merge($)})}),U},L=[P(S),P(O)],M={cut:k,components:L,partition1:S,partition2:O};return M}},f2=function(e){return{x:e.x,y:e.y}},tu=function(e,r,n){return{x:e.x*r+n.x,y:e.y*r+n.y}},Aw=function(e,r,n){return{x:(e.x-n.x)/r,y:(e.y-n.y)/r}},ya=function(e){return{x:e[0],y:e[1]}},c2=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=1/0,o=r;o<n;o++){var a=e[o];isFinite(a)&&(i=Math.min(a,i))}return i},h2=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=-1/0,o=r;o<n;o++){var a=e[o];isFinite(a)&&(i=Math.max(a,i))}return i},d2=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=0,o=0,a=r;a<n;a++){var s=e[a];isFinite(s)&&(i+=s,o++)}return i/o},v2=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;i?e=e.slice(r,n):(n<e.length&&e.splice(n,e.length-n),r>0&&e.splice(0,r));for(var s=0,u=e.length-1;u>=0;u--){var l=e[u];a?isFinite(l)||(e[u]=-1/0,s++):e.splice(u,1)}o&&e.sort(function(h,d){return h-d});var f=e.length,c=Math.floor(f/2);return f%2!==0?e[c+1+s]:(e[c-1+s]+e[c+s])/2},p2=function(e){return Math.PI*e/180},us=function(e,r){return Math.atan2(r,e)-Math.PI/2},nv=Math.log2||function(t){return Math.log(t)/Math.log(2)},Lw=function(e){return e>0?1:e<0?-1:0},Vi=function(e,r){return Math.sqrt(zi(e,r))},zi=function(e,r){var n=r.x-e.x,i=r.y-e.y;return n*n+i*i},g2=function(e){for(var r=e.length,n=0,i=0;i<r;i++)n+=e[i];for(var o=0;o<r;o++)e[o]=e[o]/n;return e},Er=function(e,r,n,i){return(1-i)*(1-i)*e+2*(1-i)*i*r+i*i*n},Ea=function(e,r,n,i){return{x:Er(e.x,r.x,n.x,i),y:Er(e.y,r.y,n.y,i)}},m2=function(e,r,n,i){var o={x:r.x-e.x,y:r.y-e.y},a=Vi(e,r),s={x:o.x/a,y:o.y/a};return n=n??0,i=i??n*a,{x:e.x+s.x*i,y:e.y+s.y*i}},xo=function(e,r,n){return Math.max(e,Math.min(n,r))},en=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},y2=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},b2=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},w2=function(e,r){e.x1=Math.min(e.x1,r.x1),e.x2=Math.max(e.x2,r.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r.y1),e.y2=Math.max(e.y2,r.y2),e.h=e.y2-e.y1},E2=function(e,r,n){e.x1=Math.min(e.x1,r),e.x2=Math.max(e.x2,r),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},Cs=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=r,e.x2+=r,e.y1-=r,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},qu=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,i,o,a;if(r.length===1)n=i=o=a=r[0];else if(r.length===2)n=o=r[0],a=i=r[1];else if(r.length===4){var s=Zn(r,4);n=s[0],i=s[1],o=s[2],a=s[3]}return e.x1-=a,e.x2+=i,e.y1-=n,e.y2+=o,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},bp=function(e,r){e.x1=r.x1,e.y1=r.y1,e.x2=r.x2,e.y2=r.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},iv=function(e,r){return!(e.x1>r.x2||r.x1>e.x2||e.x2<r.x1||r.x2<e.x1||e.y2<r.y1||r.y2<e.y1||e.y1>r.y2||r.y1>e.y2)},Ta=function(e,r,n){return e.x1<=r&&r<=e.x2&&e.y1<=n&&n<=e.y2},x2=function(e,r){return Ta(e,r.x,r.y)},Mw=function(e,r){return Ta(e,r.x1,r.y1)&&Ta(e,r.x2,r.y2)},Ow=function(e,r,n,i,o,a,s){var u=qo(o,a),l=o/2,f=a/2,c;{var h=n-l+u-s,d=i-f-s,p=n+l-u+s,g=d;if(c=yi(e,r,n,i,h,d,p,g,!1),c.length>0)return c}{var w=n+l+s,v=i-f+u-s,m=w,y=i+f-u+s;if(c=yi(e,r,n,i,w,v,m,y,!1),c.length>0)return c}{var E=n-l+u-s,T=i+f+s,C=n+l-u+s,b=T;if(c=yi(e,r,n,i,E,T,C,b,!1),c.length>0)return c}{var k=n-l-s,S=i-f+u-s,O=k,N=i+f-u+s;if(c=yi(e,r,n,i,k,S,O,N,!1),c.length>0)return c}var D;{var I=n-l+u,x=i-f+u;if(D=oo(e,r,n,i,I,x,u+s),D.length>0&&D[0]<=I&&D[1]<=x)return[D[0],D[1]]}{var P=n+l-u,L=i-f+u;if(D=oo(e,r,n,i,P,L,u+s),D.length>0&&D[0]>=P&&D[1]<=L)return[D[0],D[1]]}{var M=n+l-u,R=i+f-u;if(D=oo(e,r,n,i,M,R,u+s),D.length>0&&D[0]>=M&&D[1]>=R)return[D[0],D[1]]}{var V=n-l+u,U=i+f-u;if(D=oo(e,r,n,i,V,U,u+s),D.length>0&&D[0]<=V&&D[1]>=U)return[D[0],D[1]]}return[]},_2=function(e,r,n,i,o,a,s){var u=s,l=Math.min(n,o),f=Math.max(n,o),c=Math.min(i,a),h=Math.max(i,a);return l-u<=e&&e<=f+u&&c-u<=r&&r<=h+u},C2=function(e,r,n,i,o,a,s,u,l){var f={x1:Math.min(n,s,o)-l,x2:Math.max(n,s,o)+l,y1:Math.min(i,u,a)-l,y2:Math.max(i,u,a)+l};return!(e<f.x1||e>f.x2||r<f.y1||r>f.y2)},T2=function(e,r,n,i){n-=i;var o=r*r-4*e*n;if(o<0)return[];var a=Math.sqrt(o),s=2*e,u=(-r+a)/s,l=(-r-a)/s;return[u,l]},S2=function(e,r,n,i,o){var a=1e-5;e===0&&(e=a),r/=e,n/=e,i/=e;var s,u,l,f,c,h,d,p;if(u=(3*n-r*r)/9,l=-(27*i)+r*(9*n-2*(r*r)),l/=54,s=u*u*u+l*l,o[1]=0,d=r/3,s>0){c=l+Math.sqrt(s),c=c<0?-Math.pow(-c,1/3):Math.pow(c,1/3),h=l-Math.sqrt(s),h=h<0?-Math.pow(-h,1/3):Math.pow(h,1/3),o[0]=-d+c+h,d+=(c+h)/2,o[4]=o[2]=-d,d=Math.sqrt(3)*(-h+c)/2,o[3]=d,o[5]=-d;return}if(o[5]=o[3]=0,s===0){p=l<0?-Math.pow(-l,1/3):Math.pow(l,1/3),o[0]=-d+2*p,o[4]=o[2]=-(p+d);return}u=-u,f=u*u*u,f=Math.acos(l/Math.sqrt(f)),p=2*Math.sqrt(u),o[0]=-d+p*Math.cos(f/3),o[2]=-d+p*Math.cos((f+2*Math.PI)/3),o[4]=-d+p*Math.cos((f+4*Math.PI)/3)},D2=function(e,r,n,i,o,a,s,u){var l=1*n*n-4*n*o+2*n*s+4*o*o-4*o*s+s*s+i*i-4*i*a+2*i*u+4*a*a-4*a*u+u*u,f=1*9*n*o-3*n*n-3*n*s-6*o*o+3*o*s+9*i*a-3*i*i-3*i*u-6*a*a+3*a*u,c=1*3*n*n-6*n*o+n*s-n*e+2*o*o+2*o*e-s*e+3*i*i-6*i*a+i*u-i*r+2*a*a+2*a*r-u*r,h=1*n*o-n*n+n*e-o*e+i*a-i*i+i*r-a*r,d=[];S2(l,f,c,h,d);for(var p=1e-7,g=[],w=0;w<6;w+=2)Math.abs(d[w+1])<p&&d[w]>=0&&d[w]<=1&&g.push(d[w]);g.push(1),g.push(0);for(var v=-1,m,y,E,T=0;T<g.length;T++)m=Math.pow(1-g[T],2)*n+2*(1-g[T])*g[T]*o+g[T]*g[T]*s,y=Math.pow(1-g[T],2)*i+2*(1-g[T])*g[T]*a+g[T]*g[T]*u,E=Math.pow(m-e,2)+Math.pow(y-r,2),v>=0?E<v&&(v=E):v=E;return v},k2=function(e,r,n,i,o,a){var s=[e-n,r-i],u=[o-n,a-i],l=u[0]*u[0]+u[1]*u[1],f=s[0]*s[0]+s[1]*s[1],c=s[0]*u[0]+s[1]*u[1],h=c*c/l;return c<0?f:h>l?(e-o)*(e-o)+(r-a)*(r-a):f-h},Kr=function(e,r,n){for(var i,o,a,s,u,l=0,f=0;f<n.length/2;f++)if(i=n[f*2],o=n[f*2+1],f+1<n.length/2?(a=n[(f+1)*2],s=n[(f+1)*2+1]):(a=n[(f+1-n.length/2)*2],s=n[(f+1-n.length/2)*2+1]),!(i==e&&a==e))if(i>=e&&e>=a||i<=e&&e<=a)u=(e-i)/(a-i)*(s-o)+o,u>r&&l++;else continue;return l%2!==0},ti=function(e,r,n,i,o,a,s,u,l){var f=new Array(n.length),c;u[0]!=null?(c=Math.atan(u[1]/u[0]),u[0]<0?c=c+Math.PI/2:c=-c-Math.PI/2):c=u;for(var h=Math.cos(-c),d=Math.sin(-c),p=0;p<f.length/2;p++)f[p*2]=a/2*(n[p*2]*h-n[p*2+1]*d),f[p*2+1]=s/2*(n[p*2+1]*h+n[p*2]*d),f[p*2]+=i,f[p*2+1]+=o;var g;if(l>0){var w=Iw(f,-l);g=Nw(w)}else g=f;return Kr(e,r,g)},A2=function(e,r,n,i,o,a,s){for(var u=new Array(n.length),l=a/2,f=s/2,c=av(a,s),h=c*c,d=0;d<n.length/4;d++){var p=void 0,g=void 0;d===0?p=n.length-2:p=d*4-2,g=d*4+2;var w=i+l*n[d*4],v=o+f*n[d*4+1],m=-n[p]*n[g]-n[p+1]*n[g+1],y=c/Math.tan(Math.acos(m)/2),E=w-y*n[p],T=v-y*n[p+1],C=w+y*n[g],b=v+y*n[g+1];u[d*4]=E,u[d*4+1]=T,u[d*4+2]=C,u[d*4+3]=b;var k=n[p+1],S=-n[p],O=k*n[g]+S*n[g+1];O<0&&(k*=-1,S*=-1);var N=E+k*c,D=T+S*c,I=Math.pow(N-e,2)+Math.pow(D-r,2);if(I<=h)return!0}return Kr(e,r,u)},Nw=function(e){for(var r=new Array(e.length/2),n,i,o,a,s,u,l,f,c=0;c<e.length/4;c++){n=e[c*4],i=e[c*4+1],o=e[c*4+2],a=e[c*4+3],c<e.length/4-1?(s=e[(c+1)*4],u=e[(c+1)*4+1],l=e[(c+1)*4+2],f=e[(c+1)*4+3]):(s=e[0],u=e[1],l=e[2],f=e[3]);var h=yi(n,i,o,a,s,u,l,f,!0);r[c*2]=h[0],r[c*2+1]=h[1]}return r},Iw=function(e,r){for(var n=new Array(e.length*2),i,o,a,s,u=0;u<e.length/2;u++){i=e[u*2],o=e[u*2+1],u<e.length/2-1?(a=e[(u+1)*2],s=e[(u+1)*2+1]):(a=e[0],s=e[1]);var l=s-o,f=-(a-i),c=Math.sqrt(l*l+f*f),h=l/c,d=f/c;n[u*4]=i+h*r,n[u*4+1]=o+d*r,n[u*4+2]=a+h*r,n[u*4+3]=s+d*r}return n},L2=function(e,r,n,i,o,a){var s=n-e,u=i-r;s/=o,u/=a;var l=Math.sqrt(s*s+u*u),f=l-1;if(f<0)return[];var c=f/l;return[(n-e)*c+e,(i-r)*c+r]},$i=function(e,r,n,i,o,a,s){return e-=o,r-=a,e/=n/2+s,r/=i/2+s,e*e+r*r<=1},oo=function(e,r,n,i,o,a,s){var u=[n-e,i-r],l=[e-o,r-a],f=u[0]*u[0]+u[1]*u[1],c=2*(l[0]*u[0]+l[1]*u[1]),h=l[0]*l[0]+l[1]*l[1]-s*s,d=c*c-4*f*h;if(d<0)return[];var p=(-c+Math.sqrt(d))/(2*f),g=(-c-Math.sqrt(d))/(2*f),w=Math.min(p,g),v=Math.max(p,g),m=[];if(w>=0&&w<=1&&m.push(w),v>=0&&v<=1&&m.push(v),m.length===0)return[];var y=m[0]*u[0]+e,E=m[0]*u[1]+r;if(m.length>1){if(m[0]==m[1])return[y,E];var T=m[1]*u[0]+e,C=m[1]*u[1]+r;return[y,E,T,C]}else return[y,E]},$u=function(e,r,n){return r<=e&&e<=n||n<=e&&e<=r?e:e<=r&&r<=n||n<=r&&r<=e?r:n},yi=function(e,r,n,i,o,a,s,u,l){var f=e-o,c=n-e,h=s-o,d=r-a,p=i-r,g=u-a,w=h*d-g*f,v=c*d-p*f,m=g*c-h*p;if(m!==0){var y=w/m,E=v/m,T=.001,C=0-T,b=1+T;return C<=y&&y<=b&&C<=E&&E<=b?[e+y*c,r+y*p]:l?[e+y*c,r+y*p]:[]}else return w===0||v===0?$u(e,n,s)===s?[s,u]:$u(e,n,o)===o?[o,a]:$u(o,s,n)===n?[n,i]:[]:[]},_o=function(e,r,n,i,o,a,s,u){var l=[],f,c=new Array(n.length),h=!0;a==null&&(h=!1);var d;if(h){for(var p=0;p<c.length/2;p++)c[p*2]=n[p*2]*a+i,c[p*2+1]=n[p*2+1]*s+o;if(u>0){var g=Iw(c,-u);d=Nw(g)}else d=c}else d=n;for(var w,v,m,y,E=0;E<d.length/2;E++)w=d[E*2],v=d[E*2+1],E<d.length/2-1?(m=d[(E+1)*2],y=d[(E+1)*2+1]):(m=d[0],y=d[1]),f=yi(e,r,i,o,w,v,m,y),f.length!==0&&l.push(f[0],f[1]);return l},M2=function(e,r,n,i,o,a,s,u){for(var l=[],f,c=new Array(n.length),h=a/2,d=s/2,p=av(a,s),g=0;g<n.length/4;g++){var w=void 0,v=void 0;g===0?w=n.length-2:w=g*4-2,v=g*4+2;var m=i+h*n[g*4],y=o+d*n[g*4+1],E=-n[w]*n[v]-n[w+1]*n[v+1],T=p/Math.tan(Math.acos(E)/2),C=m-T*n[w],b=y-T*n[w+1],k=m+T*n[v],S=y+T*n[v+1];g===0?(c[n.length-2]=C,c[n.length-1]=b):(c[g*4-2]=C,c[g*4-1]=b),c[g*4]=k,c[g*4+1]=S;var O=n[w+1],N=-n[w],D=O*n[v]+N*n[v+1];D<0&&(O*=-1,N*=-1);var I=C+O*p,x=b+N*p;f=oo(e,r,i,o,I,x,p),f.length!==0&&l.push(f[0],f[1])}for(var P=0;P<c.length/4;P++)f=yi(e,r,i,o,c[P*4],c[P*4+1],c[P*4+2],c[P*4+3],!1),f.length!==0&&l.push(f[0],f[1]);if(l.length>2){for(var L=[l[0],l[1]],M=Math.pow(L[0]-e,2)+Math.pow(L[1]-r,2),R=1;R<l.length/2;R++){var V=Math.pow(l[R*2]-e,2)+Math.pow(l[R*2+1]-r,2);V<=M&&(L[0]=l[R*2],L[1]=l[R*2+1],M=V)}return L}return l},ls=function(e,r,n){var i=[e[0]-r[0],e[1]-r[1]],o=Math.sqrt(i[0]*i[0]+i[1]*i[1]),a=(o-n)/o;return a<0&&(a=1e-5),[r[0]+a*i[0],r[1]+a*i[1]]},Hr=function(e,r){var n=Ad(e,r);return n=Pw(n),n},Pw=function(e){for(var r,n,i=e.length/2,o=1/0,a=1/0,s=-1/0,u=-1/0,l=0;l<i;l++)r=e[2*l],n=e[2*l+1],o=Math.min(o,r),s=Math.max(s,r),a=Math.min(a,n),u=Math.max(u,n);for(var f=2/(s-o),c=2/(u-a),h=0;h<i;h++)r=e[2*h]=e[2*h]*f,n=e[2*h+1]=e[2*h+1]*c,o=Math.min(o,r),s=Math.max(s,r),a=Math.min(a,n),u=Math.max(u,n);if(a<-1)for(var d=0;d<i;d++)n=e[2*d+1]=e[2*d+1]+(-1-a);return e},Ad=function(e,r){var n=1/e*2*Math.PI,i=e%2===0?Math.PI/2+n/2:Math.PI/2;i+=r;for(var o=new Array(e*2),a,s=0;s<e;s++)a=s*n+i,o[2*s]=Math.cos(a),o[2*s+1]=Math.sin(-a);return o},qo=function(e,r){return Math.min(e/4,r/4,8)},av=function(e,r){return Math.min(e/10,r/10,8)},Rw=function(){return 8},O2=function(e,r,n){return[e-2*r+n,2*(r-e),e]},Ld=function(e,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},N2=kr({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),I2={pageRank:function(e){for(var r=N2(e),n=r.dampingFactor,i=r.precision,o=r.iterations,a=r.weight,s=this._private.cy,u=this.byGroup(),l=u.nodes,f=u.edges,c=l.length,h=c*c,d=f.length,p=new Array(h),g=new Array(c),w=(1-n)/c,v=0;v<c;v++){for(var m=0;m<c;m++){var y=v*c+m;p[y]=0}g[v]=0}for(var E=0;E<d;E++){var T=f[E],C=T.data("source"),b=T.data("target");if(C!==b){var k=l.indexOfId(C),S=l.indexOfId(b),O=a(T),N=S*c+k;p[N]+=O,g[k]+=O}}for(var D=1/c+w,I=0;I<c;I++)if(g[I]===0)for(var x=0;x<c;x++){var P=x*c+I;p[P]=D}else for(var L=0;L<c;L++){var M=L*c+I;p[M]=p[M]/g[I]+w}for(var R=new Array(c),V=new Array(c),U,q=0;q<c;q++)R[q]=1;for(var $=0;$<o;$++){for(var X=0;X<c;X++)V[X]=0;for(var B=0;B<c;B++)for(var H=0;H<c;H++){var j=B*c+H;V[B]+=p[j]*R[H]}g2(V),U=R,R=V,V=U;for(var K=0,te=0;te<c;te++){var re=U[te]-R[te];K+=re*re}if(K<i)break}var ue={rank:function(de){return de=s.collection(de)[0],R[l.indexOf(de)]}};return ue}},wp=kr({root:null,weight:function(e){return 1},directed:!1,alpha:0}),xa={degreeCentralityNormalized:function(e){e=wp(e);var r=this.cy(),n=this.nodes(),i=n.length;if(e.directed){for(var f={},c={},h=0,d=0,p=0;p<i;p++){var g=n[p],w=g.id();e.root=g;var v=this.degreeCentrality(e);h<v.indegree&&(h=v.indegree),d<v.outdegree&&(d=v.outdegree),f[w]=v.indegree,c[w]=v.outdegree}return{indegree:function(y){return h==0?0:(ft(y)&&(y=r.filter(y)),f[y.id()]/h)},outdegree:function(y){return d===0?0:(ft(y)&&(y=r.filter(y)),c[y.id()]/d)}}}else{for(var o={},a=0,s=0;s<i;s++){var u=n[s];e.root=u;var l=this.degreeCentrality(e);a<l.degree&&(a=l.degree),o[u.id()]=l.degree}return{degree:function(y){return a===0?0:(ft(y)&&(y=r.filter(y)),o[y.id()]/a)}}}},degreeCentrality:function(e){e=wp(e);var r=this.cy(),n=this,i=e,o=i.root,a=i.weight,s=i.directed,u=i.alpha;if(o=r.collection(o)[0],s){for(var d=o.connectedEdges(),p=d.filter(function(C){return C.target().same(o)&&n.has(C)}),g=d.filter(function(C){return C.source().same(o)&&n.has(C)}),w=p.length,v=g.length,m=0,y=0,E=0;E<p.length;E++)m+=a(p[E]);for(var T=0;T<g.length;T++)y+=a(g[T]);return{indegree:Math.pow(w,1-u)*Math.pow(m,u),outdegree:Math.pow(v,1-u)*Math.pow(y,u)}}else{for(var l=o.connectedEdges().intersection(n),f=l.length,c=0,h=0;h<l.length;h++)c+=a(l[h]);return{degree:Math.pow(f,1-u)*Math.pow(c,u)}}}};xa.dc=xa.degreeCentrality;xa.dcn=xa.degreeCentralityNormalised=xa.degreeCentralityNormalized;var Ep=kr({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),_a={closenessCentralityNormalized:function(e){for(var r=Ep(e),n=r.harmonic,i=r.weight,o=r.directed,a=this.cy(),s={},u=0,l=this.nodes(),f=this.floydWarshall({weight:i,directed:o}),c=0;c<l.length;c++){for(var h=0,d=l[c],p=0;p<l.length;p++)if(c!==p){var g=f.distance(d,l[p]);n?h+=1/g:h+=g}n||(h=1/h),u<h&&(u=h),s[d.id()]=h}return{closeness:function(v){return u==0?0:(ft(v)?v=a.filter(v)[0].id():v=v.id(),s[v]/u)}}},closenessCentrality:function(e){var r=Ep(e),n=r.root,i=r.weight,o=r.directed,a=r.harmonic;n=this.filter(n)[0];for(var s=this.dijkstra({root:n,weight:i,directed:o}),u=0,l=this.nodes(),f=0;f<l.length;f++){var c=l[f];if(!c.same(n)){var h=s.distanceTo(c);a?u+=1/h:u+=h}}return a?u:1/u}};_a.cc=_a.closenessCentrality;_a.ccn=_a.closenessCentralityNormalised=_a.closenessCentralityNormalized;var P2=kr({weight:null,directed:!1}),Md={betweennessCentrality:function(e){for(var r=P2(e),n=r.directed,i=r.weight,o=i!=null,a=this.cy(),s=this.nodes(),u={},l={},f=0,c={set:function(y,E){l[y]=E,E>f&&(f=E)},get:function(y){return l[y]}},h=0;h<s.length;h++){var d=s[h],p=d.id();n?u[p]=d.outgoers().nodes():u[p]=d.openNeighborhood().nodes(),c.set(p,0)}for(var g=function(y){for(var E=s[y].id(),T=[],C={},b={},k={},S=new Fo.default(function(H,j){return k[H]-k[j]}),O=0;O<s.length;O++){var N=s[O].id();C[N]=[],b[N]=0,k[N]=1/0}for(b[E]=1,k[E]=0,S.push(E);!S.empty();){var D=S.pop();if(T.push(D),o)for(var I=0;I<u[D].length;I++){var x=u[D][I],P=a.getElementById(D),L=void 0;P.edgesTo(x).length>0?L=P.edgesTo(x)[0]:L=x.edgesTo(P)[0];var M=i(L);x=x.id(),k[x]>k[D]+M&&(k[x]=k[D]+M,S.nodes.indexOf(x)<0?S.push(x):S.updateItem(x),b[x]=0,C[x]=[]),k[x]==k[D]+M&&(b[x]=b[x]+b[D],C[x].push(D))}else for(var R=0;R<u[D].length;R++){var V=u[D][R].id();k[V]==1/0&&(S.push(V),k[V]=k[D]+1),k[V]==k[D]+1&&(b[V]=b[V]+b[D],C[V].push(D))}}for(var U={},q=0;q<s.length;q++)U[s[q].id()]=0;for(;T.length>0;){for(var $=T.pop(),X=0;X<C[$].length;X++){var B=C[$][X];U[B]=U[B]+b[B]/b[$]*(1+U[$])}$!=s[y].id()&&c.set($,c.get($)+U[$])}},w=0;w<s.length;w++)g(w);var v={betweenness:function(y){var E=a.collection(y).id();return c.get(E)},betweennessNormalized:function(y){if(f==0)return 0;var E=a.collection(y).id();return c.get(E)/f}};return v.betweennessNormalised=v.betweennessNormalized,v}};Md.bc=Md.betweennessCentrality;var R2=kr({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),F2=function(e){return R2(e)},z2=function(e,r){for(var n=0,i=0;i<r.length;i++)n+=r[i](e);return n},B2=function(e,r,n){for(var i=0;i<r;i++)e[i*r+i]=n},Fw=function(e,r){for(var n,i=0;i<r;i++){n=0;for(var o=0;o<r;o++)n+=e[o*r+i];for(var a=0;a<r;a++)e[a*r+i]=e[a*r+i]/n}},q2=function(e,r,n){for(var i=new Array(n*n),o=0;o<n;o++){for(var a=0;a<n;a++)i[o*n+a]=0;for(var s=0;s<n;s++)for(var u=0;u<n;u++)i[o*n+u]+=e[o*n+s]*r[s*n+u]}return i},$2=function(e,r,n){for(var i=e.slice(0),o=1;o<n;o++)e=q2(e,i,r);return e},G2=function(e,r,n){for(var i=new Array(r*r),o=0;o<r*r;o++)i[o]=Math.pow(e[o],n);return Fw(i,r),i},H2=function(e,r,n,i){for(var o=0;o<n;o++){var a=Math.round(e[o]*Math.pow(10,i))/Math.pow(10,i),s=Math.round(r[o]*Math.pow(10,i))/Math.pow(10,i);if(a!==s)return!1}return!0},U2=function(e,r,n,i){for(var o=[],a=0;a<r;a++){for(var s=[],u=0;u<r;u++)Math.round(e[a*r+u]*1e3)/1e3>0&&s.push(n[u]);s.length!==0&&o.push(i.collection(s))}return o},V2=function(e,r){for(var n=0;n<e.length;n++)if(!r[n]||e[n].id()!==r[n].id())return!1;return!0},W2=function(e){for(var r=0;r<e.length;r++)for(var n=0;n<e.length;n++)r!=n&&V2(e[r],e[n])&&e.splice(n,1);return e},xp=function(e){for(var r=this.nodes(),n=this.edges(),i=this.cy(),o=F2(e),a={},s=0;s<r.length;s++)a[r[s].id()]=s;for(var u=r.length,l=u*u,f=new Array(l),c,h=0;h<l;h++)f[h]=0;for(var d=0;d<n.length;d++){var p=n[d],g=a[p.source().id()],w=a[p.target().id()],v=z2(p,o.attributes);f[g*u+w]+=v,f[w*u+g]+=v}B2(f,u,o.multFactor),Fw(f,u);for(var m=!0,y=0;m&&y<o.maxIterations;)m=!1,c=$2(f,u,o.expandFactor),f=G2(c,u,o.inflateFactor),H2(f,c,l,4)||(m=!0),y++;var E=U2(f,u,r,i);return E=W2(E),E},Y2={markovClustering:xp,mcl:xp},X2=function(e){return e},zw=function(e,r){return Math.abs(r-e)},_p=function(e,r,n){return e+zw(r,n)},Cp=function(e,r,n){return e+Math.pow(n-r,2)},j2=function(e){return Math.sqrt(e)},K2=function(e,r,n){return Math.max(e,zw(r,n))},Ka=function(e,r,n,i,o){for(var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:X2,s=i,u,l,f=0;f<e;f++)u=r(f),l=n(f),s=o(s,u,l);return a(s)},Sa={euclidean:function(e,r,n){return e>=2?Ka(e,r,n,0,Cp,j2):Ka(e,r,n,0,_p)},squaredEuclidean:function(e,r,n){return Ka(e,r,n,0,Cp)},manhattan:function(e,r,n){return Ka(e,r,n,0,_p)},max:function(e,r,n){return Ka(e,r,n,-1/0,K2)}};Sa["squared-euclidean"]=Sa.squaredEuclidean;Sa.squaredeuclidean=Sa.squaredEuclidean;function ru(t,e,r,n,i,o){var a;return ur(t)?a=t:a=Sa[t]||Sa.euclidean,e===0&&ur(t)?a(i,o):a(e,r,n,i,o)}var Z2=kr({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),ov=function(e){return Z2(e)},Ps=function(e,r,n,i,o){var a=o!=="kMedoids",s=a?function(c){return n[c]}:function(c){return i[c](n)},u=function(h){return i[h](r)},l=n,f=r;return ru(e,i.length,s,u,l,f)},Gu=function(e,r,n){for(var i=n.length,o=new Array(i),a=new Array(i),s=new Array(r),u=null,l=0;l<i;l++)o[l]=e.min(n[l]).value,a[l]=e.max(n[l]).value;for(var f=0;f<r;f++){u=[];for(var c=0;c<i;c++)u[c]=Math.random()*(a[c]-o[c])+o[c];s[f]=u}return s},Bw=function(e,r,n,i,o){for(var a=1/0,s=0,u=0;u<r.length;u++){var l=Ps(n,e,r[u],i,o);l<a&&(a=l,s=u)}return s},qw=function(e,r,n){for(var i=[],o=null,a=0;a<r.length;a++)o=r[a],n[o.id()]===e&&i.push(o);return i},Q2=function(e,r,n){return Math.abs(r-e)<=n},J2=function(e,r,n){for(var i=0;i<e.length;i++)for(var o=0;o<e[i].length;o++){var a=Math.abs(e[i][o]-r[i][o]);if(a>n)return!1}return!0},eA=function(e,r,n){for(var i=0;i<n;i++)if(e===r[i])return!0;return!1},Tp=function(e,r){var n=new Array(r);if(e.length<50)for(var i=0;i<r;i++){for(var o=e[Math.floor(Math.random()*e.length)];eA(o,n,i);)o=e[Math.floor(Math.random()*e.length)];n[i]=o}else for(var a=0;a<r;a++)n[a]=e[Math.floor(Math.random()*e.length)];return n},Sp=function(e,r,n){for(var i=0,o=0;o<r.length;o++)i+=Ps("manhattan",r[o],e,n,"kMedoids");return i},tA=function(e){var r=this.cy(),n=this.nodes(),i=null,o=ov(e),a=new Array(o.k),s={},u;o.testMode?typeof o.testCentroids=="number"?(o.testCentroids,u=Gu(n,o.k,o.attributes)):yr(o.testCentroids)==="object"?u=o.testCentroids:u=Gu(n,o.k,o.attributes):u=Gu(n,o.k,o.attributes);for(var l=!0,f=0;l&&f<o.maxIterations;){for(var c=0;c<n.length;c++)i=n[c],s[i.id()]=Bw(i,u,o.distance,o.attributes,"kMeans");l=!1;for(var h=0;h<o.k;h++){var d=qw(h,n,s);if(d.length!==0){for(var p=o.attributes.length,g=u[h],w=new Array(p),v=new Array(p),m=0;m<p;m++){v[m]=0;for(var y=0;y<d.length;y++)i=d[y],v[m]+=o.attributes[m](i);w[m]=v[m]/d.length,Q2(w[m],g[m],o.sensitivityThreshold)||(l=!0)}u[h]=w,a[h]=r.collection(d)}}f++}return a},rA=function(e){var r=this.cy(),n=this.nodes(),i=null,o=ov(e),a=new Array(o.k),s,u={},l,f=new Array(o.k);o.testMode?typeof o.testCentroids=="number"||(yr(o.testCentroids)==="object"?s=o.testCentroids:s=Tp(n,o.k)):s=Tp(n,o.k);for(var c=!0,h=0;c&&h<o.maxIterations;){for(var d=0;d<n.length;d++)i=n[d],u[i.id()]=Bw(i,s,o.distance,o.attributes,"kMedoids");c=!1;for(var p=0;p<s.length;p++){var g=qw(p,n,u);if(g.length!==0){f[p]=Sp(s[p],g,o.attributes);for(var w=0;w<g.length;w++)l=Sp(g[w],g,o.attributes),l<f[p]&&(f[p]=l,s[p]=g[w],c=!0);a[p]=r.collection(g)}}h++}return a},nA=function(e,r,n,i,o){for(var a,s,u=0;u<r.length;u++)for(var l=0;l<e.length;l++)i[u][l]=Math.pow(n[u][l],o.m);for(var f=0;f<e.length;f++)for(var c=0;c<o.attributes.length;c++){a=0,s=0;for(var h=0;h<r.length;h++)a+=i[h][f]*o.attributes[c](r[h]),s+=i[h][f];e[f][c]=a/s}},iA=function(e,r,n,i,o){for(var a=0;a<e.length;a++)r[a]=e[a].slice();for(var s,u,l,f=2/(o.m-1),c=0;c<n.length;c++)for(var h=0;h<i.length;h++){s=0;for(var d=0;d<n.length;d++)u=Ps(o.distance,i[h],n[c],o.attributes,"cmeans"),l=Ps(o.distance,i[h],n[d],o.attributes,"cmeans"),s+=Math.pow(u/l,f);e[h][c]=1/s}},aA=function(e,r,n,i){for(var o=new Array(n.k),a=0;a<o.length;a++)o[a]=[];for(var s,u,l=0;l<r.length;l++){s=-1/0,u=-1;for(var f=0;f<r[0].length;f++)r[l][f]>s&&(s=r[l][f],u=f);o[u].push(e[l])}for(var c=0;c<o.length;c++)o[c]=i.collection(o[c]);return o},Dp=function(e){var r=this.cy(),n=this.nodes(),i=ov(e),o,a,s,u,l;u=new Array(n.length);for(var f=0;f<n.length;f++)u[f]=new Array(i.k);s=new Array(n.length);for(var c=0;c<n.length;c++)s[c]=new Array(i.k);for(var h=0;h<n.length;h++){for(var d=0,p=0;p<i.k;p++)s[h][p]=Math.random(),d+=s[h][p];for(var g=0;g<i.k;g++)s[h][g]=s[h][g]/d}a=new Array(i.k);for(var w=0;w<i.k;w++)a[w]=new Array(i.attributes.length);l=new Array(n.length);for(var v=0;v<n.length;v++)l[v]=new Array(i.k);for(var m=!0,y=0;m&&y<i.maxIterations;)m=!1,nA(a,n,s,l,i),iA(s,u,a,n,i),J2(s,u,i.sensitivityThreshold)||(m=!0),y++;return o=aA(n,s,i,r),{clusters:o,degreeOfMembership:s}},oA={kMeans:tA,kMedoids:rA,fuzzyCMeans:Dp,fcm:Dp},sA=kr({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),uA={single:"min",complete:"max"},lA=function(e){var r=sA(e),n=uA[r.linkage];return n!=null&&(r.linkage=n),r},kp=function(e,r,n,i,o){for(var a=0,s=1/0,u,l=o.attributes,f=function(S,O){return ru(o.distance,l.length,function(N){return l[N](S)},function(N){return l[N](O)},S,O)},c=0;c<e.length;c++){var h=e[c].key,d=n[h][i[h]];d<s&&(a=h,s=d)}if(o.mode==="threshold"&&s>=o.threshold||o.mode==="dendrogram"&&e.length===1)return!1;var p=r[a],g=r[i[a]],w;o.mode==="dendrogram"?w={left:p,right:g,key:p.key}:w={value:p.value.concat(g.value),key:p.key},e[p.index]=w,e.splice(g.index,1),r[p.key]=w;for(var v=0;v<e.length;v++){var m=e[v];p.key===m.key?u=1/0:o.linkage==="min"?(u=n[p.key][m.key],n[p.key][m.key]>n[g.key][m.key]&&(u=n[g.key][m.key])):o.linkage==="max"?(u=n[p.key][m.key],n[p.key][m.key]<n[g.key][m.key]&&(u=n[g.key][m.key])):o.linkage==="mean"?u=(n[p.key][m.key]*p.size+n[g.key][m.key]*g.size)/(p.size+g.size):o.mode==="dendrogram"?u=f(m.value,p.value):u=f(m.value[0],p.value[0]),n[p.key][m.key]=n[m.key][p.key]=u}for(var y=0;y<e.length;y++){var E=e[y].key;if(i[E]===p.key||i[E]===g.key){for(var T=E,C=0;C<e.length;C++){var b=e[C].key;n[E][b]<n[E][T]&&(T=b)}i[E]=T}e[y].index=y}return p.key=g.key=p.index=g.index=null,!0},fs=function t(e,r,n){e&&(e.value?r.push(e.value):(e.left&&t(e.left,r),e.right&&t(e.right,r)))},fA=function t(e,r){if(!e)return"";if(e.left&&e.right){var n=t(e.left,r),i=t(e.right,r),o=r.add({group:"nodes",data:{id:n+","+i}});return r.add({group:"edges",data:{source:n,target:o.id()}}),r.add({group:"edges",data:{source:i,target:o.id()}}),o.id()}else if(e.value)return e.value.id()},cA=function t(e,r,n){if(!e)return[];var i=[],o=[],a=[];return r===0?(e.left&&fs(e.left,i),e.right&&fs(e.right,o),a=i.concat(o),[n.collection(a)]):r===1?e.value?[n.collection(e.value)]:(e.left&&fs(e.left,i),e.right&&fs(e.right,o),[n.collection(i),n.collection(o)]):e.value?[n.collection(e.value)]:(e.left&&(i=t(e.left,r-1,n)),e.right&&(o=t(e.right,r-1,n)),i.concat(o))},Ap=function(e){for(var r=this.cy(),n=this.nodes(),i=lA(e),o=i.attributes,a=function(y,E){return ru(i.distance,o.length,function(T){return o[T](y)},function(T){return o[T](E)},y,E)},s=[],u=[],l=[],f=[],c=0;c<n.length;c++){var h={value:i.mode==="dendrogram"?n[c]:[n[c]],key:c,index:c};s[c]=h,f[c]=h,u[c]=[],l[c]=0}for(var d=0;d<s.length;d++)for(var p=0;p<=d;p++){var g=void 0;i.mode==="dendrogram"?g=d===p?1/0:a(s[d].value,s[p].value):g=d===p?1/0:a(s[d].value[0],s[p].value[0]),u[d][p]=g,u[p][d]=g,g<u[d][l[d]]&&(l[d]=p)}for(var w=kp(s,f,u,l,i);w;)w=kp(s,f,u,l,i);var v;return i.mode==="dendrogram"?(v=cA(s[0],i.dendrogramDepth,r),i.addDendrogram&&fA(s[0],r)):(v=new Array(s.length),s.forEach(function(m,y){m.key=m.index=null,v[y]=r.collection(m.value)})),v},hA={hierarchicalClustering:Ap,hca:Ap},dA=kr({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),vA=function(e){var r=e.damping,n=e.preference;.5<=r&&r<1||hr("Damping must range on [0.5, 1).  Got: ".concat(r));var i=["median","mean","min","max"];return i.some(function(o){return o===n})||Xe(n)||hr("Preference must be one of [".concat(i.map(function(o){return"'".concat(o,"'")}).join(", "),"] or a number.  Got: ").concat(n)),dA(e)},pA=function(e,r,n,i){var o=function(s,u){return i[u](s)};return-ru(e,i.length,function(a){return o(r,a)},function(a){return o(n,a)},r,n)},gA=function(e,r){var n=null;return r==="median"?n=v2(e):r==="mean"?n=d2(e):r==="min"?n=c2(e):r==="max"?n=h2(e):n=r,n},mA=function(e,r,n){for(var i=[],o=0;o<e;o++)r[o*e+o]+n[o*e+o]>0&&i.push(o);return i},Lp=function(e,r,n){for(var i=[],o=0;o<e;o++){for(var a=-1,s=-1/0,u=0;u<n.length;u++){var l=n[u];r[o*e+l]>s&&(a=l,s=r[o*e+l])}a>0&&i.push(a)}for(var f=0;f<n.length;f++)i[n[f]]=n[f];return i},yA=function(e,r,n){for(var i=Lp(e,r,n),o=0;o<n.length;o++){for(var a=[],s=0;s<i.length;s++)i[s]===n[o]&&a.push(s);for(var u=-1,l=-1/0,f=0;f<a.length;f++){for(var c=0,h=0;h<a.length;h++)c+=r[a[h]*e+a[f]];c>l&&(u=f,l=c)}n[o]=a[u]}return i=Lp(e,r,n),i},Mp=function(e){for(var r=this.cy(),n=this.nodes(),i=vA(e),o={},a=0;a<n.length;a++)o[n[a].id()]=a;var s,u,l,f,c,h;s=n.length,u=s*s,l=new Array(u);for(var d=0;d<u;d++)l[d]=-1/0;for(var p=0;p<s;p++)for(var g=0;g<s;g++)p!==g&&(l[p*s+g]=pA(i.distance,n[p],n[g],i.attributes));f=gA(l,i.preference);for(var w=0;w<s;w++)l[w*s+w]=f;c=new Array(u);for(var v=0;v<u;v++)c[v]=0;h=new Array(u);for(var m=0;m<u;m++)h[m]=0;for(var y=new Array(s),E=new Array(s),T=new Array(s),C=0;C<s;C++)y[C]=0,E[C]=0,T[C]=0;for(var b=new Array(s*i.minIterations),k=0;k<b.length;k++)b[k]=0;var S;for(S=0;S<i.maxIterations;S++){for(var O=0;O<s;O++){for(var N=-1/0,D=-1/0,I=-1,x=0,P=0;P<s;P++)y[P]=c[O*s+P],x=h[O*s+P]+l[O*s+P],x>=N?(D=N,N=x,I=P):x>D&&(D=x);for(var L=0;L<s;L++)c[O*s+L]=(1-i.damping)*(l[O*s+L]-N)+i.damping*y[L];c[O*s+I]=(1-i.damping)*(l[O*s+I]-D)+i.damping*y[I]}for(var M=0;M<s;M++){for(var R=0,V=0;V<s;V++)y[V]=h[V*s+M],E[V]=Math.max(0,c[V*s+M]),R+=E[V];R-=E[M],E[M]=c[M*s+M],R+=E[M];for(var U=0;U<s;U++)h[U*s+M]=(1-i.damping)*Math.min(0,R-E[U])+i.damping*y[U];h[M*s+M]=(1-i.damping)*(R-E[M])+i.damping*y[M]}for(var q=0,$=0;$<s;$++){var X=h[$*s+$]+c[$*s+$]>0?1:0;b[S%i.minIterations*s+$]=X,q+=X}if(q>0&&(S>=i.minIterations-1||S==i.maxIterations-1)){for(var B=0,H=0;H<s;H++){T[H]=0;for(var j=0;j<i.minIterations;j++)T[H]+=b[j*s+H];(T[H]===0||T[H]===i.minIterations)&&B++}if(B===s)break}}for(var K=mA(s,c,h),te=yA(s,l,K),re={},ue=0;ue<K.length;ue++)re[K[ue]]=[];for(var se=0;se<n.length;se++){var de=o[n[se].id()],be=te[de];be!=null&&re[be].push(n[se])}for(var z=new Array(K.length),ae=0;ae<K.length;ae++)z[ae]=r.collection(re[K[ae]]);return z},bA={affinityPropagation:Mp,ap:Mp},wA=kr({root:void 0,directed:!1}),EA={hierholzer:function(e){if(!zt(e)){var r=arguments;e={root:r[0],directed:r[1]}}var n=wA(e),i=n.root,o=n.directed,a=this,s=!1,u,l,f;i&&(f=ft(i)?this.filter(i)[0].id():i[0].id());var c={},h={};o?a.forEach(function(m){var y=m.id();if(m.isNode()){var E=m.indegree(!0),T=m.outdegree(!0),C=E-T,b=T-E;C==1?u?s=!0:u=y:b==1?l?s=!0:l=y:(b>1||C>1)&&(s=!0),c[y]=[],m.outgoers().forEach(function(k){k.isEdge()&&c[y].push(k.id())})}else h[y]=[void 0,m.target().id()]}):a.forEach(function(m){var y=m.id();if(m.isNode()){var E=m.degree(!0);E%2&&(u?l?s=!0:l=y:u=y),c[y]=[],m.connectedEdges().forEach(function(T){return c[y].push(T.id())})}else h[y]=[m.source().id(),m.target().id()]});var d={found:!1,trail:void 0};if(s)return d;if(l&&u)if(o){if(f&&l!=f)return d;f=l}else{if(f&&l!=f&&u!=f)return d;f||(f=l)}else f||(f=a[0].id());var p=function(y){for(var E=y,T=[y],C,b,k;c[E].length;)C=c[E].shift(),b=h[C][0],k=h[C][1],E!=k?(c[k]=c[k].filter(function(S){return S!=C}),E=k):!o&&E!=b&&(c[b]=c[b].filter(function(S){return S!=C}),E=b),T.unshift(C),T.unshift(E);return T},g=[],w=[];for(w=p(f);w.length!=1;)c[w[0]].length==0?(g.unshift(a.getElementById(w.shift())),g.unshift(a.getElementById(w.shift()))):w=p(w.shift()).concat(w);g.unshift(a.getElementById(w.shift()));for(var v in c)if(c[v].length)return d;return d.found=!0,d.trail=this.spawn(g,!0),d}},cs=function(){var e=this,r={},n=0,i=0,o=[],a=[],s={},u=function(h,d){for(var p=a.length-1,g=[],w=e.spawn();a[p].x!=h||a[p].y!=d;)g.push(a.pop().edge),p--;g.push(a.pop().edge),g.forEach(function(v){var m=v.connectedNodes().intersection(e);w.merge(v),m.forEach(function(y){var E=y.id(),T=y.connectedEdges().intersection(e);w.merge(y),r[E].cutVertex?w.merge(T.filter(function(C){return C.isLoop()})):w.merge(T)})}),o.push(w)},l=function c(h,d,p){h===p&&(i+=1),r[d]={id:n,low:n++,cutVertex:!1};var g=e.getElementById(d).connectedEdges().intersection(e);if(g.size()===0)o.push(e.spawn(e.getElementById(d)));else{var w,v,m,y;g.forEach(function(E){w=E.source().id(),v=E.target().id(),m=w===d?v:w,m!==p&&(y=E.id(),s[y]||(s[y]=!0,a.push({x:d,y:m,edge:E})),m in r?r[d].low=Math.min(r[d].low,r[m].id):(c(h,m,d),r[d].low=Math.min(r[d].low,r[m].low),r[d].id<=r[m].low&&(r[d].cutVertex=!0,u(d,m))))})}};e.forEach(function(c){if(c.isNode()){var h=c.id();h in r||(i=0,l(h,h),r[h].cutVertex=i>1)}});var f=Object.keys(r).filter(function(c){return r[c].cutVertex}).map(function(c){return e.getElementById(c)});return{cut:e.spawn(f),components:o}},xA={hopcroftTarjanBiconnected:cs,htbc:cs,htb:cs,hopcroftTarjanBiconnectedComponents:cs},hs=function(){var e=this,r={},n=0,i=[],o=[],a=e.spawn(e),s=function u(l){o.push(l),r[l]={index:n,low:n++,explored:!1};var f=e.getElementById(l).connectedEdges().intersection(e);if(f.forEach(function(g){var w=g.target().id();w!==l&&(w in r||u(w),r[w].explored||(r[l].low=Math.min(r[l].low,r[w].low)))}),r[l].index===r[l].low){for(var c=e.spawn();;){var h=o.pop();if(c.merge(e.getElementById(h)),r[h].low=r[l].index,r[h].explored=!0,h===l)break}var d=c.edgesWith(c),p=c.merge(d);i.push(p),a=a.difference(p)}};return e.forEach(function(u){if(u.isNode()){var l=u.id();l in r||s(l)}}),{cut:a,components:i}},_A={tarjanStronglyConnected:hs,tsc:hs,tscc:hs,tarjanStronglyConnectedComponents:hs},$w={};[Eo,Jk,e2,r2,i2,o2,l2,I2,xa,_a,Md,Y2,oA,hA,bA,EA,xA,_A].forEach(function(t){mt($w,t)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var Gw=0,Hw=1,Uw=2,ri=function t(e){if(!(this instanceof t))return new t(e);this.id="Thenable/1.0.7",this.state=Gw,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};ri.prototype={fulfill:function(e){return Op(this,Hw,"fulfillValue",e)},reject:function(e){return Op(this,Uw,"rejectReason",e)},then:function(e,r){var n=this,i=new ri;return n.onFulfilled.push(Ip(e,i,"fulfill")),n.onRejected.push(Ip(r,i,"reject")),Vw(n),i.proxy}};var Op=function(e,r,n,i){return e.state===Gw&&(e.state=r,e[n]=i,Vw(e)),e},Vw=function(e){e.state===Hw?Np(e,"onFulfilled",e.fulfillValue):e.state===Uw&&Np(e,"onRejected",e.rejectReason)},Np=function(e,r,n){if(e[r].length!==0){var i=e[r];e[r]=[];var o=function(){for(var s=0;s<i.length;s++)i[s](n)};typeof setImmediate=="function"?setImmediate(o):setTimeout(o,0)}},Ip=function(e,r,n){return function(i){if(typeof e!="function")r[n].call(r,i);else{var o;try{o=e(i)}catch(a){r.reject(a);return}CA(r,o)}}},CA=function t(e,r){if(e===r||e.proxy===r){e.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(yr(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(o){e.reject(o);return}if(typeof n=="function"){var i=!1;try{n.call(r,function(o){i||(i=!0,o===r?e.reject(new TypeError("circular thenable chain")):t(e,o))},function(o){i||(i=!0,e.reject(o))})}catch(o){i||e.reject(o)}return}e.fulfill(r)};ri.all=function(t){return new ri(function(e,r){for(var n=new Array(t.length),i=0,o=function(u,l){n[u]=l,i++,i===t.length&&e(n)},a=0;a<t.length;a++)(function(s){var u=t[s],l=u!=null&&u.then!=null;if(l)u.then(function(c){o(s,c)},function(c){r(c)});else{var f=u;o(s,f)}})(a)})};ri.resolve=function(t){return new ri(function(e,r){e(t)})};ri.reject=function(t){return new ri(function(e,r){r(t)})};var Ra=typeof Promise<"u"?Promise:ri,Od=function(e,r,n){var i=Qd(e),o=!i,a=this._private=mt({duration:1e3},r,n);if(a.target=e,a.style=a.style||a.css,a.started=!1,a.playing=!1,a.hooked=!1,a.applying=!1,a.progress=0,a.completes=[],a.frames=[],a.complete&&ur(a.complete)&&a.completes.push(a.complete),o){var s=e.position();a.startPosition=a.startPosition||{x:s.x,y:s.y},a.startStyle=a.startStyle||e.cy().style().getAnimationStartStyle(e,a.style)}if(i){var u=e.pan();a.startPan={x:u.x,y:u.y},a.startZoom=e.zoom()}this.length=1,this[0]=this},Wi=Od.prototype;mt(Wi,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var r,n=e.target._private.animation;e.queue?r=n.queue:r=n.current,r.push(this),tn(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var r=this._private;return e===void 0?r.progress*r.duration:this.progress(e/r.duration)},progress:function(e){var r=this._private,n=r.playing;return e===void 0?r.progress:(n&&this.pause(),r.progress=e,r.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,r=e.playing;r&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(l,f){var c=e[l];c!=null&&(e[l]=e[f],e[f]=c)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var i=0;i<e.style.length;i++){var o=e.style[i],a=o.name,s=e.startStyle[a];e.startStyle[a]=o,e.style[i]=s}return r&&this.play(),this},promise:function(e){var r=this._private,n;switch(e){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new Ra(function(i,o){n.push(function(){i()})})}});Wi.complete=Wi.completed;Wi.run=Wi.play;Wi.running=Wi.playing;var TA={animated:function(){return function(){var r=this,n=r.length!==void 0,i=n?r:[r],o=this._private.cy||this;if(!o.styleEnabled())return!1;var a=i[0];if(a)return a._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,n=r.length!==void 0,i=n?r:[r],o=this._private.cy||this;if(!o.styleEnabled())return this;for(var a=0;a<i.length;a++){var s=i[a];s._private.animation.queue=[]}return this}},delay:function(){return function(r,n){var i=this._private.cy||this;return i.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){var i=this._private.cy||this;return i.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var i=this,o=i.length!==void 0,a=o?i:[i],s=this._private.cy||this,u=!o,l=!u;if(!s.styleEnabled())return this;var f=s.style();r=mt({},r,n);var c=Object.keys(r).length===0;if(c)return new Od(a[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(l&&(r.style=f.getPropsList(r.style||r.css),r.css=void 0),l&&r.renderedPosition!=null){var h=r.renderedPosition,d=s.pan(),p=s.zoom();r.position=Aw(h,p,d)}if(u&&r.panBy!=null){var g=r.panBy,w=s.pan();r.pan={x:w.x+g.x,y:w.y+g.y}}var v=r.center||r.centre;if(u&&v!=null){var m=s.getCenterPan(v.eles,r.zoom);m!=null&&(r.pan=m)}if(u&&r.fit!=null){var y=r.fit,E=s.getFitViewport(y.eles||y.boundingBox,y.padding);E!=null&&(r.pan=E.pan,r.zoom=E.zoom)}if(u&&zt(r.zoom)){var T=s.getZoomedViewport(r.zoom);T!=null?(T.zoomed&&(r.zoom=T.zoom),T.panned&&(r.pan=T.pan)):r.zoom=null}return new Od(a[0],r)}},animate:function(){return function(r,n){var i=this,o=i.length!==void 0,a=o?i:[i],s=this._private.cy||this;if(!s.styleEnabled())return this;n&&(r=mt({},r,n));for(var u=0;u<a.length;u++){var l=a[u],f=l.animated()&&(r.queue===void 0||r.queue),c=l.animation(r,f?{queue:!0}:void 0);c.play()}return this}},stop:function(){return function(r,n){var i=this,o=i.length!==void 0,a=o?i:[i],s=this._private.cy||this;if(!s.styleEnabled())return this;for(var u=0;u<a.length;u++){for(var l=a[u],f=l._private,c=f.animation.current,h=0;h<c.length;h++){var d=c[h],p=d._private;n&&(p.duration=0)}r&&(f.animation.queue=[]),n||(f.animation.current=[])}return s.notify("draw"),this}}},SA={data:function(e){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(i){},beforeSet:function(i,o){},onSet:function(i){},canSet:function(i){return!0}};return e=mt({},r,e),function(i,o){var a=e,s=this,u=s.length!==void 0,l=u?s:[s],f=u?s[0]:s;if(ft(i)){var c=i.indexOf(".")!==-1,h=c&&ck.default(i);if(a.allowGetting&&o===void 0){var d;return f&&(a.beforeGet(f),h&&f._private[a.field][i]===void 0?d=lk.default(f._private[a.field],h):d=f._private[a.field][i]),d}else if(a.allowSetting&&o!==void 0){var p=!a.immutableKeys[i];if(p){var g=dw({},i,o);a.beforeSet(s,g);for(var w=0,v=l.length;w<v;w++){var m=l[w];a.canSet(m)&&(h&&f._private[a.field][i]===void 0?fk.default(m._private[a.field],h,o):m._private[a.field][i]=o)}a.updateStyle&&s.updateStyle(),a.onSet(s),a.settingTriggersEvent&&s[a.triggerFnName](a.settingEvent)}}}else if(a.allowSetting&&zt(i)){var y=i,E,T,C=Object.keys(y);a.beforeSet(s,y);for(var b=0;b<C.length;b++){E=C[b],T=y[E];var k=!a.immutableKeys[E];if(k)for(var S=0;S<l.length;S++){var O=l[S];a.canSet(O)&&(O._private[a.field][E]=T)}}a.updateStyle&&s.updateStyle(),a.onSet(s),a.settingTriggersEvent&&s[a.triggerFnName](a.settingEvent)}else if(a.allowBinding&&ur(i)){var N=i;s.on(a.bindingEvent,N)}else if(a.allowGetting&&i===void 0){var D;return f&&(a.beforeGet(f),D=f._private[a.field]),D}return s}},removeData:function(e){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=mt({},r,e),function(i){var o=e,a=this,s=a.length!==void 0,u=s?a:[a];if(ft(i)){for(var l=i.split(/\s+/),f=l.length,c=0;c<f;c++){var h=l[c];if(!xi(h)){var d=!o.immutableKeys[h];if(d)for(var p=0,g=u.length;p<g;p++)u[p]._private[o.field][h]=void 0}}o.triggerEvent&&a[o.triggerFnName](o.event)}else if(i===void 0){for(var w=0,v=u.length;w<v;w++)for(var m=u[w]._private[o.field],y=Object.keys(m),E=0;E<y.length;E++){var T=y[E],C=!o.immutableKeys[T];C&&(m[T]=void 0)}o.triggerEvent&&a[o.triggerFnName](o.event)}return a}}},DA={eventAliasesOn:function(e){var r=e;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,i){var o=this,a=Array.prototype.slice.call(arguments,0);return new Ra(function(s,u){var l=function(d){o.off.apply(o,c),s(d)},f=a.concat([l]),c=f.concat([]);o.on.apply(o,f)})}}},Vt={};[TA,SA,DA].forEach(function(t){mt(Vt,t)});var kA={animate:Vt.animate(),animation:Vt.animation(),animated:Vt.animated(),clearQueue:Vt.clearQueue(),delay:Vt.delay(),delayAnimation:Vt.delayAnimation(),stop:Vt.stop()},Ts={classes:function(e){var r=this;if(e===void 0){var n=[];return r[0]._private.classes.forEach(function(p){return n.push(p)}),n}else Kt(e)||(e=(e||"").match(/\S+/g)||[]);for(var i=[],o=new Pa(e),a=0;a<r.length;a++){for(var s=r[a],u=s._private,l=u.classes,f=!1,c=0;c<e.length;c++){var h=e[c],d=l.has(h);if(!d){f=!0;break}}f||(f=l.size!==e.length),f&&(u.classes=o,i.push(s))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),r},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var r=this[0];return r!=null&&r._private.classes.has(e)},toggleClass:function(e,r){Kt(e)||(e=e.match(/\S+/g)||[]);for(var n=this,i=r===void 0,o=[],a=0,s=n.length;a<s;a++)for(var u=n[a],l=u._private.classes,f=!1,c=0;c<e.length;c++){var h=e[c],d=l.has(h),p=!1;r||i&&!d?(l.add(h),p=!0):(!r||i&&d)&&(l.delete(h),p=!0),!f&&p&&(o.push(u),f=!0)}return o.length>0&&this.spawn(o).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},r),n}};Ts.className=Ts.classNames=Ts.classes;var Ft={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:mr,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Ft.variable="(?:[\\w-.]|(?:\\\\"+Ft.metaChar+"))+";Ft.className="(?:[\\w-]|(?:\\\\"+Ft.metaChar+"))+";Ft.value=Ft.string+"|"+Ft.number;Ft.id=Ft.variable;(function(){var t,e,r;for(t=Ft.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],Ft.comparatorOp+="|@"+e;for(t=Ft.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],!(e.indexOf("!")>=0)&&e!=="="&&(Ft.comparatorOp+="|\\!"+e)})();var Xt=function(){return{checks:[]}},nt={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},Nd=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return Ok(t.selector,e.selector)}),AA=function(){for(var t={},e,r=0;r<Nd.length;r++)e=Nd[r],t[e.selector]=e.matches;return t}(),LA=function(e,r){return AA[e](r)},MA="("+Nd.map(function(t){return t.selector}).join("|")+")",sa=function(e){return e.replace(new RegExp("\\\\("+Ft.metaChar+")","g"),function(r,n){return n})},pi=function(e,r,n){e[e.length-1]=n},Id=[{name:"group",query:!0,regex:"("+Ft.group+")",populate:function(e,r,n){var i=Zn(n,1),o=i[0];r.checks.push({type:nt.GROUP,value:o==="*"?o:o+"s"})}},{name:"state",query:!0,regex:MA,populate:function(e,r,n){var i=Zn(n,1),o=i[0];r.checks.push({type:nt.STATE,value:o})}},{name:"id",query:!0,regex:"\\#("+Ft.id+")",populate:function(e,r,n){var i=Zn(n,1),o=i[0];r.checks.push({type:nt.ID,value:sa(o)})}},{name:"className",query:!0,regex:"\\.("+Ft.className+")",populate:function(e,r,n){var i=Zn(n,1),o=i[0];r.checks.push({type:nt.CLASS,value:sa(o)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Ft.variable+")\\s*\\]",populate:function(e,r,n){var i=Zn(n,1),o=i[0];r.checks.push({type:nt.DATA_EXIST,field:sa(o)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Ft.variable+")\\s*("+Ft.comparatorOp+")\\s*("+Ft.value+")\\s*\\]",populate:function(e,r,n){var i=Zn(n,3),o=i[0],a=i[1],s=i[2],u=new RegExp("^"+Ft.string+"$").exec(s)!=null;u?s=s.substring(1,s.length-1):s=parseFloat(s),r.checks.push({type:nt.DATA_COMPARE,field:sa(o),operator:a,value:s})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Ft.boolOp+")\\s*("+Ft.variable+")\\s*\\]",populate:function(e,r,n){var i=Zn(n,2),o=i[0],a=i[1];r.checks.push({type:nt.DATA_BOOL,field:sa(a),operator:o})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Ft.meta+")\\s*("+Ft.comparatorOp+")\\s*("+Ft.number+")\\s*\\]\\]",populate:function(e,r,n){var i=Zn(n,3),o=i[0],a=i[1],s=i[2];r.checks.push({type:nt.META_COMPARE,field:sa(o),operator:a,value:parseFloat(s)})}},{name:"nextQuery",separator:!0,regex:Ft.separator,populate:function(e,r){var n=e.currentSubject,i=e.edgeCount,o=e.compoundCount,a=e[e.length-1];n!=null&&(a.subject=n,e.currentSubject=null),a.edgeCount=i,a.compoundCount=o,e.edgeCount=0,e.compoundCount=0;var s=e[e.length++]=Xt();return s}},{name:"directedEdge",separator:!0,regex:Ft.directedEdge,populate:function(e,r){if(e.currentSubject==null){var n=Xt(),i=r,o=Xt();return n.checks.push({type:nt.DIRECTED_EDGE,source:i,target:o}),pi(e,r,n),e.edgeCount++,o}else{var a=Xt(),s=r,u=Xt();return a.checks.push({type:nt.NODE_SOURCE,source:s,target:u}),pi(e,r,a),e.edgeCount++,u}}},{name:"undirectedEdge",separator:!0,regex:Ft.undirectedEdge,populate:function(e,r){if(e.currentSubject==null){var n=Xt(),i=r,o=Xt();return n.checks.push({type:nt.UNDIRECTED_EDGE,nodes:[i,o]}),pi(e,r,n),e.edgeCount++,o}else{var a=Xt(),s=r,u=Xt();return a.checks.push({type:nt.NODE_NEIGHBOR,node:s,neighbor:u}),pi(e,r,a),u}}},{name:"child",separator:!0,regex:Ft.child,populate:function(e,r){if(e.currentSubject==null){var n=Xt(),i=Xt(),o=e[e.length-1];return n.checks.push({type:nt.CHILD,parent:o,child:i}),pi(e,r,n),e.compoundCount++,i}else if(e.currentSubject===r){var a=Xt(),s=e[e.length-1],u=Xt(),l=Xt(),f=Xt(),c=Xt();return a.checks.push({type:nt.COMPOUND_SPLIT,left:s,right:u,subject:l}),l.checks=r.checks,r.checks=[{type:nt.TRUE}],c.checks.push({type:nt.TRUE}),u.checks.push({type:nt.PARENT,parent:c,child:f}),pi(e,s,a),e.currentSubject=l,e.compoundCount++,f}else{var h=Xt(),d=Xt(),p=[{type:nt.PARENT,parent:h,child:d}];return h.checks=r.checks,r.checks=p,e.compoundCount++,d}}},{name:"descendant",separator:!0,regex:Ft.descendant,populate:function(e,r){if(e.currentSubject==null){var n=Xt(),i=Xt(),o=e[e.length-1];return n.checks.push({type:nt.DESCENDANT,ancestor:o,descendant:i}),pi(e,r,n),e.compoundCount++,i}else if(e.currentSubject===r){var a=Xt(),s=e[e.length-1],u=Xt(),l=Xt(),f=Xt(),c=Xt();return a.checks.push({type:nt.COMPOUND_SPLIT,left:s,right:u,subject:l}),l.checks=r.checks,r.checks=[{type:nt.TRUE}],c.checks.push({type:nt.TRUE}),u.checks.push({type:nt.ANCESTOR,ancestor:c,descendant:f}),pi(e,s,a),e.currentSubject=l,e.compoundCount++,f}else{var h=Xt(),d=Xt(),p=[{type:nt.ANCESTOR,ancestor:h,descendant:d}];return h.checks=r.checks,r.checks=p,e.compoundCount++,d}}},{name:"subject",modifier:!0,regex:Ft.subject,populate:function(e,r){if(e.currentSubject!=null&&e.currentSubject!==r)return Wt("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=r;var n=e[e.length-1],i=n.checks[0],o=i==null?null:i.type;o===nt.DIRECTED_EDGE?i.type=nt.NODE_TARGET:o===nt.UNDIRECTED_EDGE&&(i.type=nt.NODE_NEIGHBOR,i.node=i.nodes[1],i.neighbor=i.nodes[0],i.nodes=null)}}];Id.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var OA=function(e){for(var r,n,i,o=0;o<Id.length;o++){var a=Id[o],s=a.name,u=e.match(a.regexObj);if(u!=null){n=u,r=a,i=s;var l=u[0];e=e.substring(l.length);break}}return{expr:r,match:n,name:i,remaining:e}},NA=function(e){var r=e.match(/^\s+/);if(r){var n=r[0];e=e.substring(n.length)}return e},IA=function(e){var r=this,n=r.inputText=e,i=r[0]=Xt();for(r.length=1,n=NA(n);;){var o=OA(n);if(o.expr==null)return Wt("The selector `"+e+"`is invalid"),!1;var a=o.match.slice(1),s=o.expr.populate(r,i,a);if(s===!1)return!1;if(s!=null&&(i=s),n=o.remaining,n.match(/^\s*$/))break}var u=r[r.length-1];r.currentSubject!=null&&(u.subject=r.currentSubject),u.edgeCount=r.edgeCount,u.compoundCount=r.compoundCount;for(var l=0;l<r.length;l++){var f=r[l];if(f.compoundCount>0&&f.edgeCount>0)return Wt("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(f.edgeCount>1)return Wt("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;f.edgeCount===1&&Wt("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},PA=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(f){return f??""},r=function(f){return ft(f)?'"'+f+'"':e(f)},n=function(f){return" "+f+" "},i=function(f,c){var h=f.type,d=f.value;switch(h){case nt.GROUP:{var p=e(d);return p.substring(0,p.length-1)}case nt.DATA_COMPARE:{var g=f.field,w=f.operator;return"["+g+n(e(w))+r(d)+"]"}case nt.DATA_BOOL:{var v=f.operator,m=f.field;return"["+e(v)+m+"]"}case nt.DATA_EXIST:{var y=f.field;return"["+y+"]"}case nt.META_COMPARE:{var E=f.operator,T=f.field;return"[["+T+n(e(E))+r(d)+"]]"}case nt.STATE:return d;case nt.ID:return"#"+d;case nt.CLASS:return"."+d;case nt.PARENT:case nt.CHILD:return o(f.parent,c)+n(">")+o(f.child,c);case nt.ANCESTOR:case nt.DESCENDANT:return o(f.ancestor,c)+" "+o(f.descendant,c);case nt.COMPOUND_SPLIT:{var C=o(f.left,c),b=o(f.subject,c),k=o(f.right,c);return C+(C.length>0?" ":"")+b+k}case nt.TRUE:return""}},o=function(f,c){return f.checks.reduce(function(h,d,p){return h+(c===f&&p===0?"$":"")+i(d,c)},"")},a="",s=0;s<this.length;s++){var u=this[s];a+=o(u,u.subject),this.length>1&&s<this.length-1&&(a+=", ")}return this.toStringCache=a,a},RA={parse:IA,toString:PA},Ww=function(e,r,n){var i,o=ft(e),a=Xe(e),s=ft(n),u,l,f=!1,c=!1,h=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),c=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),f=!0),(o||s||f)&&(u=!o&&!a?"":""+e,l=""+n),f&&(e=u=u.toLowerCase(),n=l=l.toLowerCase()),r){case"*=":i=u.indexOf(l)>=0;break;case"$=":i=u.indexOf(l,u.length-l.length)>=0;break;case"^=":i=u.indexOf(l)===0;break;case"=":i=e===n;break;case">":h=!0,i=e>n;break;case">=":h=!0,i=e>=n;break;case"<":h=!0,i=e<n;break;case"<=":h=!0,i=e<=n;break;default:i=!1;break}return c&&(e!=null||!h)&&(i=!i),i},FA=function(e,r){switch(r){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},zA=function(e){return e!==void 0},sv=function(e,r){return e.data(r)},BA=function(e,r){return e[r]()},dr=[],ir=function(e,r){return e.checks.every(function(n){return dr[n.type](n,r)})};dr[nt.GROUP]=function(t,e){var r=t.value;return r==="*"||r===e.group()};dr[nt.STATE]=function(t,e){var r=t.value;return LA(r,e)};dr[nt.ID]=function(t,e){var r=t.value;return e.id()===r};dr[nt.CLASS]=function(t,e){var r=t.value;return e.hasClass(r)};dr[nt.META_COMPARE]=function(t,e){var r=t.field,n=t.operator,i=t.value;return Ww(BA(e,r),n,i)};dr[nt.DATA_COMPARE]=function(t,e){var r=t.field,n=t.operator,i=t.value;return Ww(sv(e,r),n,i)};dr[nt.DATA_BOOL]=function(t,e){var r=t.field,n=t.operator;return FA(sv(e,r),n)};dr[nt.DATA_EXIST]=function(t,e){var r=t.field;return t.operator,zA(sv(e,r))};dr[nt.UNDIRECTED_EDGE]=function(t,e){var r=t.nodes[0],n=t.nodes[1],i=e.source(),o=e.target();return ir(r,i)&&ir(n,o)||ir(n,i)&&ir(r,o)};dr[nt.NODE_NEIGHBOR]=function(t,e){return ir(t.node,e)&&e.neighborhood().some(function(r){return r.isNode()&&ir(t.neighbor,r)})};dr[nt.DIRECTED_EDGE]=function(t,e){return ir(t.source,e.source())&&ir(t.target,e.target())};dr[nt.NODE_SOURCE]=function(t,e){return ir(t.source,e)&&e.outgoers().some(function(r){return r.isNode()&&ir(t.target,r)})};dr[nt.NODE_TARGET]=function(t,e){return ir(t.target,e)&&e.incomers().some(function(r){return r.isNode()&&ir(t.source,r)})};dr[nt.CHILD]=function(t,e){return ir(t.child,e)&&ir(t.parent,e.parent())};dr[nt.PARENT]=function(t,e){return ir(t.parent,e)&&e.children().some(function(r){return ir(t.child,r)})};dr[nt.DESCENDANT]=function(t,e){return ir(t.descendant,e)&&e.ancestors().some(function(r){return ir(t.ancestor,r)})};dr[nt.ANCESTOR]=function(t,e){return ir(t.ancestor,e)&&e.descendants().some(function(r){return ir(t.descendant,r)})};dr[nt.COMPOUND_SPLIT]=function(t,e){return ir(t.subject,e)&&ir(t.left,e)&&ir(t.right,e)};dr[nt.TRUE]=function(){return!0};dr[nt.COLLECTION]=function(t,e){var r=t.value;return r.has(e)};dr[nt.FILTER]=function(t,e){var r=t.value;return r(e)};var qA=function(e){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===nt.ID)return e.getElementById(r[0].checks[0].value).collection();var n=function(o){for(var a=0;a<r.length;a++){var s=r[a];if(ir(s,o))return!0}return!1};return r.text()==null&&(n=function(){return!0}),e.filter(n)},$A=function(e){for(var r=this,n=0;n<r.length;n++){var i=r[n];if(ir(i,e))return!0}return!1},GA={matches:$A,filter:qA},Ci=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||ft(e)&&e.match(/^\s*$/)||(tn(e)?this.addQuery({checks:[{type:nt.COLLECTION,value:e.collection()}]}):ur(e)?this.addQuery({checks:[{type:nt.FILTER,value:e}]}):ft(e)?this.parse(e)||(this.invalid=!0):hr("A selector must be created from a string; found "))},Ti=Ci.prototype;[RA,GA].forEach(function(t){return mt(Ti,t)});Ti.text=function(){return this.inputText};Ti.size=function(){return this.length};Ti.eq=function(t){return this[t]};Ti.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()};Ti.addQuery=function(t){this[this.length++]=t};Ti.selector=Ti.toString;var bi={allAre:function(e){var r=new Ci(e);return this.every(function(n){return r.matches(n)})},is:function(e){var r=new Ci(e);return this.some(function(n){return r.matches(n)})},some:function(e,r){for(var n=0;n<this.length;n++){var i=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(i)return!0}return!1},every:function(e,r){for(var n=0;n<this.length;n++){var i=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(!i)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var r=this.length,n=e.length;return r!==n?!1:r===1?this[0]===e[0]:this.every(function(i){return e.hasElementWithId(i.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(r){return e.hasElementWithId(r.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var r=this.neighborhood();return e.every(function(n){return r.hasElementWithId(n.id())})},contains:function(e){e=this.cy().collection(e);var r=this;return e.every(function(n){return r.hasElementWithId(n.id())})}};bi.allAreNeighbours=bi.allAreNeighbors;bi.has=bi.contains;bi.equal=bi.equals=bi.same;var cn=function(e,r){return function(i,o,a,s){var u=i,l=this,f;if(u==null?f="":tn(u)&&u.length===1&&(f=u.id()),l.length===1&&f){var c=l[0]._private,h=c.traversalCache=c.traversalCache||{},d=h[r]=h[r]||[],p=Ui(f),g=d[p];return g||(d[p]=e.call(l,i,o,a,s))}else return e.call(l,i,o,a,s)}},Da={parent:function(e){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var i=0;i<this.length;i++){var o=this[i],a=o._private.parent;a&&r.push(a)}return this.spawn(r,!0).filter(e)},parents:function(e){for(var r=[],n=this.parent();n.nonempty();){for(var i=0;i<n.length;i++){var o=n[i];r.push(o)}n=n.parent()}return this.spawn(r,!0).filter(e)},commonAncestors:function(e){for(var r,n=0;n<this.length;n++){var i=this[n],o=i.parents();r=r||o,r=r.intersect(o)}return r.filter(e)},orphans:function(e){return this.stdFilter(function(r){return r.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(r){return r.isChild()}).filter(e)},children:cn(function(t){for(var e=[],r=0;r<this.length;r++)for(var n=this[r],i=n._private.children,o=0;o<i.length;o++)e.push(i[o]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var r=[];function n(i){for(var o=0;o<i.length;o++){var a=i[o];r.push(a),a.children().nonempty()&&n(a.children())}}return n(this.children()),this.spawn(r,!0).filter(e)}};function uv(t,e,r,n){for(var i=[],o=new Pa,a=t.cy(),s=a.hasCompoundNodes(),u=0;u<t.length;u++){var l=t[u];r?i.push(l):s&&n(i,o,l)}for(;i.length>0;){var f=i.shift();e(f),o.add(f.id()),s&&n(i,o,f)}return t}function Yw(t,e,r){if(r.isParent())for(var n=r._private.children,i=0;i<n.length;i++){var o=n[i];e.has(o.id())||t.push(o)}}Da.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return uv(this,t,e,Yw)};function Xw(t,e,r){if(r.isChild()){var n=r._private.parent;e.has(n.id())||t.push(n)}}Da.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return uv(this,t,e,Xw)};function HA(t,e,r){Xw(t,e,r),Yw(t,e,r)}Da.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return uv(this,t,e,HA)};Da.ancestors=Da.parents;var Co,jw;Co=jw={data:Vt.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Vt.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Vt.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Vt.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Vt.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Vt.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};Co.attr=Co.data;Co.removeAttr=Co.removeData;var UA=jw,nu={};function Hu(t){return function(e){var r=this;if(e===void 0&&(e=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,i=r[0],o=i._private.edges,a=0;a<o.length;a++){var s=o[a];!e&&s.isLoop()||(n+=t(i,s))}return n}else return}}mt(nu,{degree:Hu(function(t,e){return e.source().same(e.target())?2:1}),indegree:Hu(function(t,e){return e.target().same(t)?1:0}),outdegree:Hu(function(t,e){return e.source().same(t)?1:0})});function ua(t,e){return function(r){for(var n,i=this.nodes(),o=0;o<i.length;o++){var a=i[o],s=a[t](r);s!==void 0&&(n===void 0||e(s,n))&&(n=s)}return n}}mt(nu,{minDegree:ua("degree",function(t,e){return t<e}),maxDegree:ua("degree",function(t,e){return t>e}),minIndegree:ua("indegree",function(t,e){return t<e}),maxIndegree:ua("indegree",function(t,e){return t>e}),minOutdegree:ua("outdegree",function(t,e){return t<e}),maxOutdegree:ua("outdegree",function(t,e){return t>e})});mt(nu,{totalDegree:function(e){for(var r=0,n=this.nodes(),i=0;i<n.length;i++)r+=n[i].degree(e);return r}});var xn,Kw,Zw=function(e,r,n){for(var i=0;i<e.length;i++){var o=e[i];if(!o.locked()){var a=o._private.position,s={x:r.x!=null?r.x-a.x:0,y:r.y!=null?r.y-a.y:0};o.isParent()&&!(s.x===0&&s.y===0)&&o.children().shift(s,n),o.dirtyBoundingBoxCache()}}},Pp={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,r){Zw(e,r,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};xn=Kw={position:Vt.data(Pp),silentPosition:Vt.data(mt({},Pp,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,r){Zw(e,r,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,r){if(zt(e))r?this.silentPosition(e):this.position(e);else if(ur(e)){var n=e,i=this.cy();i.startBatch();for(var o=0;o<this.length;o++){var a=this[o],s=void 0;(s=n(a,o))&&(r?a.silentPosition(s):a.position(s))}i.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,r,n){var i;if(zt(e)?(i={x:Xe(e.x)?e.x:0,y:Xe(e.y)?e.y:0},n=r):ft(e)&&Xe(r)&&(i={x:0,y:0},i[e]=r),i!=null){var o=this.cy();o.startBatch();for(var a=0;a<this.length;a++){var s=this[a];if(!(o.hasCompoundNodes()&&s.isChild()&&s.ancestors().anySame(this))){var u=s.position(),l={x:u.x+i.x,y:u.y+i.y};n?s.silentPosition(l):s.position(l)}}o.endBatch()}return this},silentShift:function(e,r){return zt(e)?this.shift(e,!0):ft(e)&&Xe(r)&&this.shift(e,r,!0),this},renderedPosition:function(e,r){var n=this[0],i=this.cy(),o=i.zoom(),a=i.pan(),s=zt(e)?e:void 0,u=s!==void 0||r!==void 0&&ft(e);if(n&&n.isNode())if(u)for(var l=0;l<this.length;l++){var f=this[l];r!==void 0?f.position(e,(r-a[e])/o):s!==void 0&&f.position(Aw(s,o,a))}else{var c=n.position();return s=tu(c,o,a),e===void 0?s:s[e]}else if(!u)return;return this},relativePosition:function(e,r){var n=this[0],i=this.cy(),o=zt(e)?e:void 0,a=o!==void 0||r!==void 0&&ft(e),s=i.hasCompoundNodes();if(n&&n.isNode())if(a)for(var u=0;u<this.length;u++){var l=this[u],f=s?l.parent():null,c=f&&f.length>0,h=c;c&&(f=f[0]);var d=h?f.position():{x:0,y:0};r!==void 0?l.position(e,r+d[e]):o!==void 0&&l.position({x:o.x+d.x,y:o.y+d.y})}else{var p=n.position(),g=s?n.parent():null,w=g&&g.length>0,v=w;w&&(g=g[0]);var m=v?g.position():{x:0,y:0};return o={x:p.x-m.x,y:p.y-m.y},e===void 0?o:o[e]}else if(!a)return;return this}};xn.modelPosition=xn.point=xn.position;xn.modelPositions=xn.points=xn.positions;xn.renderedPoint=xn.renderedPosition;xn.relativePoint=xn.relativePosition;var VA=Kw,Ca,ki;Ca=ki={};ki.renderedBoundingBox=function(t){var e=this.boundingBox(t),r=this.cy(),n=r.zoom(),i=r.pan(),o=e.x1*n+i.x,a=e.x2*n+i.x,s=e.y1*n+i.y,u=e.y2*n+i.y;return{x1:o,x2:a,y1:s,y2:u,w:a-o,h:u-s}};ki.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,t||r.emitAndNotify("bounds")}}),this)};ki.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function r(a){if(!a.isParent())return;var s=a._private,u=a.children(),l=a.pstyle("compound-sizing-wrt-labels").value==="include",f={width:{val:a.pstyle("min-width").pfValue,left:a.pstyle("min-width-bias-left"),right:a.pstyle("min-width-bias-right")},height:{val:a.pstyle("min-height").pfValue,top:a.pstyle("min-height-bias-top"),bottom:a.pstyle("min-height-bias-bottom")}},c=u.boundingBox({includeLabels:l,includeOverlays:!1,useCache:!1}),h=s.position;(c.w===0||c.h===0)&&(c={w:a.pstyle("width").pfValue,h:a.pstyle("height").pfValue},c.x1=h.x-c.w/2,c.x2=h.x+c.w/2,c.y1=h.y-c.h/2,c.y2=h.y+c.h/2);function d(S,O,N){var D=0,I=0,x=O+N;return S>0&&x>0&&(D=O/x*S,I=N/x*S),{biasDiff:D,biasComplementDiff:I}}function p(S,O,N,D){if(N.units==="%")switch(D){case"width":return S>0?N.pfValue*S:0;case"height":return O>0?N.pfValue*O:0;case"average":return S>0&&O>0?N.pfValue*(S+O)/2:0;case"min":return S>0&&O>0?S>O?N.pfValue*O:N.pfValue*S:0;case"max":return S>0&&O>0?S>O?N.pfValue*S:N.pfValue*O:0;default:return 0}else return N.units==="px"?N.pfValue:0}var g=f.width.left.value;f.width.left.units==="px"&&f.width.val>0&&(g=g*100/f.width.val);var w=f.width.right.value;f.width.right.units==="px"&&f.width.val>0&&(w=w*100/f.width.val);var v=f.height.top.value;f.height.top.units==="px"&&f.height.val>0&&(v=v*100/f.height.val);var m=f.height.bottom.value;f.height.bottom.units==="px"&&f.height.val>0&&(m=m*100/f.height.val);var y=d(f.width.val-c.w,g,w),E=y.biasDiff,T=y.biasComplementDiff,C=d(f.height.val-c.h,v,m),b=C.biasDiff,k=C.biasComplementDiff;s.autoPadding=p(c.w,c.h,a.pstyle("padding"),a.pstyle("padding-relative-to").value),s.autoWidth=Math.max(c.w,f.width.val),h.x=(-E+c.x1+c.x2+T)/2,s.autoHeight=Math.max(c.h,f.height.val),h.y=(-b+c.y1+c.y2+k)/2}for(var n=0;n<this.length;n++){var i=this[n],o=i._private;(!o.compoundBoundsClean||t)&&(r(i),e.batching()||(o.compoundBoundsClean=!0))}return this};var fn=function(e){return e===1/0||e===-1/0?0:e},bn=function(e,r,n,i,o){i-r===0||o-n===0||r==null||n==null||i==null||o==null||(e.x1=r<e.x1?r:e.x1,e.x2=i>e.x2?i:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=o>e.y2?o:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},Bi=function(e,r){return r==null?e:bn(e,r.x1,r.y1,r.x2,r.y2)},Za=function(e,r,n){return wn(e,r,n)},ds=function(e,r,n){if(!r.cy().headless()){var i=r._private,o=i.rstyle,a=o.arrowWidth/2,s=r.pstyle(n+"-arrow-shape").value,u,l;if(s!=="none"){n==="source"?(u=o.srcX,l=o.srcY):n==="target"?(u=o.tgtX,l=o.tgtY):(u=o.midX,l=o.midY);var f=i.arrowBounds=i.arrowBounds||{},c=f[n]=f[n]||{};c.x1=u-a,c.y1=l-a,c.x2=u+a,c.y2=l+a,c.w=c.x2-c.x1,c.h=c.y2-c.y1,Cs(c,1),bn(e,c.x1,c.y1,c.x2,c.y2)}}},Uu=function(e,r,n){if(!r.cy().headless()){var i;n?i=n+"-":i="";var o=r._private,a=o.rstyle,s=r.pstyle(i+"label").strValue;if(s){var u=r.pstyle("text-halign"),l=r.pstyle("text-valign"),f=Za(a,"labelWidth",n),c=Za(a,"labelHeight",n),h=Za(a,"labelX",n),d=Za(a,"labelY",n),p=r.pstyle(i+"text-margin-x").pfValue,g=r.pstyle(i+"text-margin-y").pfValue,w=r.isEdge(),v=r.pstyle(i+"text-rotation"),m=r.pstyle("text-outline-width").pfValue,y=r.pstyle("text-border-width").pfValue,E=y/2,T=r.pstyle("text-background-padding").pfValue,C=2,b=c,k=f,S=k/2,O=b/2,N,D,I,x;if(w)N=h-S,D=h+S,I=d-O,x=d+O;else{switch(u.value){case"left":N=h-k,D=h;break;case"center":N=h-S,D=h+S;break;case"right":N=h,D=h+k;break}switch(l.value){case"top":I=d-b,x=d;break;case"center":I=d-O,x=d+O;break;case"bottom":I=d,x=d+b;break}}N+=p-Math.max(m,E)-T-C,D+=p+Math.max(m,E)+T+C,I+=g-Math.max(m,E)-T-C,x+=g+Math.max(m,E)+T+C;var P=n||"main",L=o.labelBounds,M=L[P]=L[P]||{};M.x1=N,M.y1=I,M.x2=D,M.y2=x,M.w=D-N,M.h=x-I;var R=w&&v.strValue==="autorotate",V=v.pfValue!=null&&v.pfValue!==0;if(R||V){var U=R?Za(o.rstyle,"labelAngle",n):v.pfValue,q=Math.cos(U),$=Math.sin(U),X=(N+D)/2,B=(I+x)/2;if(!w){switch(u.value){case"left":X=D;break;case"right":X=N;break}switch(l.value){case"top":B=x;break;case"bottom":B=I;break}}var H=function(be,z){return be=be-X,z=z-B,{x:be*q-z*$+X,y:be*$+z*q+B}},j=H(N,I),K=H(N,x),te=H(D,I),re=H(D,x);N=Math.min(j.x,K.x,te.x,re.x),D=Math.max(j.x,K.x,te.x,re.x),I=Math.min(j.y,K.y,te.y,re.y),x=Math.max(j.y,K.y,te.y,re.y)}var ue=P+"Rot",se=L[ue]=L[ue]||{};se.x1=N,se.y1=I,se.x2=D,se.y2=x,se.w=D-N,se.h=x-I,bn(e,N,I,D,x),bn(o.labelBounds.all,N,I,D,x)}return e}},WA=function(e,r){var n=e._private.cy,i=n.styleEnabled(),o=n.headless(),a=en(),s=e._private,u=e.isNode(),l=e.isEdge(),f,c,h,d,p,g,w=s.rstyle,v=u&&i?e.pstyle("bounds-expansion").pfValue:[0],m=function(Z){return Z.pstyle("display").value!=="none"},y=!i||m(e)&&(!l||m(e.source())&&m(e.target()));if(y){var E=0,T=0;i&&r.includeOverlays&&(E=e.pstyle("overlay-opacity").value,E!==0&&(T=e.pstyle("overlay-padding").value));var C=0,b=0;i&&r.includeUnderlays&&(C=e.pstyle("underlay-opacity").value,C!==0&&(b=e.pstyle("underlay-padding").value));var k=Math.max(T,b),S=0,O=0;if(i&&(S=e.pstyle("width").pfValue,O=S/2),u&&r.includeNodes){var N=e.position();p=N.x,g=N.y;var D=e.outerWidth(),I=D/2,x=e.outerHeight(),P=x/2;f=p-I,c=p+I,h=g-P,d=g+P,bn(a,f,h,c,d)}else if(l&&r.includeEdges)if(i&&!o){var L=e.pstyle("curve-style").strValue;if(f=Math.min(w.srcX,w.midX,w.tgtX),c=Math.max(w.srcX,w.midX,w.tgtX),h=Math.min(w.srcY,w.midY,w.tgtY),d=Math.max(w.srcY,w.midY,w.tgtY),f-=O,c+=O,h-=O,d+=O,bn(a,f,h,c,d),L==="haystack"){var M=w.haystackPts;if(M&&M.length===2){if(f=M[0].x,h=M[0].y,c=M[1].x,d=M[1].y,f>c){var R=f;f=c,c=R}if(h>d){var V=h;h=d,d=V}bn(a,f-O,h-O,c+O,d+O)}}else if(L==="bezier"||L==="unbundled-bezier"||L==="segments"||L==="taxi"){var U;switch(L){case"bezier":case"unbundled-bezier":U=w.bezierPts;break;case"segments":case"taxi":U=w.linePts;break}if(U!=null)for(var q=0;q<U.length;q++){var $=U[q];f=$.x-O,c=$.x+O,h=$.y-O,d=$.y+O,bn(a,f,h,c,d)}}}else{var X=e.source(),B=X.position(),H=e.target(),j=H.position();if(f=B.x,c=j.x,h=B.y,d=j.y,f>c){var K=f;f=c,c=K}if(h>d){var te=h;h=d,d=te}f-=O,c+=O,h-=O,d+=O,bn(a,f,h,c,d)}if(i&&r.includeEdges&&l&&(ds(a,e,"mid-source"),ds(a,e,"mid-target"),ds(a,e,"source"),ds(a,e,"target")),i){var re=e.pstyle("ghost").value==="yes";if(re){var ue=e.pstyle("ghost-offset-x").pfValue,se=e.pstyle("ghost-offset-y").pfValue;bn(a,a.x1+ue,a.y1+se,a.x2+ue,a.y2+se)}}var de=s.bodyBounds=s.bodyBounds||{};bp(de,a),qu(de,v),Cs(de,1),i&&(f=a.x1,c=a.x2,h=a.y1,d=a.y2,bn(a,f-k,h-k,c+k,d+k));var be=s.overlayBounds=s.overlayBounds||{};bp(be,a),qu(be,v),Cs(be,1);var z=s.labelBounds=s.labelBounds||{};z.all!=null?b2(z.all):z.all=en(),i&&r.includeLabels&&(r.includeMainLabels&&Uu(a,e,null),l&&(r.includeSourceLabels&&Uu(a,e,"source"),r.includeTargetLabels&&Uu(a,e,"target")))}return a.x1=fn(a.x1),a.y1=fn(a.y1),a.x2=fn(a.x2),a.y2=fn(a.y2),a.w=fn(a.x2-a.x1),a.h=fn(a.y2-a.y1),a.w>0&&a.h>0&&y&&(qu(a,v),Cs(a,1)),a},Qw=function(e){var r=0,n=function(a){return(a?1:0)<<r++},i=0;return i+=n(e.incudeNodes),i+=n(e.includeEdges),i+=n(e.includeLabels),i+=n(e.includeMainLabels),i+=n(e.includeSourceLabels),i+=n(e.includeTargetLabels),i+=n(e.includeOverlays),i},Jw=function(e){if(e.isEdge()){var r=e.source().position(),n=e.target().position(),i=function(a){return Math.round(a)};return $k([i(r.x),i(r.y),i(n.x),i(n.y)])}else return 0},Rp=function(e,r){var n=e._private,i,o=e.isEdge(),a=r==null?Fp:Qw(r),s=a===Fp,u=Jw(e),l=n.bbCachePosKey===u,f=r.useCache&&l,c=function(g){return g._private.bbCache==null||g._private.styleDirty},h=!f||c(e)||o&&c(e.source())||c(e.target());if(h?(l||e.recalculateRenderedStyle(f),i=WA(e,To),n.bbCache=i,n.bbCachePosKey=u):i=n.bbCache,!s){var d=e.isNode();i=en(),(r.includeNodes&&d||r.includeEdges&&!d)&&(r.includeOverlays?Bi(i,n.overlayBounds):Bi(i,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!o||r.includeSourceLabels&&r.includeTargetLabels)?Bi(i,n.labelBounds.all):(r.includeMainLabels&&Bi(i,n.labelBounds.mainRot),r.includeSourceLabels&&Bi(i,n.labelBounds.sourceRot),r.includeTargetLabels&&Bi(i,n.labelBounds.targetRot))),i.w=i.x2-i.x1,i.h=i.y2-i.y1}return i},To={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,useCache:!0},Fp=Qw(To),zp=kr(To);ki.boundingBox=function(t){var e;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(t===void 0||t.useCache===void 0||t.useCache===!0))t===void 0?t=To:t=zp(t),e=Rp(this[0],t);else{e=en(),t=t||To;var r=zp(t),n=this,i=n.cy(),o=i.styleEnabled();if(o)for(var a=0;a<n.length;a++){var s=n[a],u=s._private,l=Jw(s),f=u.bbCachePosKey===l,c=r.useCache&&f&&!u.styleDirty;s.recalculateRenderedStyle(c)}this.updateCompoundBounds(!t.useCache);for(var h=0;h<n.length;h++){var d=n[h];Bi(e,Rp(d,r))}}return e.x1=fn(e.x1),e.y1=fn(e.y1),e.x2=fn(e.x2),e.y2=fn(e.y2),e.w=fn(e.x2-e.x1),e.h=fn(e.y2-e.y1),e};ki.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};ki.boundingBoxAt=function(t){var e=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),i=r.collection();if(n&&(i=e.filter(function(l){return l.isParent()}),e=e.not(i)),zt(t)){var o=t;t=function(){return o}}var a=function(f,c){return f._private.bbAtOldPos=t(f,c)},s=function(f){return f._private.bbAtOldPos};r.startBatch(),e.forEach(a).silentPositions(t),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var u=y2(this.boundingBox({useCache:!1}));return e.silentPositions(s),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),r.endBatch(),u};Ca.boundingbox=Ca.bb=Ca.boundingBox;Ca.renderedBoundingbox=Ca.renderedBoundingBox;var YA=ki,so,$o;so=$o={};var eE=function(e){e.uppercaseName=pp(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=pp(e.outerName),so[e.name]=function(){var n=this[0],i=n._private,o=i.cy,a=o._private.styleEnabled;if(n)if(a){if(n.isParent())return n.updateCompoundBounds(),i[e.autoName]||0;var s=n.pstyle(e.name);switch(s.strValue){case"label":return n.recalculateRenderedStyle(),i.rstyle[e.labelName]||0;default:return s.pfValue}}else return 1},so["outer"+e.uppercaseName]=function(){var n=this[0],i=n._private,o=i.cy,a=o._private.styleEnabled;if(n)if(a){var s=n[e.name](),u=n.pstyle("border-width").pfValue,l=2*n.padding();return s+u+l}else return 1},so["rendered"+e.uppercaseName]=function(){var n=this[0];if(n){var i=n[e.name]();return i*this.cy().zoom()}},so["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n){var i=n[e.outerName]();return i*this.cy().zoom()}}};eE({name:"width"});eE({name:"height"});$o.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};$o.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()};$o.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var XA=$o,jA=function(e,r){if(e.isEdge())return r(e)},KA=function(e,r){if(e.isEdge()){var n=e.cy();return tu(r(e),n.zoom(),n.pan())}},ZA=function(e,r){if(e.isEdge()){var n=e.cy(),i=n.pan(),o=n.zoom();return r(e).map(function(a){return tu(a,o,i)})}},QA=function(e){return e.renderer().getControlPoints(e)},JA=function(e){return e.renderer().getSegmentPoints(e)},eL=function(e){return e.renderer().getSourceEndpoint(e)},tL=function(e){return e.renderer().getTargetEndpoint(e)},rL=function(e){return e.renderer().getEdgeMidpoint(e)},Bp={controlPoints:{get:QA,mult:!0},segmentPoints:{get:JA,mult:!0},sourceEndpoint:{get:eL},targetEndpoint:{get:tL},midpoint:{get:rL}},nL=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},iL=Object.keys(Bp).reduce(function(t,e){var r=Bp[e],n=nL(e);return t[e]=function(){return jA(this,r.get)},r.mult?t[n]=function(){return ZA(this,r.get)}:t[n]=function(){return KA(this,r.get)},t},{}),aL=mt({},VA,YA,XA,iL);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var tE=function(e,r){this.recycle(e,r)};function Qa(){return!1}function vs(){return!0}tE.prototype={instanceString:function(){return"event"},recycle:function(e,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Qa,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?vs:Qa):e!=null&&e.type?r=e:this.type=e,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,i=this.cy.zoom(),o=this.cy.pan();this.renderedPosition={x:n.x*i+o.x,y:n.y*i+o.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=vs;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=vs;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=vs,this.stopPropagation()},isDefaultPrevented:Qa,isPropagationStopped:Qa,isImmediatePropagationStopped:Qa};var rE=/^([^.]+)(\.(?:[^.]+))?$/,oL=".*",nE={qualifierCompare:function(e,r){return e===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},qp=Object.keys(nE),sL={};function iu(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:sL,e=arguments.length>1?arguments[1]:void 0,r=0;r<qp.length;r++){var n=qp[r];this[n]=t[n]||nE[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var Si=iu.prototype,iE=function(e,r,n,i,o,a,s){ur(i)&&(o=i,i=null),s&&(a==null?a=s:a=mt({},a,s));for(var u=Kt(n)?n:n.split(/\s+/),l=0;l<u.length;l++){var f=u[l];if(!xi(f)){var c=f.match(rE);if(c){var h=c[1],d=c[2]?c[2]:null,p=r(e,f,h,d,i,o,a);if(p===!1)break}}}},$p=function(e,r){return e.addEventFields(e.context,r),new tE(r.type,r)},uL=function(e,r,n){if(Ek(n)){r(e,n);return}else if(zt(n)){r(e,$p(e,n));return}for(var i=Kt(n)?n:n.split(/\s+/),o=0;o<i.length;o++){var a=i[o];if(!xi(a)){var s=a.match(rE);if(s){var u=s[1],l=s[2]?s[2]:null,f=$p(e,{type:u,namespace:l,target:e.context});r(e,f)}}}};Si.on=Si.addListener=function(t,e,r,n,i){return iE(this,function(o,a,s,u,l,f,c){ur(f)&&o.listeners.push({event:a,callback:f,type:s,namespace:u,qualifier:l,conf:c})},t,e,r,n,i),this};Si.one=function(t,e,r,n){return this.on(t,e,r,n,{one:!0})};Si.removeListener=Si.off=function(t,e,r,n){var i=this;this.emitting!==0&&(this.listeners=Wk(this.listeners));for(var o=this.listeners,a=function(l){var f=o[l];iE(i,function(c,h,d,p,g,w){if((f.type===d||t==="*")&&(!p&&f.namespace!==".*"||f.namespace===p)&&(!g||c.qualifierCompare(f.qualifier,g))&&(!w||f.callback===w))return o.splice(l,1),!1},t,e,r,n)},s=o.length-1;s>=0;s--)a(s);return this};Si.removeAllListeners=function(){return this.removeListener("*")};Si.emit=Si.trigger=function(t,e,r){var n=this.listeners,i=n.length;return this.emitting++,Kt(e)||(e=[e]),uL(this,function(o,a){r!=null&&(n=[{event:a.event,type:a.type,namespace:a.namespace,callback:r}],i=n.length);for(var s=function(f){var c=n[f];if(c.type===a.type&&(!c.namespace||c.namespace===a.namespace||c.namespace===oL)&&o.eventMatches(o.context,c,a)){var h=[a];e!=null&&Xk(h,e),o.beforeEmit(o.context,c,a),c.conf&&c.conf.one&&(o.listeners=o.listeners.filter(function(g){return g!==c}));var d=o.callbackContext(o.context,c,a),p=c.callback.apply(d,h);o.afterEmit(o.context,c,a),p===!1&&(a.stopPropagation(),a.preventDefault())}},u=0;u<i;u++)s(u);o.bubble(o.context)&&!a.isPropagationStopped()&&o.parent(o.context).emit(a,e)},t),this.emitting--,this};var lL={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var i=r.qualifier;return i!=null?e!==n.target&&Bo(n.target)&&i.matches(n.target):!0},addEventFields:function(e,r){r.cy=e.cy(),r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e},beforeEmit:function(e,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},ps=function(e){return ft(e)?new Ci(e):e},aE={createEmitter:function(){for(var e=0;e<this.length;e++){var r=this[e],n=r._private;n.emitter||(n.emitter=new iu(lL,r))}return this},emitter:function(){return this._private.emitter},on:function(e,r,n){for(var i=ps(r),o=0;o<this.length;o++){var a=this[o];a.emitter().on(e,i,n)}return this},removeListener:function(e,r,n){for(var i=ps(r),o=0;o<this.length;o++){var a=this[o];a.emitter().removeListener(e,i,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var r=this[e];r.emitter().removeAllListeners()}return this},one:function(e,r,n){for(var i=ps(r),o=0;o<this.length;o++){var a=this[o];a.emitter().one(e,i,n)}return this},once:function(e,r,n){for(var i=ps(r),o=0;o<this.length;o++){var a=this[o];a.emitter().on(e,i,n,{once:!0,onceCollection:this})}},emit:function(e,r){for(var n=0;n<this.length;n++){var i=this[n];i.emitter().emit(e,r)}return this},emitAndNotify:function(e,r){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,r),this}};Vt.eventAliasesOn(aE);var oE={nodes:function(e){return this.filter(function(r){return r.isNode()}).filter(e)},edges:function(e){return this.filter(function(r){return r.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var i=this[n];i.isNode()?e.push(i):r.push(i)}return{nodes:e,edges:r}},filter:function(e,r){if(e===void 0)return this;if(ft(e)||tn(e))return new Ci(e).filter(this);if(ur(e)){for(var n=this.spawn(),i=this,o=0;o<i.length;o++){var a=i[o],s=r?e.apply(r,[a,o,i]):e(a,o,i);s&&n.push(a)}return n}return this.spawn()},not:function(e){if(e){ft(e)&&(e=this.filter(e));for(var r=this.spawn(),n=0;n<this.length;n++){var i=this[n],o=e.has(i);o||r.push(i)}return r}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(ft(e)){var r=e;return this.filter(r)}for(var n=this.spawn(),i=this,o=e,a=this.length<e.length,s=a?i:o,u=a?o:i,l=0;l<s.length;l++){var f=s[l];u.has(f)&&n.push(f)}return n},xor:function(e){var r=this._private.cy;ft(e)&&(e=r.$(e));var n=this.spawn(),i=this,o=e,a=function(u,l){for(var f=0;f<u.length;f++){var c=u[f],h=c._private.data.id,d=l.hasElementWithId(h);d||n.push(c)}};return a(i,o),a(o,i),n},diff:function(e){var r=this._private.cy;ft(e)&&(e=r.$(e));var n=this.spawn(),i=this.spawn(),o=this.spawn(),a=this,s=e,u=function(f,c,h){for(var d=0;d<f.length;d++){var p=f[d],g=p._private.data.id,w=c.hasElementWithId(g);w?o.merge(p):h.push(p)}};return u(a,s,n),u(s,a,i),{left:n,right:i,both:o}},add:function(e){var r=this._private.cy;if(!e)return this;if(ft(e)){var n=e;e=r.mutableElements().filter(n)}for(var i=this.spawnSelf(),o=0;o<e.length;o++){var a=e[o],s=!this.has(a);s&&i.push(a)}return i},merge:function(e){var r=this._private,n=r.cy;if(!e)return this;if(e&&ft(e)){var i=e;e=n.mutableElements().filter(i)}for(var o=r.map,a=0;a<e.length;a++){var s=e[a],u=s._private.data.id,l=!o.has(u);if(l){var f=this.length++;this[f]=s,o.set(u,{ele:s,index:f})}}return this},unmergeAt:function(e){var r=this[e],n=r.id(),i=this._private,o=i.map;this[e]=void 0,o.delete(n);var a=e===this.length-1;if(this.length>1&&!a){var s=this.length-1,u=this[s],l=u._private.data.id;this[s]=void 0,this[e]=u,o.set(l,{ele:u,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var r=this._private,n=e._private.data.id,i=r.map,o=i.get(n);if(!o)return this;var a=o.index;return this.unmergeAt(a),this},unmerge:function(e){var r=this._private.cy;if(!e)return this;if(e&&ft(e)){var n=e;e=r.mutableElements().filter(n)}for(var i=0;i<e.length;i++)this.unmergeOne(e[i]);return this},unmergeBy:function(e){for(var r=this.length-1;r>=0;r--){var n=this[r];e(n)&&this.unmergeAt(r)}return this},map:function(e,r){for(var n=[],i=this,o=0;o<i.length;o++){var a=i[o],s=r?e.apply(r,[a,o,i]):e(a,o,i);n.push(s)}return n},reduce:function(e,r){for(var n=r,i=this,o=0;o<i.length;o++)n=e(n,i[o],o,i);return n},max:function(e,r){for(var n=-1/0,i,o=this,a=0;a<o.length;a++){var s=o[a],u=r?e.apply(r,[s,a,o]):e(s,a,o);u>n&&(n=u,i=s)}return{value:n,ele:i}},min:function(e,r){for(var n=1/0,i,o=this,a=0;a<o.length;a++){var s=o[a],u=r?e.apply(r,[s,a,o]):e(s,a,o);u<n&&(n=u,i=s)}return{value:n,ele:i}}},Gt=oE;Gt.u=Gt["|"]=Gt["+"]=Gt.union=Gt.or=Gt.add;Gt["\\"]=Gt["!"]=Gt["-"]=Gt.difference=Gt.relativeComplement=Gt.subtract=Gt.not;Gt.n=Gt["&"]=Gt["."]=Gt.and=Gt.intersection=Gt.intersect;Gt["^"]=Gt["(+)"]=Gt["(-)"]=Gt.symmetricDifference=Gt.symdiff=Gt.xor;Gt.fnFilter=Gt.filterFn=Gt.stdFilter=Gt.filter;Gt.complement=Gt.abscomp=Gt.absoluteComplement;var fL={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},sE=function(e,r){var n=e.cy(),i=n.hasCompoundNodes();function o(f){var c=f.pstyle("z-compound-depth");return c.value==="auto"?i?f.zDepth():0:c.value==="bottom"?-1:c.value==="top"?ev:0}var a=o(e)-o(r);if(a!==0)return a;function s(f){var c=f.pstyle("z-index-compare");return c.value==="auto"&&f.isNode()?1:0}var u=s(e)-s(r);if(u!==0)return u;var l=e.pstyle("z-index").value-r.pstyle("z-index").value;return l!==0?l:e.poolIndex()-r.poolIndex()},Rs={forEach:function(e,r){if(ur(e))for(var n=this.length,i=0;i<n;i++){var o=this[i],a=r?e.apply(r,[o,i,this]):e(o,i,this);if(a===!1)break}return this},toArray:function(){for(var e=[],r=0;r<this.length;r++)e.push(this[r]);return e},slice:function(e,r){var n=[],i=this.length;r==null&&(r=i),e==null&&(e=0),e<0&&(e=i+e),r<0&&(r=i+r);for(var o=e;o>=0&&o<r&&o<i;o++)n.push(this[o]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!ur(e))return this;var r=this.toArray().sort(e);return this.spawn(r)},sortByZIndex:function(){return this.sort(sE)},zDepth:function(){var e=this[0];if(e){var r=e._private,n=r.group;if(n==="nodes"){var i=r.data.parent?e.parents().size():0;return e.isParent()?i:ev-1}else{var o=r.source,a=r.target,s=o.zDepth(),u=a.zDepth();return Math.max(s,u,0)}}}};Rs.each=Rs.forEach;var cL=function(){var e="undefined",r=(typeof Symbol>"u"?"undefined":yr(Symbol))!=e&&yr(Symbol.iterator)!=e;r&&(Rs[Symbol.iterator]=function(){var n=this,i={value:void 0,done:!1},o=0,a=this.length;return dw({next:function(){return o<a?i.value=n[o++]:(i.value=void 0,i.done=!0),i}},Symbol.iterator,function(){return this})})};cL();var hL=kr({nodeDimensionsIncludeLabels:!1}),Ss={layoutDimensions:function(e){e=hL(e);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(e,r,n){var i=this.nodes().filter(function(T){return!T.isParent()}),o=this.cy(),a=r.eles,s=function(C){return C.id()},u=yo(n,s);e.emit({type:"layoutstart",layout:e}),e.animations=[];var l=function(C,b,k){var S={x:b.x1+b.w/2,y:b.y1+b.h/2},O={x:(k.x-S.x)*C,y:(k.y-S.y)*C};return{x:S.x+O.x,y:S.y+O.y}},f=r.spacingFactor&&r.spacingFactor!==1,c=function(){if(!f)return null;for(var C=en(),b=0;b<i.length;b++){var k=i[b],S=u(k,b);E2(C,S.x,S.y)}return C},h=c(),d=yo(function(T,C){var b=u(T,C);if(f){var k=Math.abs(r.spacingFactor);b=l(k,h,b)}return r.transform!=null&&(b=r.transform(T,b)),b},s);if(r.animate){for(var p=0;p<i.length;p++){var g=i[p],w=d(g,p),v=r.animateFilter==null||r.animateFilter(g,p);if(v){var m=g.animation({position:w,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(m)}else g.position(w)}if(r.fit){var y=o.animation({fit:{boundingBox:a.boundingBoxAt(d),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});e.animations.push(y)}else if(r.zoom!==void 0&&r.pan!==void 0){var E=o.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(E)}e.animations.forEach(function(T){return T.play()}),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),Ra.all(e.animations.map(function(T){return T.promise()})).then(function(){e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e})})}else i.positions(d),r.fit&&o.fit(r.eles,r.padding),r.zoom!=null&&o.zoom(r.zoom),r.pan&&o.pan(r.pan),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var r=this.cy();return r.makeLayout(mt({},e,{eles:this}))}};Ss.createLayout=Ss.makeLayout=Ss.layout;function uE(t,e,r){var n=r._private,i=n.styleCache=n.styleCache||[],o;return(o=i[t])!=null||(o=i[t]=e(r)),o}function au(t,e){return t=Ui(t),function(n){return uE(t,e,n)}}function ou(t,e){t=Ui(t);var r=function(i){return e.call(i)};return function(){var i=this[0];if(i)return uE(t,r,i)}}var Sr={recalculateRenderedStyle:function(e){var r=this.cy(),n=r.renderer(),i=r.styleEnabled();return n&&i&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),r=function(o){return o._private.styleCache=null};if(e.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(i){r(i),i.connectedEdges().forEach(r)});return this},updateStyle:function(e){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var i=r.hasCompoundNodes(),o=this;e=!!(e||e===void 0),i&&(o=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var a=o;return e?a.emitAndNotify("style"):a.emit("style"),o.forEach(function(s){return s._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],i=n.cy();if(i.styleEnabled()&&n){this.cleanStyle();var o=n._private.style[e];return o??(r?i.style().getDefaultProperty(e):null)}},numericStyle:function(e){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(e);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(e){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(e).units},renderedStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,e)},style:function(e,r){var n=this.cy();if(!n.styleEnabled())return this;var i=!1,o=n.style();if(zt(e)){var a=e;o.applyBypass(this,a,i),this.emitAndNotify("style")}else if(ft(e))if(r===void 0){var s=this[0];return s?o.getStylePropertyValue(s,e):void 0}else o.applyBypass(this,e,r,i),this.emitAndNotify("style");else if(e===void 0){var u=this[0];return u?o.getRawStyle(u):void 0}return this},removeStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,i=r.style(),o=this;if(e===void 0)for(var a=0;a<o.length;a++){var s=o[a];i.removeAllBypasses(s,n)}else{e=e.split(/\s+/);for(var u=0;u<o.length;u++){var l=o[u];i.removeBypasses(l,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var r=e.hasCompoundNodes(),n=this[0];if(n){var i=n._private,o=n.pstyle("opacity").value;if(!r)return o;var a=i.data.parent?n.parents():null;if(a)for(var s=0;s<a.length;s++){var u=a[s],l=u.pstyle("opacity").value;o=l*o}return o}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function Vu(t,e){var r=t._private,n=r.data.parent?t.parents():null;if(n)for(var i=0;i<n.length;i++){var o=n[i];if(!e(o))return!1}return!0}function lv(t){var e=t.ok,r=t.edgeOkViaNode||t.ok,n=t.parentOk||t.ok;return function(){var i=this.cy();if(!i.styleEnabled())return!0;var o=this[0],a=i.hasCompoundNodes();if(o){var s=o._private;if(!e(o))return!1;if(o.isNode())return!a||Vu(o,n);var u=s.source,l=s.target;return r(u)&&(!a||Vu(u,r))&&(u===l||r(l)&&(!a||Vu(l,r)))}}}var Fa=au("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});Sr.takesUpSpace=ou("takesUpSpace",lv({ok:Fa}));var dL=au("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&Fa(t)}),vL=au("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&Fa(t)});Sr.interactive=ou("interactive",lv({ok:dL,parentOk:vL,edgeOkViaNode:Fa}));Sr.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var pL=au("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&Fa(t)}),gL=Fa;Sr.visible=ou("visible",lv({ok:pL,edgeOkViaNode:gL}));Sr.hidden=function(){var t=this[0];if(t)return!t.visible()};Sr.isBundledBezier=ou("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});Sr.bypass=Sr.css=Sr.style;Sr.renderedCss=Sr.renderedStyle;Sr.removeBypass=Sr.removeCss=Sr.removeStyle;Sr.pstyle=Sr.parsedStyle;var wi={};function Gp(t){return function(){var e=arguments,r=[];if(e.length===2){var n=e[0],i=e[1];this.on(t.event,n,i)}else if(e.length===1&&ur(e[0])){var o=e[0];this.on(t.event,o)}else if(e.length===0||e.length===1&&Kt(e[0])){for(var a=e.length===1?e[0]:null,s=0;s<this.length;s++){var u=this[s],l=!t.ableField||u._private[t.ableField],f=u._private[t.field]!=t.value;if(t.overrideAble){var c=t.overrideAble(u);if(c!==void 0&&(l=c,!c))return this}l&&(u._private[t.field]=t.value,f&&r.push(u))}var h=this.spawn(r);h.updateStyle(),h.emit(t.event),a&&h.emit(a)}return this}}function za(t){wi[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var r=t.overrideField(e);if(r!==void 0)return r}return e._private[t.field]}},wi[t.on]=Gp({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),wi[t.off]=Gp({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}za({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});za({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});za({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});za({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});wi.deselect=wi.unselect;wi.grabbed=function(){var t=this[0];if(t)return t._private.grabbed};za({field:"active",on:"activate",off:"unactivate"});za({field:"pannable",on:"panify",off:"unpanify"});wi.inactive=function(){var t=this[0];if(t)return!t._private.active};var Rr={},Hp=function(e){return function(n){for(var i=this,o=[],a=0;a<i.length;a++){var s=i[a];if(s.isNode()){for(var u=!1,l=s.connectedEdges(),f=0;f<l.length;f++){var c=l[f],h=c.source(),d=c.target();if(e.noIncomingEdges&&d===s&&h!==s||e.noOutgoingEdges&&h===s&&d!==s){u=!0;break}}u||o.push(s)}}return this.spawn(o,!0).filter(n)}},Up=function(e){return function(r){for(var n=this,i=[],o=0;o<n.length;o++){var a=n[o];if(a.isNode())for(var s=a.connectedEdges(),u=0;u<s.length;u++){var l=s[u],f=l.source(),c=l.target();e.outgoing&&f===a?(i.push(l),i.push(c)):e.incoming&&c===a&&(i.push(l),i.push(f))}}return this.spawn(i,!0).filter(r)}},Vp=function(e){return function(r){for(var n=this,i=[],o={};;){var a=e.outgoing?n.outgoers():n.incomers();if(a.length===0)break;for(var s=!1,u=0;u<a.length;u++){var l=a[u],f=l.id();o[f]||(o[f]=!0,i.push(l),s=!0)}if(!s)break;n=a}return this.spawn(i,!0).filter(r)}};Rr.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null};mt(Rr,{roots:Hp({noIncomingEdges:!0}),leaves:Hp({noOutgoingEdges:!0}),outgoers:cn(Up({outgoing:!0}),"outgoers"),successors:Vp({outgoing:!0}),incomers:cn(Up({incoming:!0}),"incomers"),predecessors:Vp({incoming:!0})});mt(Rr,{neighborhood:cn(function(t){for(var e=[],r=this.nodes(),n=0;n<r.length;n++)for(var i=r[n],o=i.connectedEdges(),a=0;a<o.length;a++){var s=o[a],u=s.source(),l=s.target(),f=i===u?l:u;f.length>0&&e.push(f[0]),e.push(s[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});Rr.neighbourhood=Rr.neighborhood;Rr.closedNeighbourhood=Rr.closedNeighborhood;Rr.openNeighbourhood=Rr.openNeighborhood;mt(Rr,{source:cn(function(e){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&e?n.filter(e):n},"source"),target:cn(function(e){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&e?n.filter(e):n},"target"),sources:Wp({attr:"source"}),targets:Wp({attr:"target"})});function Wp(t){return function(r){for(var n=[],i=0;i<this.length;i++){var o=this[i],a=o._private[t.attr];a&&n.push(a)}return this.spawn(n,!0).filter(r)}}mt(Rr,{edgesWith:cn(Yp(),"edgesWith"),edgesTo:cn(Yp({thisIsSrc:!0}),"edgesTo")});function Yp(t){return function(r){var n=[],i=this._private.cy,o=t||{};ft(r)&&(r=i.$(r));for(var a=0;a<r.length;a++)for(var s=r[a]._private.edges,u=0;u<s.length;u++){var l=s[u],f=l._private.data,c=this.hasElementWithId(f.source)&&r.hasElementWithId(f.target),h=r.hasElementWithId(f.source)&&this.hasElementWithId(f.target),d=c||h;d&&((o.thisIsSrc||o.thisIsTgt)&&(o.thisIsSrc&&!c||o.thisIsTgt&&!h)||n.push(l))}return this.spawn(n,!0)}}mt(Rr,{connectedEdges:cn(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var i=r[n];if(i.isNode())for(var o=i._private.edges,a=0;a<o.length;a++){var s=o[a];e.push(s)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:cn(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var i=r[n];i.isEdge()&&(e.push(i.source()[0]),e.push(i.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:cn(Xp(),"parallelEdges"),codirectedEdges:cn(Xp({codirected:!0}),"codirectedEdges")});function Xp(t){var e={codirected:!1};return t=mt({},e,t),function(n){for(var i=[],o=this.edges(),a=t,s=0;s<o.length;s++)for(var u=o[s],l=u._private,f=l.source,c=f._private.data.id,h=l.data.target,d=f._private.edges,p=0;p<d.length;p++){var g=d[p],w=g._private.data,v=w.target,m=w.source,y=v===h&&m===c,E=c===v&&h===m;(a.codirected&&y||!a.codirected&&(y||E))&&i.push(g)}return this.spawn(i,!0).filter(n)}}mt(Rr,{components:function(e){var r=this,n=r.cy(),i=n.collection(),o=e==null?r.nodes():e.nodes(),a=[];e!=null&&o.empty()&&(o=e.sources());var s=function(f,c){i.merge(f),o.unmerge(f),c.merge(f)};if(o.empty())return r.spawn();var u=function(){var f=n.collection();a.push(f);var c=o[0];s(c,f),r.bfs({directed:!1,roots:c,visit:function(d){return s(d,f)}}),f.forEach(function(h){h.connectedEdges().forEach(function(d){r.has(d)&&f.has(d.source())&&f.has(d.target())&&f.merge(d)})})};do u();while(o.length>0);return a},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});Rr.componentsOf=Rr.components;var Dr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){hr("A collection must have a reference to the core");return}var o=new Pn,a=!1;if(!r)r=[];else if(r.length>0&&zt(r[0])&&!Bo(r[0])){a=!0;for(var s=[],u=new Pa,l=0,f=r.length;l<f;l++){var c=r[l];c.data==null&&(c.data={});var h=c.data;if(h.id==null)h.id=Dw();else if(e.hasElementWithId(h.id)||u.has(h.id))continue;var d=new eu(e,c,!1);s.push(d),u.add(h.id)}r=s}this.length=0;for(var p=0,g=r.length;p<g;p++){var w=r[p][0];if(w!=null){var v=w._private.data.id;(!n||!o.has(v))&&(n&&o.set(v,{index:this.length,ele:w}),this[this.length]=w,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(m){this.lazyMap=m},rebuildMap:function(){for(var y=this.lazyMap=new Pn,E=this.eles,T=0;T<E.length;T++){var C=E[T];y.set(C.id(),{index:T,ele:C})}}},n&&(this._private.map=o),a&&!i&&this.restore()},rr=eu.prototype=Dr.prototype=Object.create(Array.prototype);rr.instanceString=function(){return"collection"};rr.spawn=function(t,e){return new Dr(this.cy(),t,e)};rr.spawnSelf=function(){return this.spawn(this)};rr.cy=function(){return this._private.cy};rr.renderer=function(){return this._private.cy.renderer()};rr.element=function(){return this[0]};rr.collection=function(){return pw(this)?this:new Dr(this._private.cy,[this])};rr.unique=function(){return new Dr(this._private.cy,this,!0)};rr.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)};rr.getElementById=function(t){t=""+t;var e=this._private.cy,r=this._private.map.get(t);return r?r.ele:new Dr(e)};rr.$id=rr.getElementById;rr.poolIndex=function(){var t=this._private.cy,e=t._private.elements,r=this[0]._private.data.id;return e._private.map.get(r).index};rr.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index};rr.indexOfId=function(t){return t=""+t,this._private.map.get(t).index};rr.json=function(t){var e=this.element(),r=this.cy();if(e==null&&t)return this;if(e!=null){var n=e._private;if(zt(t)){if(r.startBatch(),t.data){e.data(t.data);var i=n.data;if(e.isEdge()){var o=!1,a={},s=t.data.source,u=t.data.target;s!=null&&s!=i.source&&(a.source=""+s,o=!0),u!=null&&u!=i.target&&(a.target=""+u,o=!0),o&&(e=e.move(a))}else{var l="parent"in t.data,f=t.data.parent;l&&(f!=null||i.parent!=null)&&f!=i.parent&&(f===void 0&&(f=null),f!=null&&(f=""+f),e=e.move({parent:f}))}}t.position&&e.position(t.position);var c=function(g,w,v){var m=t[g];m!=null&&m!==n[g]&&(m?e[w]():e[v]())};return c("removed","remove","restore"),c("selected","select","unselect"),c("selectable","selectify","unselectify"),c("locked","lock","unlock"),c("grabbable","grabify","ungrabify"),c("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),r.endBatch(),this}else if(t===void 0){var h={data:In(n.data),position:In(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};h.classes="";var d=0;return n.classes.forEach(function(p){return h.classes+=d++===0?p:" "+p}),h}}};rr.jsons=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e],n=r.json();t.push(n)}return t};rr.clone=function(){for(var t=this.cy(),e=[],r=0;r<this.length;r++){var n=this[r],i=n.json(),o=new eu(t,i,!1);e.push(o)}return new Dr(t,e)};rr.copy=rr.clone;rr.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),i=n._private,o=[],a=[],s,u=0,l=r.length;u<l;u++){var f=r[u];e&&!f.removed()||(f.isNode()?o.push(f):a.push(f))}s=o.concat(a);var c,h=function(){s.splice(c,1),c--};for(c=0;c<s.length;c++){var d=s[c],p=d._private,g=p.data;if(d.clearTraversalCache(),!(!e&&!p.removed)){if(g.id===void 0)g.id=Dw();else if(Xe(g.id))g.id=""+g.id;else if(xi(g.id)||!ft(g.id)){hr("Can not create element with invalid string ID `"+g.id+"`"),h();continue}else if(n.hasElementWithId(g.id)){hr("Can not create second element with ID `"+g.id+"`"),h();continue}}var w=g.id;if(d.isNode()){var v=p.position;v.x==null&&(v.x=0),v.y==null&&(v.y=0)}if(d.isEdge()){for(var m=d,y=["source","target"],E=y.length,T=!1,C=0;C<E;C++){var b=y[C],k=g[b];Xe(k)&&(k=g[b]=""+g[b]),k==null||k===""?(hr("Can not create edge `"+w+"` with unspecified "+b),T=!0):n.hasElementWithId(k)||(hr("Can not create edge `"+w+"` with nonexistant "+b+" `"+k+"`"),T=!0)}if(T){h();continue}var S=n.getElementById(g.source),O=n.getElementById(g.target);S.same(O)?S._private.edges.push(m):(S._private.edges.push(m),O._private.edges.push(m)),m._private.source=S,m._private.target=O}p.map=new Pn,p.map.set(w,{ele:d,index:0}),p.removed=!1,e&&n.addToPool(d)}for(var N=0;N<o.length;N++){var D=o[N],I=D._private.data;Xe(I.parent)&&(I.parent=""+I.parent);var x=I.parent,P=x!=null;if(P||D._private.parent){var L=D._private.parent?n.collection().merge(D._private.parent):n.getElementById(x);if(L.empty())I.parent=void 0;else if(L[0].removed())Wt("Node added with missing parent, reference to parent removed"),I.parent=void 0,D._private.parent=null;else{for(var M=!1,R=L;!R.empty();){if(D.same(R)){M=!0,I.parent=void 0;break}R=R.parent()}M||(L[0]._private.children.push(D),D._private.parent=L[0],i.hasCompoundNodes=!0)}}}if(s.length>0){for(var V=s.length===r.length?r:new Dr(n,s),U=0;U<V.length;U++){var q=V[U];q.isNode()||(q.parallelEdges().clearTraversalCache(),q.source().clearTraversalCache(),q.target().clearTraversalCache())}var $;i.hasCompoundNodes?$=n.collection().merge(V).merge(V.connectedNodes()).merge(V.parent()):$=V,$.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?V.emitAndNotify("add"):e&&V.emit("add")}return r};rr.removed=function(){var t=this[0];return t&&t._private.removed};rr.inside=function(){var t=this[0];return t&&!t._private.removed};rr.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],i={},o=r._private.cy;function a(x){for(var P=x._private.edges,L=0;L<P.length;L++)u(P[L])}function s(x){for(var P=x._private.children,L=0;L<P.length;L++)u(P[L])}function u(x){var P=i[x.id()];e&&x.removed()||P||(i[x.id()]=!0,x.isNode()?(n.push(x),a(x),s(x)):n.unshift(x))}for(var l=0,f=r.length;l<f;l++){var c=r[l];u(c)}function h(x,P){var L=x._private.edges;_i(L,P),x.clearTraversalCache()}function d(x){x.clearTraversalCache()}var p=[];p.ids={};function g(x,P){P=P[0],x=x[0];var L=x._private.children,M=x.id();_i(L,P),P._private.parent=null,p.ids[M]||(p.ids[M]=!0,p.push(x))}r.dirtyCompoundBoundsCache(),e&&o.removeFromPool(n);for(var w=0;w<n.length;w++){var v=n[w];if(v.isEdge()){var m=v.source()[0],y=v.target()[0];h(m,v),h(y,v);for(var E=v.parallelEdges(),T=0;T<E.length;T++){var C=E[T];d(C),C.isBundledBezier()&&C.dirtyBoundingBoxCache()}}else{var b=v.parent();b.length!==0&&g(b,v)}e&&(v._private.removed=!0)}var k=o._private.elements;o._private.hasCompoundNodes=!1;for(var S=0;S<k.length;S++){var O=k[S];if(O.isParent()){o._private.hasCompoundNodes=!0;break}}var N=new Dr(this.cy(),n);N.size()>0&&(t?N.emitAndNotify("remove"):e&&N.emit("remove"));for(var D=0;D<p.length;D++){var I=p[D];(!e||!I.removed())&&I.updateStyle()}return N};rr.move=function(t){var e=this._private.cy,r=this,n=!1,i=!1,o=function(p){return p==null?p:""+p};if(t.source!==void 0||t.target!==void 0){var a=o(t.source),s=o(t.target),u=a!=null&&e.hasElementWithId(a),l=s!=null&&e.hasElementWithId(s);(u||l)&&(e.batch(function(){r.remove(n,i),r.emitAndNotify("moveout");for(var d=0;d<r.length;d++){var p=r[d],g=p._private.data;p.isEdge()&&(u&&(g.source=a),l&&(g.target=s))}r.restore(n,i)}),r.emitAndNotify("move"))}else if(t.parent!==void 0){var f=o(t.parent),c=f===null||e.hasElementWithId(f);if(c){var h=f===null?void 0:f;e.batch(function(){var d=r.remove(n,i);d.emitAndNotify("moveout");for(var p=0;p<r.length;p++){var g=r[p],w=g._private.data;g.isNode()&&(w.parent=h)}d.restore(n,i)}),r.emitAndNotify("move")}}return this};[$w,kA,Ts,bi,Da,UA,nu,aL,aE,oE,fL,Rs,Ss,Sr,wi,Rr].forEach(function(t){mt(rr,t)});var mL={add:function(e){var r,n=this;if(tn(e)){var i=e;if(i._private.cy===n)r=i.restore();else{for(var o=[],a=0;a<i.length;a++){var s=i[a];o.push(s.json())}r=new Dr(n,o)}}else if(Kt(e)){var u=e;r=new Dr(n,u)}else if(zt(e)&&(Kt(e.nodes)||Kt(e.edges))){for(var l=e,f=[],c=["nodes","edges"],h=0,d=c.length;h<d;h++){var p=c[h],g=l[p];if(Kt(g))for(var w=0,v=g.length;w<v;w++){var m=mt({group:p},g[w]);f.push(m)}}r=new Dr(n,f)}else{var y=e;r=new eu(n,y).collection()}return r},remove:function(e){if(!tn(e)){if(ft(e)){var r=e;e=this.$(r)}}return e.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function yL(t,e,r,n){var i=4,o=.001,a=1e-7,s=10,u=11,l=1/(u-1),f=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var c=0;c<4;++c)if(typeof arguments[c]!="number"||isNaN(arguments[c])||!isFinite(arguments[c]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var h=f?new Float32Array(u):new Array(u);function d(O,N){return 1-3*N+3*O}function p(O,N){return 3*N-6*O}function g(O){return 3*O}function w(O,N,D){return((d(N,D)*O+p(N,D))*O+g(N))*O}function v(O,N,D){return 3*d(N,D)*O*O+2*p(N,D)*O+g(N)}function m(O,N){for(var D=0;D<i;++D){var I=v(N,t,r);if(I===0)return N;var x=w(N,t,r)-O;N-=x/I}return N}function y(){for(var O=0;O<u;++O)h[O]=w(O*l,t,r)}function E(O,N,D){var I,x,P=0;do x=N+(D-N)/2,I=w(x,t,r)-O,I>0?D=x:N=x;while(Math.abs(I)>a&&++P<s);return x}function T(O){for(var N=0,D=1,I=u-1;D!==I&&h[D]<=O;++D)N+=l;--D;var x=(O-h[D])/(h[D+1]-h[D]),P=N+x*l,L=v(P,t,r);return L>=o?m(O,P):L===0?P:E(O,N,N+l)}var C=!1;function b(){C=!0,(t!==e||r!==n)&&y()}var k=function(N){return C||b(),t===e&&r===n?N:N===0?0:N===1?1:w(T(N),e,n)};k.getControlPoints=function(){return[{x:t,y:e},{x:r,y:n}]};var S="generateBezier("+[t,e,r,n]+")";return k.toString=function(){return S},k}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var bL=function(){function t(n){return-n.tension*n.x-n.friction*n.v}function e(n,i,o){var a={x:n.x+o.dx*i,v:n.v+o.dv*i,tension:n.tension,friction:n.friction};return{dx:a.v,dv:t(a)}}function r(n,i){var o={dx:n.v,dv:t(n)},a=e(n,i*.5,o),s=e(n,i*.5,a),u=e(n,i,s),l=1/6*(o.dx+2*(a.dx+s.dx)+u.dx),f=1/6*(o.dv+2*(a.dv+s.dv)+u.dv);return n.x=n.x+l*i,n.v=n.v+f*i,n}return function n(i,o,a){var s={x:-1,v:0,tension:null,friction:null},u=[0],l=0,f=1/1e4,c=16/1e3,h,d,p;for(i=parseFloat(i)||500,o=parseFloat(o)||20,a=a||null,s.tension=i,s.friction=o,h=a!==null,h?(l=n(i,o),d=l/a*c):d=c;p=r(p||s,d),u.push(1+p.x),l+=16,Math.abs(p.x)>f&&Math.abs(p.v)>f;);return h?function(g){return u[g*(u.length-1)|0]}:l}}(),er=function(e,r,n,i){var o=yL(e,r,n,i);return function(a,s,u){return a+(s-a)*o(u)}},Ds={linear:function(e,r,n){return e+(r-e)*n},ease:er(.25,.1,.25,1),"ease-in":er(.42,0,1,1),"ease-out":er(0,0,.58,1),"ease-in-out":er(.42,0,.58,1),"ease-in-sine":er(.47,0,.745,.715),"ease-out-sine":er(.39,.575,.565,1),"ease-in-out-sine":er(.445,.05,.55,.95),"ease-in-quad":er(.55,.085,.68,.53),"ease-out-quad":er(.25,.46,.45,.94),"ease-in-out-quad":er(.455,.03,.515,.955),"ease-in-cubic":er(.55,.055,.675,.19),"ease-out-cubic":er(.215,.61,.355,1),"ease-in-out-cubic":er(.645,.045,.355,1),"ease-in-quart":er(.895,.03,.685,.22),"ease-out-quart":er(.165,.84,.44,1),"ease-in-out-quart":er(.77,0,.175,1),"ease-in-quint":er(.755,.05,.855,.06),"ease-out-quint":er(.23,1,.32,1),"ease-in-out-quint":er(.86,0,.07,1),"ease-in-expo":er(.95,.05,.795,.035),"ease-out-expo":er(.19,1,.22,1),"ease-in-out-expo":er(1,0,0,1),"ease-in-circ":er(.6,.04,.98,.335),"ease-out-circ":er(.075,.82,.165,1),"ease-in-out-circ":er(.785,.135,.15,.86),spring:function(e,r,n){if(n===0)return Ds.linear;var i=bL(e,r,n);return function(o,a,s){return o+(a-o)*i(s)}},"cubic-bezier":er};function jp(t,e,r,n,i){if(n===1||e===r)return r;var o=i(e,r,n);return t==null||((t.roundValue||t.color)&&(o=Math.round(o)),t.min!==void 0&&(o=Math.max(o,t.min)),t.max!==void 0&&(o=Math.min(o,t.max))),o}function Kp(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function la(t,e,r,n,i){var o=i!=null?i.type:null;r<0?r=0:r>1&&(r=1);var a=Kp(t,i),s=Kp(e,i);if(Xe(a)&&Xe(s))return jp(o,a,s,r,n);if(Kt(a)&&Kt(s)){for(var u=[],l=0;l<s.length;l++){var f=a[l],c=s[l];if(f!=null&&c!=null){var h=jp(o,f,c,r,n);u.push(h)}else u.push(c)}return u}}function wL(t,e,r,n){var i=!n,o=t._private,a=e._private,s=a.easing,u=a.startTime,l=n?t:t.cy(),f=l.style();if(!a.easingImpl)if(s==null)a.easingImpl=Ds.linear;else{var c;if(ft(s)){var h=f.parse("transition-timing-function",s);c=h.value}else c=s;var d,p;ft(c)?(d=c,p=[]):(d=c[1],p=c.slice(2).map(function(V){return+V})),p.length>0?(d==="spring"&&p.push(a.duration),a.easingImpl=Ds[d].apply(null,p)):a.easingImpl=Ds[d]}var g=a.easingImpl,w;if(a.duration===0?w=1:w=(r-u)/a.duration,a.applying&&(w=a.progress),w<0?w=0:w>1&&(w=1),a.delay==null){var v=a.startPosition,m=a.position;if(m&&i&&!t.locked()){var y={};Ja(v.x,m.x)&&(y.x=la(v.x,m.x,w,g)),Ja(v.y,m.y)&&(y.y=la(v.y,m.y,w,g)),t.position(y)}var E=a.startPan,T=a.pan,C=o.pan,b=T!=null&&n;b&&(Ja(E.x,T.x)&&(C.x=la(E.x,T.x,w,g)),Ja(E.y,T.y)&&(C.y=la(E.y,T.y,w,g)),t.emit("pan"));var k=a.startZoom,S=a.zoom,O=S!=null&&n;O&&(Ja(k,S)&&(o.zoom=xo(o.minZoom,la(k,S,w,g),o.maxZoom)),t.emit("zoom")),(b||O)&&t.emit("viewport");var N=a.style;if(N&&N.length>0&&i){for(var D=0;D<N.length;D++){var I=N[D],x=I.name,P=I,L=a.startStyle[x],M=f.properties[L.name],R=la(L,P,w,g,M);f.overrideBypass(t,x,R)}t.emit("style")}}return a.progress=w,w}function Ja(t,e){return t==null||e==null?!1:Xe(t)&&Xe(e)?!0:!!(t&&e)}function EL(t,e,r,n){var i=e._private;i.started=!0,i.startTime=r-i.progress*i.duration}function Zp(t,e){var r=e._private.aniEles,n=[];function i(f,c){var h=f._private,d=h.animation.current,p=h.animation.queue,g=!1;if(d.length===0){var w=p.shift();w&&d.push(w)}for(var v=function(C){for(var b=C.length-1;b>=0;b--){var k=C[b];k()}C.splice(0,C.length)},m=d.length-1;m>=0;m--){var y=d[m],E=y._private;if(E.stopped){d.splice(m,1),E.hooked=!1,E.playing=!1,E.started=!1,v(E.frames);continue}!E.playing&&!E.applying||(E.playing&&E.applying&&(E.applying=!1),E.started||EL(f,y,t),wL(f,y,t,c),E.applying&&(E.applying=!1),v(E.frames),E.step!=null&&E.step(t),y.completed()&&(d.splice(m,1),E.hooked=!1,E.playing=!1,E.started=!1,v(E.completes)),g=!0)}return!c&&d.length===0&&p.length===0&&n.push(f),g}for(var o=!1,a=0;a<r.length;a++){var s=r[a],u=i(s);o=o||u}var l=i(e,!0);(o||l)&&(r.length>0?e.notify("draw",r):e.notify("draw")),r.unmerge(n),e.emit("step")}var xL={animate:Vt.animate(),animation:Vt.animation(),animated:Vt.animated(),clearQueue:Vt.clearQueue(),delay:Vt.delay(),delayAnimation:Vt.delayAnimation(),stop:Vt.stop(),addToAnimationPool:function(e){var r=this;r.styleEnabled()&&r._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function r(){e._private.animationsRunning&&Ns(function(o){Zp(o,e),r()})}var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(o,a){Zp(a,e)},n.beforeRenderPriorities.animations):r()}},_L={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var i=r.qualifier;return i!=null?e!==n.target&&Bo(n.target)&&i.matches(n.target):!0},addEventFields:function(e,r){r.cy=e,r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e}},gs=function(e){return ft(e)?new Ci(e):e},lE={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new iu(_L,this)),this},emitter:function(){return this._private.emitter},on:function(e,r,n){return this.emitter().on(e,gs(r),n),this},removeListener:function(e,r,n){return this.emitter().removeListener(e,gs(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,r,n){return this.emitter().one(e,gs(r),n),this},once:function(e,r,n){return this.emitter().one(e,gs(r),n),this},emit:function(e,r){return this.emitter().emit(e,r),this},emitAndNotify:function(e,r){return this.emit(e),this.notify(e,r),this}};Vt.eventAliasesOn(lE);var Pd={png:function(e){var r=this._private.renderer;return e=e||{},r.png(e)},jpg:function(e){var r=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",r.jpg(e)}};Pd.jpeg=Pd.jpg;var ks={layout:function(e){var r=this;if(e==null){hr("Layout options must be specified to make a layout");return}if(e.name==null){hr("A `name` must be specified to make a layout");return}var n=e.name,i=r.extension("layout",n);if(i==null){hr("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var o;ft(e.eles)?o=r.$(e.eles):o=e.eles!=null?e.eles:r.$();var a=new i(mt({},e,{cy:r,eles:o}));return a}};ks.createLayout=ks.makeLayout=ks.layout;var CL={notify:function(e,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var i=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();r!=null&&i.merge(r);return}if(n.notificationsEnabled){var o=this.renderer();this.destroyed()||!o||o.notify(e,r)}},notifications:function(e){var r=this._private;return e===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var i=e.batchNotifications[n];i.empty()?r.notify(n):r.notify(n,i)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var r=this;return this.batch(function(){for(var n=Object.keys(e),i=0;i<n.length;i++){var o=n[i],a=e[o],s=r.getElementById(o);s.data(a)}})}},TL=kr({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),Rd={renderTo:function(e,r,n,i){var o=this._private.renderer;return o.renderTo(e,r,n,i),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var r=this,n=r.extension("renderer",e.name);if(n==null){hr("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&Wt("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var i=TL(e);i.cy=r,r._private.renderer=new n(i),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var r=e.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var i=n._private;i.rscratch={},i.rstyle={},i.animation.current=[],i.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};Rd.invalidateDimensions=Rd.resize;var As={collection:function(e,r){return ft(e)?this.$(e):tn(e)?e.collection():Kt(e)?(r||(r={}),new Dr(this,e,r.unique,r.removed)):new Dr(this)},nodes:function(e){var r=this.$(function(n){return n.isNode()});return e?r.filter(e):r},edges:function(e){var r=this.$(function(n){return n.isEdge()});return e?r.filter(e):r},$:function(e){var r=this._private.elements;return e?r.filter(e):r.spawnSelf()},mutableElements:function(){return this._private.elements}};As.elements=As.filter=As.$;var zr={},po="t",SL="f";zr.apply=function(t){for(var e=this,r=e._private,n=r.cy,i=n.collection(),o=0;o<t.length;o++){var a=t[o],s=e.getContextMeta(a);if(!s.empty){var u=e.getContextStyle(s),l=e.applyContextStyle(s,u,a);a._private.appliedInitStyle?e.updateTransitions(a,l.diffProps):a._private.appliedInitStyle=!0;var f=e.updateStyleHints(a);f&&i.push(a)}}return i};zr.getPropertiesDiff=function(t,e){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},i=t+"-"+e,o=n[i];if(o)return o;for(var a=[],s={},u=0;u<r.length;u++){var l=r[u],f=t[u]===po,c=e[u]===po,h=f!==c,d=l.mappedProperties.length>0;if(h||c&&d){var p=void 0;h&&d||h?p=l.properties:d&&(p=l.mappedProperties);for(var g=0;g<p.length;g++){for(var w=p[g],v=w.name,m=!1,y=u+1;y<r.length;y++){var E=r[y],T=e[y]===po;if(T&&(m=E.properties[w.name]!=null,m))break}!s[v]&&!m&&(s[v]=!0,a.push(v))}}}return n[i]=a,a};zr.getContextMeta=function(t){for(var e=this,r="",n,i=t._private.styleCxtKey||"",o=0;o<e.length;o++){var a=e[o],s=a.selector&&a.selector.matches(t);s?r+=po:r+=SL}return n=e.getPropertiesDiff(i,r),t._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}};zr.getContextStyle=function(t){var e=t.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var i={_private:{key:e}},o=0;o<r.length;o++){var a=r[o],s=e[o]===po;if(s)for(var u=0;u<a.properties.length;u++){var l=a.properties[u];i[l.name]=l}}return n[e]=i,i};zr.applyContextStyle=function(t,e,r){for(var n=this,i=t.diffPropNames,o={},a=n.types,s=0;s<i.length;s++){var u=i[s],l=e[u],f=r.pstyle(u);if(!l)if(f)f.bypass?l={name:u,deleteBypassed:!0}:l={name:u,delete:!0};else continue;if(f!==l){if(l.mapped===a.fn&&f!=null&&f.mapping!=null&&f.mapping.value===l.value){var c=f.mapping,h=c.fnValue=l.value(r);if(h===c.prevFnValue)continue}var d=o[u]={prev:f};n.applyParsedProperty(r,l),d.next=r.pstyle(u),d.next&&d.next.bypass&&(d.next=d.next.bypassed)}}return{diffProps:o}};zr.updateStyleHints=function(t){var e=t._private,r=this,n=r.propertyGroupNames,i=r.propertyGroupKeys,o=function(ue,se,de){return r.getPropertiesHash(ue,se,de)},a=e.styleKey;if(t.removed())return!1;var s=e.group==="nodes",u=t._private.style;n=Object.keys(u);for(var l=0;l<i.length;l++){var f=i[l];e.styleKeys[f]=[ma,ao]}for(var c=function(ue,se){return e.styleKeys[se][0]=bo(ue,e.styleKeys[se][0])},h=function(ue,se){return e.styleKeys[se][1]=wo(ue,e.styleKeys[se][1])},d=function(ue,se){c(ue,se),h(ue,se)},p=function(ue,se){for(var de=0;de<ue.length;de++){var be=ue.charCodeAt(de);c(be,se),h(be,se)}},g=2e9,w=function(ue){return-128<ue&&ue<128&&Math.floor(ue)!==ue?g-(ue*1024|0):ue},v=0;v<n.length;v++){var m=n[v],y=u[m];if(y!=null){var E=this.properties[m],T=E.type,C=E.groupKey,b=void 0;E.hashOverride!=null?b=E.hashOverride(t,y):y.pfValue!=null&&(b=y.pfValue);var k=E.enums==null?y.value:null,S=b!=null,O=k!=null,N=S||O,D=y.units;if(T.number&&N&&!T.multiple){var I=S?b:k;d(w(I),C),!S&&D!=null&&p(D,C)}else p(y.strValue,C)}}for(var x=[ma,ao],P=0;P<i.length;P++){var L=i[P],M=e.styleKeys[L];x[0]=bo(M[0],x[0]),x[1]=wo(M[1],x[1])}e.styleKey=qk(x[0],x[1]);var R=e.styleKeys;e.labelDimsKey=vi(R.labelDimensions);var V=o(t,["label"],R.labelDimensions);if(e.labelKey=vi(V),e.labelStyleKey=vi(ss(R.commonLabel,V)),!s){var U=o(t,["source-label"],R.labelDimensions);e.sourceLabelKey=vi(U),e.sourceLabelStyleKey=vi(ss(R.commonLabel,U));var q=o(t,["target-label"],R.labelDimensions);e.targetLabelKey=vi(q),e.targetLabelStyleKey=vi(ss(R.commonLabel,q))}if(s){var $=e.styleKeys,X=$.nodeBody,B=$.nodeBorder,H=$.backgroundImage,j=$.compound,K=$.pie,te=[X,B,H,j,K].filter(function(re){return re!=null}).reduce(ss,[ma,ao]);e.nodeKey=vi(te),e.hasPie=K!=null&&K[0]!==ma&&K[1]!==ao}return a!==e.styleKey};zr.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null};zr.applyParsedProperty=function(t,e){var r=this,n=e,i=t._private.style,o,a=r.types,s=r.properties[n.name].type,u=n.bypass,l=i[n.name],f=l&&l.bypass,c=t._private,h="mapping",d=function(X){return X==null?null:X.pfValue!=null?X.pfValue:X.value},p=function(){var X=d(l),B=d(n);r.checkTriggers(t,n.name,X,B)};if(n&&n.name.substr(0,3)==="pie"&&Wt("The pie style properties are deprecated.  Create charts using background images instead."),e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(n=e=this.parse(e.name,"bezier",u)),n.delete)return i[n.name]=void 0,p(),!0;if(n.deleteBypassed)return l?l.bypass?(l.bypassed=void 0,p(),!0):!1:(p(),!0);if(n.deleteBypass)return l?l.bypass?(i[n.name]=l.bypassed,p(),!0):!1:(p(),!0);var g=function(){Wt("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case a.mapData:{for(var w=n.field.split("."),v=c.data,m=0;m<w.length&&v;m++){var y=w[m];v=v[y]}if(v==null)return g(),!1;var E;if(Xe(v)){var T=n.fieldMax-n.fieldMin;T===0?E=0:E=(v-n.fieldMin)/T}else return Wt("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+v+"` for `"+t.id()+"` is non-numeric)"),!1;if(E<0?E=0:E>1&&(E=1),s.color){var C=n.valueMin[0],b=n.valueMax[0],k=n.valueMin[1],S=n.valueMax[1],O=n.valueMin[2],N=n.valueMax[2],D=n.valueMin[3]==null?1:n.valueMin[3],I=n.valueMax[3]==null?1:n.valueMax[3],x=[Math.round(C+(b-C)*E),Math.round(k+(S-k)*E),Math.round(O+(N-O)*E),Math.round(D+(I-D)*E)];o={bypass:n.bypass,name:n.name,value:x,strValue:"rgb("+x[0]+", "+x[1]+", "+x[2]+")"}}else if(s.number){var P=n.valueMin+(n.valueMax-n.valueMin)*E;o=this.parse(n.name,P,n.bypass,h)}else return!1;if(!o)return g(),!1;o.mapping=n,n=o;break}case a.data:{for(var L=n.field.split("."),M=c.data,R=0;R<L.length&&M;R++){var V=L[R];M=M[V]}if(M!=null&&(o=this.parse(n.name,M,n.bypass,h)),!o)return g(),!1;o.mapping=n,n=o;break}case a.fn:{var U=n.value,q=n.fnValue!=null?n.fnValue:U(t);if(n.prevFnValue=q,q==null)return Wt("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+t.id()+"` is null)"),!1;if(o=this.parse(n.name,q,n.bypass,h),!o)return Wt("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+t.id()+"` is invalid)"),!1;o.mapping=In(n),n=o;break}case void 0:break;default:return!1}return u?(f?n.bypassed=l.bypassed:n.bypassed=l,i[n.name]=n):f?l.bypassed=n:i[n.name]=n,p(),!0};zr.cleanElements=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!e)n._private.style={};else for(var i=n._private.style,o=Object.keys(i),a=0;a<o.length;a++){var s=o[a],u=i[s];u!=null&&(u.bypass?u.bypassed=null:i[s]=null)}}};zr.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()};zr.updateTransitions=function(t,e){var r=this,n=t._private,i=t.pstyle("transition-property").value,o=t.pstyle("transition-duration").pfValue,a=t.pstyle("transition-delay").pfValue;if(i.length>0&&o>0){for(var s={},u=!1,l=0;l<i.length;l++){var f=i[l],c=t.pstyle(f),h=e[f];if(h){var d=h.prev,p=d,g=h.next!=null?h.next:c,w=!1,v=void 0,m=1e-6;p&&(Xe(p.pfValue)&&Xe(g.pfValue)?(w=g.pfValue-p.pfValue,v=p.pfValue+m*w):Xe(p.value)&&Xe(g.value)?(w=g.value-p.value,v=p.value+m*w):Kt(p.value)&&Kt(g.value)&&(w=p.value[0]!==g.value[0]||p.value[1]!==g.value[1]||p.value[2]!==g.value[2],v=p.strValue),w&&(s[f]=g.strValue,this.applyBypass(t,f,v),u=!0))}}if(!u)return;n.transitioning=!0,new Ra(function(y){a>0?t.delayAnimation(a).play().promise().then(y):y()}).then(function(){return t.animation({style:s,duration:o,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(t,i),t.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(t,i),t.emitAndNotify("style"),n.transitioning=!1)};zr.checkTrigger=function(t,e,r,n,i,o){var a=this.properties[e],s=i(a);s!=null&&s(r,n)&&o(a)};zr.checkZOrderTrigger=function(t,e,r,n){var i=this;this.checkTrigger(t,e,r,n,function(o){return o.triggersZOrder},function(){i._private.cy.notify("zorder",t)})};zr.checkBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(i){return i.triggersBounds},function(i){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache(),i.triggersBoundsOfParallelBeziers&&(e==="curve-style"&&(r==="bezier"||n==="bezier")||e==="display"&&(r==="none"||n==="none"))&&t.parallelEdges().forEach(function(o){o.isBundledBezier()&&o.dirtyBoundingBoxCache()})})};zr.checkTriggers=function(t,e,r,n){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,r,n),this.checkBoundsTrigger(t,e,r,n)};var Go={};Go.applyBypass=function(t,e,r,n){var i=this,o=[],a=!0;if(e==="*"||e==="**"){if(r!==void 0)for(var s=0;s<i.properties.length;s++){var u=i.properties[s],l=u.name,f=this.parse(l,r,!0);f&&o.push(f)}}else if(ft(e)){var c=this.parse(e,r,!0);c&&o.push(c)}else if(zt(e)){var h=e;n=r;for(var d=Object.keys(h),p=0;p<d.length;p++){var g=d[p],w=h[g];if(w===void 0&&(w=h[Js(g)]),w!==void 0){var v=this.parse(g,w,!0);v&&o.push(v)}}}else return!1;if(o.length===0)return!1;for(var m=!1,y=0;y<t.length;y++){for(var E=t[y],T={},C=void 0,b=0;b<o.length;b++){var k=o[b];if(n){var S=E.pstyle(k.name);C=T[k.name]={prev:S}}m=this.applyParsedProperty(E,In(k))||m,n&&(C.next=E.pstyle(k.name))}m&&this.updateStyleHints(E),n&&this.updateTransitions(E,T,a)}return m};Go.overrideBypass=function(t,e,r){e=Jd(e);for(var n=0;n<t.length;n++){var i=t[n],o=i._private.style[e],a=this.properties[e].type,s=a.color,u=a.mutiple,l=o?o.pfValue!=null?o.pfValue:o.value:null;!o||!o.bypass?this.applyBypass(i,e,r):(o.value=r,o.pfValue!=null&&(o.pfValue=r),s?o.strValue="rgb("+r.join(",")+")":u?o.strValue=r.join(" "):o.strValue=""+r,this.updateStyleHints(i)),this.checkTriggers(i,e,l,r)}};Go.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)};Go.removeBypasses=function(t,e,r){for(var n=!0,i=0;i<t.length;i++){for(var o=t[i],a={},s=0;s<e.length;s++){var u=e[s],l=this.properties[u],f=o.pstyle(l.name);if(!(!f||!f.bypass)){var c="",h=this.parse(u,c,!0),d=a[l.name]={prev:f};this.applyParsedProperty(o,h),d.next=o.pstyle(l.name)}}this.updateStyleHints(o),r&&this.updateTransitions(o,a,n)}};var fv={};fv.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1};fv.containerCss=function(t){var e=this._private.cy,r=e.container();if(ar&&r&&ar.getComputedStyle)return ar.getComputedStyle(r).getPropertyValue(t)};var Fn={};Fn.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)};Fn.getRawStyle=function(t,e){var r=this;if(t=t[0],t){for(var n={},i=0;i<r.properties.length;i++){var o=r.properties[i],a=r.getStylePropertyValue(t,o.name,e);a!=null&&(n[o.name]=a,n[Js(o.name)]=a)}return n}};Fn.getIndexedStyle=function(t,e,r,n){var i=t.pstyle(e)[r][n];return i??t.cy().style().getDefaultProperty(e)[r][0]};Fn.getStylePropertyValue=function(t,e,r){var n=this;if(t=t[0],t){var i=n.properties[e];i.alias&&(i=i.pointsTo);var o=i.type,a=t.pstyle(i.name);if(a){var s=a.value,u=a.units,l=a.strValue;if(r&&o.number&&s!=null&&Xe(s)){var f=t.cy().zoom(),c=function(w){return w*f},h=function(w,v){return c(w)+v},d=Kt(s),p=d?u.every(function(g){return g!=null}):u!=null;return p?d?s.map(function(g,w){return h(g,u[w])}).join(" "):h(s,u):d?s.map(function(g){return ft(g)?g:""+c(g)}).join(" "):""+c(s)}else if(l!=null)return l}return null}};Fn.getAnimationStartStyle=function(t,e){for(var r={},n=0;n<e.length;n++){var i=e[n],o=i.name,a=t.pstyle(o);a!==void 0&&(zt(a)?a=this.parse(o,a.strValue):a=this.parse(o,a)),a&&(r[o]=a)}return r};Fn.getPropsList=function(t){var e=this,r=[],n=t,i=e.properties;if(n)for(var o=Object.keys(n),a=0;a<o.length;a++){var s=o[a],u=n[s],l=i[s]||i[Jd(s)],f=this.parse(l.name,u);f&&r.push(f)}return r};Fn.getNonDefaultPropertiesHash=function(t,e,r){var n=r.slice(),i,o,a,s,u,l;for(u=0;u<e.length;u++)if(i=e[u],o=t.pstyle(i,!1),o!=null)if(o.pfValue!=null)n[0]=bo(s,n[0]),n[1]=wo(s,n[1]);else for(a=o.strValue,l=0;l<a.length;l++)s=a.charCodeAt(l),n[0]=bo(s,n[0]),n[1]=wo(s,n[1]);return n};Fn.getPropertiesHash=Fn.getNonDefaultPropertiesHash;var su={};su.appendFromJson=function(t){for(var e=this,r=0;r<t.length;r++){var n=t[r],i=n.selector,o=n.style||n.css,a=Object.keys(o);e.selector(i);for(var s=0;s<a.length;s++){var u=a[s],l=o[u];e.css(u,l)}}return e};su.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e};su.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var r=this[e],n=r.selector,i=r.properties,o={},a=0;a<i.length;a++){var s=i[a];o[s.name]=s.strValue}t.push({selector:n?n.toString():"core",style:o})}return t};var cv={};cv.appendFromString=function(t){var e=this,r=this,n=""+t,i,o,a;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function s(){n.length>i.length?n=n.substr(i.length):n=""}function u(){o.length>a.length?o=o.substr(a.length):o=""}for(;;){var l=n.match(/^\s*$/);if(l)break;var f=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!f){Wt("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}i=f[0];var c=f[1];if(c!=="core"){var h=new Ci(c);if(h.invalid){Wt("Skipping parsing of block: Invalid selector found in string stylesheet: "+c),s();continue}}var d=f[2],p=!1;o=d;for(var g=[];;){var w=o.match(/^\s*$/);if(w)break;var v=o.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!v){Wt("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+d),p=!0;break}a=v[0];var m=v[1],y=v[2],E=e.properties[m];if(!E){Wt("Skipping property: Invalid property name in: "+a),u();continue}var T=r.parse(m,y);if(!T){Wt("Skipping property: Invalid property definition in: "+a),u();continue}g.push({name:m,val:y}),u()}if(p){s();break}r.selector(c);for(var C=0;C<g.length;C++){var b=g[C];r.css(b.name,b.val)}s()}return r};cv.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var Cr={};(function(){var t=mr,e=Dk,r=Ak,n=Lk,i=Mk,o=function(te){return"^"+te+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},a=function(te){var re=t+"|\\w+|"+e+"|"+r+"|"+n+"|"+i;return"^"+te+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+re+")\\s*\\,\\s*("+re+")\\)$"},s=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Cr.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:o("data")},layoutData:{mapping:!0,regex:o("layoutData")},scratch:{mapping:!0,regex:o("scratch")},mapData:{mapping:!0,regex:a("mapData")},mapLayoutData:{mapping:!0,regex:a("mapLayoutData")},mapScratch:{mapping:!0,regex:a("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:s,singleRegexMatchValue:!0},urls:{regexes:s,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(te,re){switch(te.length){case 2:return re[0]!=="deg"&&re[0]!=="rad"&&re[1]!=="deg"&&re[1]!=="rad";case 1:return ft(te[0])||re[0]==="deg"||re[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(te){var re=te.length;return re===1||re===2||re===4}}};var u={zeroNonZero:function(te,re){return(te==null||re==null)&&te!==re||te==0&&re!=0?!0:te!=0&&re==0},any:function(te,re){return te!=re},emptyNonEmpty:function(te,re){var ue=xi(te),se=xi(re);return ue&&!se||!ue&&se}},l=Cr.types,f=[{name:"label",type:l.text,triggersBounds:u.any,triggersZOrder:u.emptyNonEmpty},{name:"text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any}],c=[{name:"source-label",type:l.text,triggersBounds:u.any},{name:"source-text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"source-text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"source-text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"source-text-offset",type:l.size,triggersBounds:u.any}],h=[{name:"target-label",type:l.text,triggersBounds:u.any},{name:"target-text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"target-text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"target-text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"target-text-offset",type:l.size,triggersBounds:u.any}],d=[{name:"font-family",type:l.fontFamily,triggersBounds:u.any},{name:"font-style",type:l.fontStyle,triggersBounds:u.any},{name:"font-weight",type:l.fontWeight,triggersBounds:u.any},{name:"font-size",type:l.size,triggersBounds:u.any},{name:"text-transform",type:l.textTransform,triggersBounds:u.any},{name:"text-wrap",type:l.textWrap,triggersBounds:u.any},{name:"text-overflow-wrap",type:l.textOverflowWrap,triggersBounds:u.any},{name:"text-max-width",type:l.size,triggersBounds:u.any},{name:"text-outline-width",type:l.size,triggersBounds:u.any},{name:"line-height",type:l.positiveNumber,triggersBounds:u.any}],p=[{name:"text-valign",type:l.valign,triggersBounds:u.any},{name:"text-halign",type:l.halign,triggersBounds:u.any},{name:"color",type:l.color},{name:"text-outline-color",type:l.color},{name:"text-outline-opacity",type:l.zeroOneNumber},{name:"text-background-color",type:l.color},{name:"text-background-opacity",type:l.zeroOneNumber},{name:"text-background-padding",type:l.size,triggersBounds:u.any},{name:"text-border-opacity",type:l.zeroOneNumber},{name:"text-border-color",type:l.color},{name:"text-border-width",type:l.size,triggersBounds:u.any},{name:"text-border-style",type:l.borderStyle,triggersBounds:u.any},{name:"text-background-shape",type:l.textBackgroundShape,triggersBounds:u.any},{name:"text-justification",type:l.justification}],g=[{name:"events",type:l.bool},{name:"text-events",type:l.bool}],w=[{name:"display",type:l.display,triggersZOrder:u.any,triggersBounds:u.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:l.visibility,triggersZOrder:u.any},{name:"opacity",type:l.zeroOneNumber,triggersZOrder:u.zeroNonZero},{name:"text-opacity",type:l.zeroOneNumber},{name:"min-zoomed-font-size",type:l.size},{name:"z-compound-depth",type:l.zCompoundDepth,triggersZOrder:u.any},{name:"z-index-compare",type:l.zIndexCompare,triggersZOrder:u.any},{name:"z-index",type:l.nonNegativeInt,triggersZOrder:u.any}],v=[{name:"overlay-padding",type:l.size,triggersBounds:u.any},{name:"overlay-color",type:l.color},{name:"overlay-opacity",type:l.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"overlay-shape",type:l.overlayShape,triggersBounds:u.any}],m=[{name:"underlay-padding",type:l.size,triggersBounds:u.any},{name:"underlay-color",type:l.color},{name:"underlay-opacity",type:l.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"underlay-shape",type:l.overlayShape,triggersBounds:u.any}],y=[{name:"transition-property",type:l.propList},{name:"transition-duration",type:l.time},{name:"transition-delay",type:l.time},{name:"transition-timing-function",type:l.easing}],E=function(te,re){return re.value==="label"?-te.poolIndex():re.pfValue},T=[{name:"height",type:l.nodeSize,triggersBounds:u.any,hashOverride:E},{name:"width",type:l.nodeSize,triggersBounds:u.any,hashOverride:E},{name:"shape",type:l.nodeShape,triggersBounds:u.any},{name:"shape-polygon-points",type:l.polygonPointList,triggersBounds:u.any},{name:"background-color",type:l.color},{name:"background-fill",type:l.fill},{name:"background-opacity",type:l.zeroOneNumber},{name:"background-blacken",type:l.nOneOneNumber},{name:"background-gradient-stop-colors",type:l.colors},{name:"background-gradient-stop-positions",type:l.percentages},{name:"background-gradient-direction",type:l.gradientDirection},{name:"padding",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"padding-relative-to",type:l.paddingRelativeTo,triggersBounds:u.any},{name:"bounds-expansion",type:l.boundsExpansion,triggersBounds:u.any}],C=[{name:"border-color",type:l.color},{name:"border-opacity",type:l.zeroOneNumber},{name:"border-width",type:l.size,triggersBounds:u.any},{name:"border-style",type:l.borderStyle}],b=[{name:"background-image",type:l.urls},{name:"background-image-crossorigin",type:l.bgCrossOrigin},{name:"background-image-opacity",type:l.zeroOneNumbers},{name:"background-image-containment",type:l.bgContainment},{name:"background-image-smoothing",type:l.bools},{name:"background-position-x",type:l.bgPos},{name:"background-position-y",type:l.bgPos},{name:"background-width-relative-to",type:l.bgRelativeTo},{name:"background-height-relative-to",type:l.bgRelativeTo},{name:"background-repeat",type:l.bgRepeat},{name:"background-fit",type:l.bgFit},{name:"background-clip",type:l.bgClip},{name:"background-width",type:l.bgWH},{name:"background-height",type:l.bgWH},{name:"background-offset-x",type:l.bgPos},{name:"background-offset-y",type:l.bgPos}],k=[{name:"position",type:l.position,triggersBounds:u.any},{name:"compound-sizing-wrt-labels",type:l.compoundIncludeLabels,triggersBounds:u.any},{name:"min-width",type:l.size,triggersBounds:u.any},{name:"min-width-bias-left",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-width-bias-right",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-height",type:l.size,triggersBounds:u.any},{name:"min-height-bias-top",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-height-bias-bottom",type:l.sizeMaybePercent,triggersBounds:u.any}],S=[{name:"line-style",type:l.lineStyle},{name:"line-color",type:l.color},{name:"line-fill",type:l.fill},{name:"line-cap",type:l.lineCap},{name:"line-opacity",type:l.zeroOneNumber},{name:"line-dash-pattern",type:l.numbers},{name:"line-dash-offset",type:l.number},{name:"line-gradient-stop-colors",type:l.colors},{name:"line-gradient-stop-positions",type:l.percentages},{name:"curve-style",type:l.curveStyle,triggersBounds:u.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:l.zeroOneNumber,triggersBounds:u.any},{name:"source-endpoint",type:l.edgeEndpoint,triggersBounds:u.any},{name:"target-endpoint",type:l.edgeEndpoint,triggersBounds:u.any},{name:"control-point-step-size",type:l.size,triggersBounds:u.any},{name:"control-point-distances",type:l.bidirectionalSizes,triggersBounds:u.any},{name:"control-point-weights",type:l.numbers,triggersBounds:u.any},{name:"segment-distances",type:l.bidirectionalSizes,triggersBounds:u.any},{name:"segment-weights",type:l.numbers,triggersBounds:u.any},{name:"taxi-turn",type:l.bidirectionalSizeMaybePercent,triggersBounds:u.any},{name:"taxi-turn-min-distance",type:l.size,triggersBounds:u.any},{name:"taxi-direction",type:l.axisDirection,triggersBounds:u.any},{name:"edge-distances",type:l.edgeDistances,triggersBounds:u.any},{name:"arrow-scale",type:l.positiveNumber,triggersBounds:u.any},{name:"loop-direction",type:l.angle,triggersBounds:u.any},{name:"loop-sweep",type:l.angle,triggersBounds:u.any},{name:"source-distance-from-node",type:l.size,triggersBounds:u.any},{name:"target-distance-from-node",type:l.size,triggersBounds:u.any}],O=[{name:"ghost",type:l.bool,triggersBounds:u.any},{name:"ghost-offset-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"ghost-offset-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"ghost-opacity",type:l.zeroOneNumber}],N=[{name:"selection-box-color",type:l.color},{name:"selection-box-opacity",type:l.zeroOneNumber},{name:"selection-box-border-color",type:l.color},{name:"selection-box-border-width",type:l.size},{name:"active-bg-color",type:l.color},{name:"active-bg-opacity",type:l.zeroOneNumber},{name:"active-bg-size",type:l.size},{name:"outside-texture-bg-color",type:l.color},{name:"outside-texture-bg-opacity",type:l.zeroOneNumber}],D=[];Cr.pieBackgroundN=16,D.push({name:"pie-size",type:l.sizeMaybePercent});for(var I=1;I<=Cr.pieBackgroundN;I++)D.push({name:"pie-"+I+"-background-color",type:l.color}),D.push({name:"pie-"+I+"-background-size",type:l.percent}),D.push({name:"pie-"+I+"-background-opacity",type:l.zeroOneNumber});var x=[],P=Cr.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:l.arrowShape,triggersBounds:u.any},{name:"arrow-color",type:l.color},{name:"arrow-fill",type:l.arrowFill}].forEach(function(K){P.forEach(function(te){var re=te+"-"+K.name,ue=K.type,se=K.triggersBounds;x.push({name:re,type:ue,triggersBounds:se})})},{});var L=Cr.properties=[].concat(g,y,w,v,m,O,p,d,f,c,h,T,C,b,D,k,S,x,N),M=Cr.propertyGroups={behavior:g,transition:y,visibility:w,overlay:v,underlay:m,ghost:O,commonLabel:p,labelDimensions:d,mainLabel:f,sourceLabel:c,targetLabel:h,nodeBody:T,nodeBorder:C,backgroundImage:b,pie:D,compound:k,edgeLine:S,edgeArrow:x,core:N},R=Cr.propertyGroupNames={},V=Cr.propertyGroupKeys=Object.keys(M);V.forEach(function(K){R[K]=M[K].map(function(te){return te.name}),M[K].forEach(function(te){return te.groupKey=K})});var U=Cr.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Cr.propertyNames=L.map(function(K){return K.name});for(var q=0;q<L.length;q++){var $=L[q];L[$.name]=$}for(var X=0;X<U.length;X++){var B=U[X],H=L[B.pointsTo],j={name:B.name,alias:!0,pointsTo:H};L.push(j),L[B.name]=j}})();Cr.getDefaultProperty=function(t){return this.getDefaultProperties()[t]};Cr.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=mt({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(u,l){for(var f=1;f<=Cr.pieBackgroundN;f++){var c=l.name.replace("{{i}}",f),h=l.value;u[c]=h}return u},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(u,l){return Cr.arrowPrefixes.forEach(function(f){var c=f+"-"+l.name,h=l.value;u[c]=h}),u},{})),r={},n=0;n<this.properties.length;n++){var i=this.properties[n];if(!i.pointsTo){var o=i.name,a=e[o],s=this.parse(o,a);r[o]=s}}return t.defaultProperties=r,t.defaultProperties};Cr.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var uu={};uu.parse=function(t,e,r,n){var i=this;if(ur(e))return i.parseImplWarn(t,e,r,n);var o=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,a=r?"t":"f",s=""+e,u=Cw(t,s,a,o),l=i.propCache=i.propCache||[],f;return(f=l[u])||(f=l[u]=i.parseImplWarn(t,e,r,n)),(r||n==="mapping")&&(f=In(f),f&&(f.value=In(f.value))),f};uu.parseImplWarn=function(t,e,r,n){var i=this.parseImpl(t,e,r,n);return!i&&e!=null&&Wt("The style property `".concat(t,": ").concat(e,"` is invalid")),i&&(i.name==="width"||i.name==="height")&&e==="label"&&Wt("The style value of `label` is deprecated for `"+i.name+"`"),i};uu.parseImpl=function(t,e,r,n){var i=this;t=Jd(t);var o=i.properties[t],a=e,s=i.types;if(!o||e===void 0)return null;o.alias&&(o=o.pointsTo,t=o.name);var u=ft(e);u&&(e=e.trim());var l=o.type;if(!l)return null;if(r&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(ur(e))return{name:t,value:e,strValue:"fn",mapped:s.fn,bypass:r};var f,c;if(!(!u||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(f=new RegExp(s.data.regex).exec(e))){if(r)return!1;var h=s.data;return{name:t,value:f,strValue:""+e,mapped:h,field:f[1],bypass:r}}else if(e.length>=10&&e[0]==="m"&&(c=new RegExp(s.mapData.regex).exec(e))){if(r||l.multiple)return!1;var d=s.mapData;if(!(l.color||l.number))return!1;var p=this.parse(t,c[4]);if(!p||p.mapped)return!1;var g=this.parse(t,c[5]);if(!g||g.mapped)return!1;if(p.pfValue===g.pfValue||p.strValue===g.strValue)return Wt("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+p.strValue+"`"),this.parse(t,p.strValue);if(l.color){var w=p.value,v=g.value,m=w[0]===v[0]&&w[1]===v[1]&&w[2]===v[2]&&(w[3]===v[3]||(w[3]==null||w[3]===1)&&(v[3]==null||v[3]===1));if(m)return!1}return{name:t,value:c,strValue:""+e,mapped:d,field:c[1],fieldMin:parseFloat(c[2]),fieldMax:parseFloat(c[3]),valueMin:p.value,valueMax:g.value,bypass:r}}}if(l.multiple&&n!=="multiple"){var y;if(u?y=e.split(/\s+/):Kt(e)?y=e:y=[e],l.evenMultiple&&y.length%2!==0)return null;for(var E=[],T=[],C=[],b="",k=!1,S=0;S<y.length;S++){var O=i.parse(t,y[S],r,"multiple");k=k||ft(O.value),E.push(O.value),C.push(O.pfValue!=null?O.pfValue:O.value),T.push(O.units),b+=(S>0?" ":"")+O.strValue}return l.validate&&!l.validate(E,T)?null:l.singleEnum&&k?E.length===1&&ft(E[0])?{name:t,value:E[0],strValue:E[0],bypass:r}:null:{name:t,value:E,pfValue:C,strValue:b,bypass:r,units:T}}var N=function(){for(var re=0;re<l.enums.length;re++){var ue=l.enums[re];if(ue===e)return{name:t,value:e,strValue:""+e,bypass:r}}return null};if(l.number){var D,I="px";if(l.units&&(D=l.units),l.implicitUnits&&(I=l.implicitUnits),!l.unitless)if(u){var x="px|em"+(l.allowPercent?"|\\%":"");D&&(x=D);var P=e.match("^("+mr+")("+x+")?$");P&&(e=P[1],D=P[2]||I)}else(!D||l.implicitUnits)&&(D=I);if(e=parseFloat(e),isNaN(e)&&l.enums===void 0)return null;if(isNaN(e)&&l.enums!==void 0)return e=a,N();if(l.integer&&!wk(e)||l.min!==void 0&&(e<l.min||l.strictMin&&e===l.min)||l.max!==void 0&&(e>l.max||l.strictMax&&e===l.max))return null;var L={name:t,value:e,strValue:""+e+(D||""),units:D,bypass:r};return l.unitless||D!=="px"&&D!=="em"?L.pfValue=e:L.pfValue=D==="px"||!D?e:this.getEmSizeInPixels()*e,(D==="ms"||D==="s")&&(L.pfValue=D==="ms"?e:1e3*e),(D==="deg"||D==="rad")&&(L.pfValue=D==="rad"?e:p2(e)),D==="%"&&(L.pfValue=e/100),L}else if(l.propList){var M=[],R=""+e;if(R!=="none"){for(var V=R.split(/\s*,\s*|\s+/),U=0;U<V.length;U++){var q=V[U].trim();i.properties[q]?M.push(q):Wt("`"+q+"` is not a valid property name")}if(M.length===0)return null}return{name:t,value:M,strValue:M.length===0?"none":M.join(" "),bypass:r}}else if(l.color){var $=Fk(e);return $?{name:t,value:$,pfValue:$,strValue:"rgb("+$[0]+","+$[1]+","+$[2]+")",bypass:r}:null}else if(l.regex||l.regexes){if(l.enums){var X=N();if(X)return X}for(var B=l.regexes?l.regexes:[l.regex],H=0;H<B.length;H++){var j=new RegExp(B[H]),K=j.exec(e);if(K)return{name:t,value:l.singleRegexMatchValue?K[1]:K,strValue:""+e,bypass:r}}return null}else return l.string?{name:t,value:""+e,strValue:""+e,bypass:r}:l.enums?N():null};var Pr=function t(e){if(!(this instanceof t))return new t(e);if(!Qd(e)){hr("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},Fr=Pr.prototype;Fr.instanceString=function(){return"style"};Fr.clear=function(){for(var t=this._private,e=t.cy,r=e.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(r,!0),r.forEach(function(i){var o=i[0]._private;o.styleDirty=!0,o.appliedInitStyle=!1}),this};Fr.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};Fr.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)};Fr.selector=function(t){var e=t==="core"?null:new Ci(t),r=this.length++;return this[r]={selector:e,properties:[],mappedProperties:[],index:r},this};Fr.css=function(){var t=this,e=arguments;if(e.length===1)for(var r=e[0],n=0;n<t.properties.length;n++){var i=t.properties[n],o=r[i.name];o===void 0&&(o=r[Js(i.name)]),o!==void 0&&this.cssRule(i.name,o)}else e.length===2&&this.cssRule(e[0],e[1]);return this};Fr.style=Fr.css;Fr.cssRule=function(t,e){var r=this.parse(t,e);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.mapped&&this[n].mappedProperties.push(r);var i=!this[n].selector;i&&(this._private.coreStyle[r.name]=r)}return this};Fr.append=function(t){return gw(t)?t.appendToStyle(this):Kt(t)?this.appendFromJson(t):ft(t)&&this.appendFromString(t),this};Pr.fromJson=function(t,e){var r=new Pr(t);return r.fromJson(e),r};Pr.fromString=function(t,e){return new Pr(t).fromString(e)};[zr,Go,fv,Fn,su,cv,Cr,uu].forEach(function(t){mt(Fr,t)});Pr.types=Fr.types;Pr.properties=Fr.properties;Pr.propertyGroups=Fr.propertyGroups;Pr.propertyGroupNames=Fr.propertyGroupNames;Pr.propertyGroupKeys=Fr.propertyGroupKeys;var DL={style:function(e){if(e){var r=this.setStyle(e);r.update()}return this._private.style},setStyle:function(e){var r=this._private;return gw(e)?r.style=e.generateStyle(this):Kt(e)?r.style=Pr.fromJson(this,e):ft(e)?r.style=Pr.fromString(this,e):r.style=Pr(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},kL="single",Yi={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var r=this._private;if(r.selectionType==null&&(r.selectionType=kL),e!==void 0)(e==="additive"||e==="single")&&(r.selectionType=e);else return r.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,r=this._private.pan,n,i,o,a,s;switch(e.length){case 0:return r;case 1:if(ft(e[0]))return n=e[0],r[n];if(zt(e[0])){if(!this._private.panningEnabled)return this;o=e[0],a=o.x,s=o.y,Xe(a)&&(r.x=a),Xe(s)&&(r.y=s),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],i=e[1],(n==="x"||n==="y")&&Xe(i)&&(r[n]=i),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,r){var n=arguments,i=this._private.pan,o,a,s,u,l;if(!this._private.panningEnabled)return this;switch(n.length){case 1:zt(e)&&(s=n[0],u=s.x,l=s.y,Xe(u)&&(i.x+=u),Xe(l)&&(i.y+=l),this.emit("pan viewport"));break;case 2:o=e,a=r,(o==="x"||o==="y")&&Xe(a)&&(i[o]+=a),this.emit("pan viewport");break}return this.notify("viewport"),this},fit:function(e,r){var n=this.getFitViewport(e,r);if(n){var i=this._private;i.zoom=n.zoom,i.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,r){if(Xe(e)&&r===void 0&&(r=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(ft(e)){var i=e;e=this.$(i)}else if(_k(e)){var o=e;n={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else tn(e)||(e=this.mutableElements());if(!(tn(e)&&e.empty())){n=n||e.boundingBox();var a=this.width(),s=this.height(),u;if(r=Xe(r)?r:0,!isNaN(a)&&!isNaN(s)&&a>0&&s>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){u=Math.min((a-2*r)/n.w,(s-2*r)/n.h),u=u>this._private.maxZoom?this._private.maxZoom:u,u=u<this._private.minZoom?this._private.minZoom:u;var l={x:(a-u*(n.x1+n.x2))/2,y:(s-u*(n.y1+n.y2))/2};return{zoom:u,pan:l}}}}},zoomRange:function(e,r){var n=this._private;if(r==null){var i=e;e=i.min,r=i.max}return Xe(e)&&Xe(r)&&e<=r?(n.minZoom=e,n.maxZoom=r):Xe(e)&&r===void 0&&e<=n.maxZoom?n.minZoom=e:Xe(r)&&e===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var r=this._private,n=r.pan,i=r.zoom,o,a,s=!1;if(r.zoomingEnabled||(s=!0),Xe(e)?a=e:zt(e)&&(a=e.level,e.position!=null?o=tu(e.position,i,n):e.renderedPosition!=null&&(o=e.renderedPosition),o!=null&&!r.panningEnabled&&(s=!0)),a=a>r.maxZoom?r.maxZoom:a,a=a<r.minZoom?r.minZoom:a,s||!Xe(a)||a===i||o!=null&&(!Xe(o.x)||!Xe(o.y)))return null;if(o!=null){var u=n,l=i,f=a,c={x:-f/l*(o.x-u.x)+o.x,y:-f/l*(o.y-u.y)+o.y};return{zoomed:!0,panned:!0,zoom:f,pan:c}}else return{zoomed:!0,panned:!1,zoom:a,pan:n}},zoom:function(e){if(e===void 0)return this._private.zoom;var r=this.getZoomedViewport(e),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var r=this._private,n=!0,i=!0,o=[],a=!1,s=!1;if(!e)return this;if(Xe(e.zoom)||(n=!1),zt(e.pan)||(i=!1),!n&&!i)return this;if(n){var u=e.zoom;u<r.minZoom||u>r.maxZoom||!r.zoomingEnabled?a=!0:(r.zoom=u,o.push("zoom"))}if(i&&(!a||!e.cancelOnFailedZoom)&&r.panningEnabled){var l=e.pan;Xe(l.x)&&(r.pan.x=l.x,s=!1),Xe(l.y)&&(r.pan.y=l.y,s=!1),s||o.push("pan")}return o.length>0&&(o.push("viewport"),this.emit(o.join(" ")),this.notify("viewport")),this},center:function(e){var r=this.getCenterPan(e);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,r){if(this._private.panningEnabled){if(ft(e)){var n=e;e=this.mutableElements().filter(n)}else tn(e)||(e=this.mutableElements());if(e.length!==0){var i=e.boundingBox(),o=this.width(),a=this.height();r=r===void 0?this._private.zoom:r;var s={x:(o-r*(i.x1+i.x2))/2,y:(a-r*(i.y1+i.y2))/2};return s}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,r=e.container;return e.sizeCache=e.sizeCache||(r?function(){var n=ar.getComputedStyle(r),i=function(a){return parseFloat(n.getPropertyValue(a))};return{width:r.clientWidth-i("padding-left")-i("padding-right"),height:r.clientHeight-i("padding-top")-i("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),i={x1:(n.x1-e.x)/r,x2:(n.x2-e.x)/r,y1:(n.y1-e.y)/r,y2:(n.y2-e.y)/r};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},renderedExtent:function(){var e=this.width(),r=this.height();return{x1:0,y1:0,x2:e,y2:r,w:e,h:r}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};Yi.centre=Yi.center;Yi.autolockNodes=Yi.autolock;Yi.autoungrabifyNodes=Yi.autoungrabify;var So={data:Vt.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Vt.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Vt.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Vt.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};So.attr=So.data;So.removeAttr=So.removeData;var Do=function(e){var r=this;e=mt({},e);var n=e.container;n&&!Os(n)&&Os(n[0])&&(n=n[0]);var i=n?n._cyreg:null;i=i||{},i&&i.cy&&(i.cy.destroy(),i={});var o=i.readies=i.readies||[];n&&(n._cyreg=i),i.cy=r;var a=ar!==void 0&&n!==void 0&&!e.headless,s=e;s.layout=mt({name:a?"grid":"null"},s.layout),s.renderer=mt({name:a?"canvas":"null"},s.renderer);var u=function(p,g,w){return g!==void 0?g:w!==void 0?w:p},l=this._private={container:n,ready:!1,options:s,elements:new Dr(this),listeners:[],aniEles:new Dr(this),data:s.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:u(!0,s.zoomingEnabled),userZoomingEnabled:u(!0,s.userZoomingEnabled),panningEnabled:u(!0,s.panningEnabled),userPanningEnabled:u(!0,s.userPanningEnabled),boxSelectionEnabled:u(!0,s.boxSelectionEnabled),autolock:u(!1,s.autolock,s.autolockNodes),autoungrabify:u(!1,s.autoungrabify,s.autoungrabifyNodes),autounselectify:u(!1,s.autounselectify),styleEnabled:s.styleEnabled===void 0?a:s.styleEnabled,zoom:Xe(s.zoom)?s.zoom:1,pan:{x:zt(s.pan)&&Xe(s.pan.x)?s.pan.x:0,y:zt(s.pan)&&Xe(s.pan.y)?s.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:u(250,s.multiClickDebounceTime)};this.createEmitter(),this.selectionType(s.selectionType),this.zoomRange({min:s.minZoom,max:s.maxZoom});var f=function(p,g){var w=p.some(Ck);if(w)return Ra.all(p).then(g);g(p)};l.styleEnabled&&r.setStyle([]);var c=mt({},s,s.renderer);r.initRenderer(c);var h=function(p,g,w){r.notifications(!1);var v=r.mutableElements();v.length>0&&v.remove(),p!=null&&(zt(p)||Kt(p))&&r.add(p),r.one("layoutready",function(y){r.notifications(!0),r.emit(y),r.one("load",g),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",w),r.emit("done")});var m=mt({},r._private.options.layout);m.eles=r.elements(),r.layout(m).run()};f([s.style,s.elements],function(d){var p=d[0],g=d[1];l.styleEnabled&&r.style().append(p),h(g,function(){r.startAnimationLoop(),l.ready=!0,ur(s.ready)&&r.on("ready",s.ready);for(var w=0;w<o.length;w++){var v=o[w];r.on("ready",v)}i&&(i.readies=[]),r.emit("ready")},s.done)})},Fs=Do.prototype;mt(Fs,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},mount:function(e){if(e!=null){var r=this,n=r._private,i=n.options;return!Os(e)&&Os(e[0])&&(e=e[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=e,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer(mt({},i,i.renderer,{name:i.renderer.name==="null"?"canvas":i.renderer.name})),r.startAnimationLoop(),r.style(i.style),r.emit("mount"),r}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return In(this._private.options)},json:function(e){var r=this,n=r._private,i=r.mutableElements(),o=function(E){return r.getElementById(E.id())};if(zt(e)){if(r.startBatch(),e.elements){var a={},s=function(E,T){for(var C=[],b=[],k=0;k<E.length;k++){var S=E[k];if(!S.data.id){Wt("cy.json() cannot handle elements without an ID attribute");continue}var O=""+S.data.id,N=r.getElementById(O);a[O]=!0,N.length!==0?b.push({ele:N,json:S}):(T&&(S.group=T),C.push(S))}r.add(C);for(var D=0;D<b.length;D++){var I=b[D],x=I.ele,P=I.json;x.json(P)}};if(Kt(e.elements))s(e.elements);else for(var u=["nodes","edges"],l=0;l<u.length;l++){var f=u[l],c=e.elements[f];Kt(c)&&s(c,f)}var h=r.collection();i.filter(function(y){return!a[y.id()]}).forEach(function(y){y.isParent()?h.merge(y):y.remove()}),h.forEach(function(y){return y.children().move({parent:null})}),h.forEach(function(y){return o(y).remove()})}e.style&&r.style(e.style),e.zoom!=null&&e.zoom!==n.zoom&&r.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&r.pan(e.pan),e.data&&r.data(e.data);for(var d=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],p=0;p<d.length;p++){var g=d[p];e[g]!=null&&r[g](e[g])}return r.endBatch(),this}else{var w=!!e,v={};w?v.elements=this.elements().map(function(y){return y.json()}):(v.elements={},i.forEach(function(y){var E=y.group();v.elements[E]||(v.elements[E]=[]),v.elements[E].push(y.json())})),this._private.styleEnabled&&(v.style=r.style().json()),v.data=In(r.data());var m=n.options;return v.zoomingEnabled=n.zoomingEnabled,v.userZoomingEnabled=n.userZoomingEnabled,v.zoom=n.zoom,v.minZoom=n.minZoom,v.maxZoom=n.maxZoom,v.panningEnabled=n.panningEnabled,v.userPanningEnabled=n.userPanningEnabled,v.pan=In(n.pan),v.boxSelectionEnabled=n.boxSelectionEnabled,v.renderer=In(m.renderer),v.hideEdgesOnViewport=m.hideEdgesOnViewport,v.textureOnViewport=m.textureOnViewport,v.wheelSensitivity=m.wheelSensitivity,v.motionBlur=m.motionBlur,v.multiClickDebounceTime=m.multiClickDebounceTime,v}}});Fs.$id=Fs.getElementById;[mL,xL,lE,Pd,ks,CL,Rd,As,DL,Yi,So].forEach(function(t){mt(Fs,t)});var AL={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}},LL={maximal:!1,acyclic:!1},fa=function(e){return e.scratch("breadthfirst")},Qp=function(e,r){return e.scratch("breadthfirst",r)};function fE(t){this.options=mt({},AL,LL,t)}fE.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=n.nodes().filter(function(z){return!z.isParent()}),o=n,a=e.directed,s=e.acyclic||e.maximal||e.maximalAdjustments>0,u=en(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),l;if(tn(e.roots))l=e.roots;else if(Kt(e.roots)){for(var f=[],c=0;c<e.roots.length;c++){var h=e.roots[c],d=r.getElementById(h);f.push(d)}l=r.collection(f)}else if(ft(e.roots))l=r.$(e.roots);else if(a)l=i.roots();else{var p=n.components();l=r.collection();for(var g=function(ae){var Z=p[ae],W=Z.maxDegree(!1),Y=Z.filter(function(ie){return ie.degree(!1)===W});l=l.add(Y)},w=0;w<p.length;w++)g(w)}var v=[],m={},y=function(ae,Z){v[Z]==null&&(v[Z]=[]);var W=v[Z].length;v[Z].push(ae),Qp(ae,{index:W,depth:Z})},E=function(ae,Z){var W=fa(ae),Y=W.depth,ie=W.index;v[Y][ie]=null,y(ae,Z)};o.bfs({roots:l,directed:e.directed,visit:function(ae,Z,W,Y,ie){var ve=ae[0],me=ve.id();y(ve,ie),m[me]=!0}});for(var T=[],C=0;C<i.length;C++){var b=i[C];m[b.id()]||T.push(b)}var k=function(ae){for(var Z=v[ae],W=0;W<Z.length;W++){var Y=Z[W];if(Y==null){Z.splice(W,1),W--;continue}Qp(Y,{depth:ae,index:W})}},S=function(){for(var ae=0;ae<v.length;ae++)k(ae)},O=function(ae,Z){for(var W=fa(ae),Y=ae.incomers().filter(function(oe){return oe.isNode()&&n.has(oe)}),ie=-1,ve=ae.id(),me=0;me<Y.length;me++){var fe=Y[me],le=fa(fe);ie=Math.max(ie,le.depth)}if(W.depth<=ie){if(!e.acyclic&&Z[ve])return null;var ee=ie+1;return E(ae,ee),Z[ve]=ee,!0}return!1};if(a&&s){var N=[],D={},I=function(ae){return N.push(ae)},x=function(){return N.shift()};for(i.forEach(function(z){return N.push(z)});N.length>0;){var P=x(),L=O(P,D);if(L)P.outgoers().filter(function(z){return z.isNode()&&n.has(z)}).forEach(I);else if(L===null){Wt("Detected double maximal shift for node `"+P.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}S();var M=0;if(e.avoidOverlap)for(var R=0;R<i.length;R++){var V=i[R],U=V.layoutDimensions(e),q=U.w,$=U.h;M=Math.max(M,q,$)}var X={},B=function(ae){if(X[ae.id()])return X[ae.id()];for(var Z=fa(ae).depth,W=ae.neighborhood(),Y=0,ie=0,ve=0;ve<W.length;ve++){var me=W[ve];if(!(me.isEdge()||me.isParent()||!i.has(me))){var fe=fa(me);if(fe!=null){var le=fe.index,ee=fe.depth;if(!(le==null||ee==null)){var oe=v[ee].length;ee<Z&&(Y+=le/oe,ie++)}}}}return ie=Math.max(1,ie),Y=Y/ie,ie===0&&(Y=0),X[ae.id()]=Y,Y},H=function(ae,Z){var W=B(ae),Y=B(Z),ie=W-Y;return ie===0?yw(ae.id(),Z.id()):ie};e.depthSort!==void 0&&(H=e.depthSort);for(var j=0;j<v.length;j++)v[j].sort(H),k(j);for(var K=[],te=0;te<T.length;te++)K.push(T[te]);v.unshift(K),S();for(var re=0,ue=0;ue<v.length;ue++)re=Math.max(v[ue].length,re);var se={x:u.x1+u.w/2,y:u.x1+u.h/2},de=v.reduce(function(z,ae){return Math.max(z,ae.length)},0),be=function(ae){var Z=fa(ae),W=Z.depth,Y=Z.index,ie=v[W].length,ve=Math.max(u.w/((e.grid?de:ie)+1),M),me=Math.max(u.h/(v.length+1),M),fe=Math.min(u.w/2/v.length,u.h/2/v.length);if(fe=Math.max(fe,M),e.circle){var ee=fe*W+fe-(v.length>0&&v[0].length<=3?fe/2:0),oe=2*Math.PI/v[W].length*Y;return W===0&&v[0].length===1&&(ee=1),{x:se.x+ee*Math.cos(oe),y:se.y+ee*Math.sin(oe)}}else{var le={x:se.x+(Y+1-(ie+1)/2)*ve,y:(W+1)*me};return le}};return n.nodes().layoutPositions(this,e,be),this};var ML={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function cE(t){this.options=mt({},ML,t)}cE.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,o=n.nodes().not(":parent");e.sort&&(o=o.sort(e.sort));for(var a=en(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),s={x:a.x1+a.w/2,y:a.y1+a.h/2},u=e.sweep===void 0?2*Math.PI-2*Math.PI/o.length:e.sweep,l=u/Math.max(1,o.length-1),f,c=0,h=0;h<o.length;h++){var d=o[h],p=d.layoutDimensions(e),g=p.w,w=p.h;c=Math.max(c,g,w)}if(Xe(e.radius)?f=e.radius:o.length<=1?f=0:f=Math.min(a.h,a.w)/2-c,o.length>1&&e.avoidOverlap){c*=1.75;var v=Math.cos(l)-Math.cos(0),m=Math.sin(l)-Math.sin(0),y=Math.sqrt(c*c/(v*v+m*m));f=Math.max(y,f)}var E=function(C,b){var k=e.startAngle+b*l*(i?1:-1),S=f*Math.cos(k),O=f*Math.sin(k),N={x:s.x+S,y:s.y+O};return N};return n.nodes().layoutPositions(this,e,E),this};var OL={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function hE(t){this.options=mt({},OL,t)}hE.prototype.run=function(){for(var t=this.options,e=t,r=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=t.cy,i=e.eles,o=i.nodes().not(":parent"),a=en(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),s={x:a.x1+a.w/2,y:a.y1+a.h/2},u=[],l=0,f=0;f<o.length;f++){var c=o[f],h=void 0;h=e.concentric(c),u.push({value:h,node:c}),c._private.scratch.concentric=h}o.updateStyle();for(var d=0;d<o.length;d++){var p=o[d],g=p.layoutDimensions(e);l=Math.max(l,g.w,g.h)}u.sort(function(z,ae){return ae.value-z.value});for(var w=e.levelWidth(o),v=[[]],m=v[0],y=0;y<u.length;y++){var E=u[y];if(m.length>0){var T=Math.abs(m[0].value-E.value);T>=w&&(m=[],v.push(m))}m.push(E)}var C=l+e.minNodeSpacing;if(!e.avoidOverlap){var b=v.length>0&&v[0].length>1,k=Math.min(a.w,a.h)/2-C,S=k/(v.length+b?1:0);C=Math.min(C,S)}for(var O=0,N=0;N<v.length;N++){var D=v[N],I=e.sweep===void 0?2*Math.PI-2*Math.PI/D.length:e.sweep,x=D.dTheta=I/Math.max(1,D.length-1);if(D.length>1&&e.avoidOverlap){var P=Math.cos(x)-Math.cos(0),L=Math.sin(x)-Math.sin(0),M=Math.sqrt(C*C/(P*P+L*L));O=Math.max(M,O)}D.r=O,O+=C}if(e.equidistant){for(var R=0,V=0,U=0;U<v.length;U++){var q=v[U],$=q.r-V;R=Math.max(R,$)}V=0;for(var X=0;X<v.length;X++){var B=v[X];X===0&&(V=B.r),B.r=V,V+=R}}for(var H={},j=0;j<v.length;j++)for(var K=v[j],te=K.dTheta,re=K.r,ue=0;ue<K.length;ue++){var se=K[ue],de=e.startAngle+(r?1:-1)*te*ue,be={x:s.x+re*Math.cos(de),y:s.y+re*Math.sin(de)};H[se.node.id()]=be}return i.nodes().layoutPositions(this,e,function(z){var ae=z.id();return H[ae]}),this};var Wu,NL={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function lu(t){this.options=mt({},NL,t),this.options.layout=this}lu.prototype.run=function(){var t=this.options,e=t.cy,r=this;r.stopped=!1,(t.animate===!0||t.animate===!1)&&r.emit({type:"layoutstart",layout:r}),t.debug===!0?Wu=!0:Wu=!1;var n=IL(e,r,t);Wu&&FL(n),t.randomize&&zL(n);var i=ei(),o=function(){BL(n,e,t),t.fit===!0&&e.fit(t.padding)},a=function(h){return!(r.stopped||h>=t.numIter||(qL(n,t),n.temperature=n.temperature*t.coolingFactor,n.temperature<t.minTemp))},s=function(){if(t.animate===!0||t.animate===!1)o(),r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r});else{var h=t.eles.nodes(),d=dE(n,t,h);h.layoutPositions(r,t,d)}},u=0,l=!0;if(t.animate===!0){var f=function c(){for(var h=0;l&&h<t.refresh;)l=a(u),u++,h++;if(!l)eg(n,t),s();else{var d=ei();d-i>=t.animationThreshold&&o(),Ns(c)}};f()}else{for(;l;)l=a(u),u++;eg(n,t),s()}return this};lu.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};lu.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var IL=function(e,r,n){for(var i=n.eles.edges(),o=n.eles.nodes(),a=en(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),s={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:o.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:n.initialTemp,clientWidth:a.w,clientHeight:a.h,boundingBox:a},u=n.eles.components(),l={},f=0;f<u.length;f++)for(var c=u[f],h=0;h<c.length;h++){var d=c[h];l[d.id()]=f}for(var f=0;f<s.nodeSize;f++){var p=o[f],g=p.layoutDimensions(n),w={};w.isLocked=p.locked(),w.id=p.data("id"),w.parentId=p.data("parent"),w.cmptId=l[p.id()],w.children=[],w.positionX=p.position("x"),w.positionY=p.position("y"),w.offsetX=0,w.offsetY=0,w.height=g.w,w.width=g.h,w.maxX=w.positionX+w.width/2,w.minX=w.positionX-w.width/2,w.maxY=w.positionY+w.height/2,w.minY=w.positionY-w.height/2,w.padLeft=parseFloat(p.style("padding")),w.padRight=parseFloat(p.style("padding")),w.padTop=parseFloat(p.style("padding")),w.padBottom=parseFloat(p.style("padding")),w.nodeRepulsion=ur(n.nodeRepulsion)?n.nodeRepulsion(p):n.nodeRepulsion,s.layoutNodes.push(w),s.idToIndex[w.id]=f}for(var v=[],m=0,y=-1,E=[],f=0;f<s.nodeSize;f++){var p=s.layoutNodes[f],T=p.parentId;T!=null?s.layoutNodes[s.idToIndex[T]].children.push(p.id):(v[++y]=p.id,E.push(p.id))}for(s.graphSet.push(E);m<=y;){var C=v[m++],b=s.idToIndex[C],d=s.layoutNodes[b],k=d.children;if(k.length>0){s.graphSet.push(k);for(var f=0;f<k.length;f++)v[++y]=k[f]}}for(var f=0;f<s.graphSet.length;f++)for(var S=s.graphSet[f],h=0;h<S.length;h++){var O=s.idToIndex[S[h]];s.indexToGraph[O]=f}for(var f=0;f<s.edgeSize;f++){var N=i[f],D={};D.id=N.data("id"),D.sourceId=N.data("source"),D.targetId=N.data("target");var I=ur(n.idealEdgeLength)?n.idealEdgeLength(N):n.idealEdgeLength,x=ur(n.edgeElasticity)?n.edgeElasticity(N):n.edgeElasticity,P=s.idToIndex[D.sourceId],L=s.idToIndex[D.targetId],M=s.indexToGraph[P],R=s.indexToGraph[L];if(M!=R){for(var V=PL(D.sourceId,D.targetId,s),U=s.graphSet[V],q=0,w=s.layoutNodes[P];U.indexOf(w.id)===-1;)w=s.layoutNodes[s.idToIndex[w.parentId]],q++;for(w=s.layoutNodes[L];U.indexOf(w.id)===-1;)w=s.layoutNodes[s.idToIndex[w.parentId]],q++;I*=q*n.nestingFactor}D.idealLength=I,D.elasticity=x,s.layoutEdges.push(D)}return s},PL=function(e,r,n){var i=RL(e,r,0,n);return 2>i.count?0:i.graph},RL=function t(e,r,n,i){var o=i.graphSet[n];if(-1<o.indexOf(e)&&-1<o.indexOf(r))return{count:2,graph:n};for(var a=0,s=0;s<o.length;s++){var u=o[s],l=i.idToIndex[u],f=i.layoutNodes[l].children;if(f.length!==0){var c=i.indexToGraph[i.idToIndex[f[0]]],h=t(e,r,c,i);if(h.count!==0)if(h.count===1){if(a++,a===2)break}else return h}}return{count:a,graph:n}},FL,zL=function(e,r){for(var n=e.clientWidth,i=e.clientHeight,o=0;o<e.nodeSize;o++){var a=e.layoutNodes[o];a.children.length===0&&!a.isLocked&&(a.positionX=Math.random()*n,a.positionY=Math.random()*i)}},dE=function(e,r,n){var i=e.boundingBox,o={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(a){var s=e.layoutNodes[e.idToIndex[a.data("id")]];o.x1=Math.min(o.x1,s.positionX),o.x2=Math.max(o.x2,s.positionX),o.y1=Math.min(o.y1,s.positionY),o.y2=Math.max(o.y2,s.positionY)}),o.w=o.x2-o.x1,o.h=o.y2-o.y1),function(a,s){var u=e.layoutNodes[e.idToIndex[a.data("id")]];if(r.boundingBox){var l=(u.positionX-o.x1)/o.w,f=(u.positionY-o.y1)/o.h;return{x:i.x1+l*i.w,y:i.y1+f*i.h}}else return{x:u.positionX,y:u.positionY}}},BL=function(e,r,n){var i=n.layout,o=n.eles.nodes(),a=dE(e,n,o);o.positions(a),e.ready!==!0&&(e.ready=!0,i.one("layoutready",n.ready),i.emit({type:"layoutready",layout:this}))},qL=function(e,r,n){$L(e,r),UL(e),VL(e,r),WL(e),YL(e)},$L=function(e,r){for(var n=0;n<e.graphSet.length;n++)for(var i=e.graphSet[n],o=i.length,a=0;a<o;a++)for(var s=e.layoutNodes[e.idToIndex[i[a]]],u=a+1;u<o;u++){var l=e.layoutNodes[e.idToIndex[i[u]]];GL(s,l,e,r)}},Jp=function(e){return-e+2*e*Math.random()},GL=function(e,r,n,i){var o=e.cmptId,a=r.cmptId;if(!(o!==a&&!n.isCompound)){var s=r.positionX-e.positionX,u=r.positionY-e.positionY,l=1;s===0&&u===0&&(s=Jp(l),u=Jp(l));var f=HL(e,r,s,u);if(f>0)var c=i.nodeOverlap*f,h=Math.sqrt(s*s+u*u),d=c*s/h,p=c*u/h;else var g=zs(e,s,u),w=zs(r,-1*s,-1*u),v=w.x-g.x,m=w.y-g.y,y=v*v+m*m,h=Math.sqrt(y),c=(e.nodeRepulsion+r.nodeRepulsion)/y,d=c*v/h,p=c*m/h;e.isLocked||(e.offsetX-=d,e.offsetY-=p),r.isLocked||(r.offsetX+=d,r.offsetY+=p)}},HL=function(e,r,n,i){if(n>0)var o=e.maxX-r.minX;else var o=r.maxX-e.minX;if(i>0)var a=e.maxY-r.minY;else var a=r.maxY-e.minY;return o>=0&&a>=0?Math.sqrt(o*o+a*a):0},zs=function(e,r,n){var i=e.positionX,o=e.positionY,a=e.height||1,s=e.width||1,u=n/r,l=a/s,f={};return r===0&&0<n||r===0&&0>n?(f.x=i,f.y=o+a/2,f):0<r&&-1*l<=u&&u<=l?(f.x=i+s/2,f.y=o+s*n/2/r,f):0>r&&-1*l<=u&&u<=l?(f.x=i-s/2,f.y=o-s*n/2/r,f):0<n&&(u<=-1*l||u>=l)?(f.x=i+a*r/2/n,f.y=o+a/2,f):(0>n&&(u<=-1*l||u>=l)&&(f.x=i-a*r/2/n,f.y=o-a/2),f)},UL=function(e,r){for(var n=0;n<e.edgeSize;n++){var i=e.layoutEdges[n],o=e.idToIndex[i.sourceId],a=e.layoutNodes[o],s=e.idToIndex[i.targetId],u=e.layoutNodes[s],l=u.positionX-a.positionX,f=u.positionY-a.positionY;if(!(l===0&&f===0)){var c=zs(a,l,f),h=zs(u,-1*l,-1*f),d=h.x-c.x,p=h.y-c.y,g=Math.sqrt(d*d+p*p),w=Math.pow(i.idealLength-g,2)/i.elasticity;if(g!==0)var v=w*d/g,m=w*p/g;else var v=0,m=0;a.isLocked||(a.offsetX+=v,a.offsetY+=m),u.isLocked||(u.offsetX-=v,u.offsetY-=m)}}},VL=function(e,r){if(r.gravity!==0)for(var n=1,i=0;i<e.graphSet.length;i++){var o=e.graphSet[i],a=o.length;if(i===0)var s=e.clientHeight/2,u=e.clientWidth/2;else var l=e.layoutNodes[e.idToIndex[o[0]]],f=e.layoutNodes[e.idToIndex[l.parentId]],s=f.positionX,u=f.positionY;for(var c=0;c<a;c++){var h=e.layoutNodes[e.idToIndex[o[c]]];if(!h.isLocked){var d=s-h.positionX,p=u-h.positionY,g=Math.sqrt(d*d+p*p);if(g>n){var w=r.gravity*d/g,v=r.gravity*p/g;h.offsetX+=w,h.offsetY+=v}}}}},WL=function(e,r){var n=[],i=0,o=-1;for(n.push.apply(n,e.graphSet[0]),o+=e.graphSet[0].length;i<=o;){var a=n[i++],s=e.idToIndex[a],u=e.layoutNodes[s],l=u.children;if(0<l.length&&!u.isLocked){for(var f=u.offsetX,c=u.offsetY,h=0;h<l.length;h++){var d=e.layoutNodes[e.idToIndex[l[h]]];d.offsetX+=f,d.offsetY+=c,n[++o]=l[h]}u.offsetX=0,u.offsetY=0}}},YL=function(e,r){for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];if(!(0<i.children.length||i.isLocked)){var o=XL(i.offsetX,i.offsetY,e.temperature);i.positionX+=o.x,i.positionY+=o.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,jL(i,e)}}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},XL=function(e,r,n){var i=Math.sqrt(e*e+r*r);if(i>n)var o={x:n*e/i,y:n*r/i};else var o={x:e,y:r};return o},jL=function t(e,r){var n=e.parentId;if(n!=null){var i=r.layoutNodes[r.idToIndex[n]],o=!1;if((i.maxX==null||e.maxX+i.padRight>i.maxX)&&(i.maxX=e.maxX+i.padRight,o=!0),(i.minX==null||e.minX-i.padLeft<i.minX)&&(i.minX=e.minX-i.padLeft,o=!0),(i.maxY==null||e.maxY+i.padBottom>i.maxY)&&(i.maxY=e.maxY+i.padBottom,o=!0),(i.minY==null||e.minY-i.padTop<i.minY)&&(i.minY=e.minY-i.padTop,o=!0),o)return t(i,r)}},eg=function(e,r){for(var n=e.layoutNodes,i=[],o=0;o<n.length;o++){var a=n[o],s=a.cmptId,u=i[s]=i[s]||[];u.push(a)}for(var l=0,o=0;o<i.length;o++){var f=i[o];if(f){f.x1=1/0,f.x2=-1/0,f.y1=1/0,f.y2=-1/0;for(var c=0;c<f.length;c++){var h=f[c];f.x1=Math.min(f.x1,h.positionX-h.width/2),f.x2=Math.max(f.x2,h.positionX+h.width/2),f.y1=Math.min(f.y1,h.positionY-h.height/2),f.y2=Math.max(f.y2,h.positionY+h.height/2)}f.w=f.x2-f.x1,f.h=f.y2-f.y1,l+=f.w*f.h}}i.sort(function(m,y){return y.w*y.h-m.w*m.h});for(var d=0,p=0,g=0,w=0,v=Math.sqrt(l)*e.clientWidth/e.clientHeight,o=0;o<i.length;o++){var f=i[o];if(f){for(var c=0;c<f.length;c++){var h=f[c];h.isLocked||(h.positionX+=d-f.x1,h.positionY+=p-f.y1)}d+=f.w+r.componentSpacing,g+=f.w+r.componentSpacing,w=Math.max(w,f.h),g>v&&(p+=w+r.componentSpacing,d=0,g=0,w=0)}}},KL={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function vE(t){this.options=mt({},KL,t)}vE.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,i=n.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));var o=en(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(o.h===0||o.w===0)n.nodes().layoutPositions(this,e,function(X){return{x:o.x1,y:o.y1}});else{var a=i.size(),s=Math.sqrt(a*o.h/o.w),u=Math.round(s),l=Math.round(o.w/o.h*s),f=function(B){if(B==null)return Math.min(u,l);var H=Math.min(u,l);H==u?u=B:l=B},c=function(B){if(B==null)return Math.max(u,l);var H=Math.max(u,l);H==u?u=B:l=B},h=e.rows,d=e.cols!=null?e.cols:e.columns;if(h!=null&&d!=null)u=h,l=d;else if(h!=null&&d==null)u=h,l=Math.ceil(a/u);else if(h==null&&d!=null)l=d,u=Math.ceil(a/l);else if(l*u>a){var p=f(),g=c();(p-1)*g>=a?f(p-1):(g-1)*p>=a&&c(g-1)}else for(;l*u<a;){var w=f(),v=c();(v+1)*w>=a?c(v+1):f(w+1)}var m=o.w/l,y=o.h/u;if(e.condense&&(m=0,y=0),e.avoidOverlap)for(var E=0;E<i.length;E++){var T=i[E],C=T._private.position;(C.x==null||C.y==null)&&(C.x=0,C.y=0);var b=T.layoutDimensions(e),k=e.avoidOverlapPadding,S=b.w+k,O=b.h+k;m=Math.max(m,S),y=Math.max(y,O)}for(var N={},D=function(B,H){return!!N["c-"+B+"-"+H]},I=function(B,H){N["c-"+B+"-"+H]=!0},x=0,P=0,L=function(){P++,P>=l&&(P=0,x++)},M={},R=0;R<i.length;R++){var V=i[R],U=e.position(V);if(U&&(U.row!==void 0||U.col!==void 0)){var q={row:U.row,col:U.col};if(q.col===void 0)for(q.col=0;D(q.row,q.col);)q.col++;else if(q.row===void 0)for(q.row=0;D(q.row,q.col);)q.row++;M[V.id()]=q,I(q.row,q.col)}}var $=function(B,H){var j,K;if(B.locked()||B.isParent())return!1;var te=M[B.id()];if(te)j=te.col*m+m/2+o.x1,K=te.row*y+y/2+o.y1;else{for(;D(x,P);)L();j=P*m+m/2+o.x1,K=x*y+y/2+o.y1,I(x,P),L()}return{x:j,y:K}};i.layoutPositions(this,e,$)}return this};var ZL={ready:function(){},stop:function(){}};function hv(t){this.options=mt({},ZL,t)}hv.prototype.run=function(){var t=this.options,e=t.eles,r=this;return t.cy,r.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",t.ready),r.emit("layoutready"),r.one("layoutstop",t.stop),r.emit("layoutstop"),this};hv.prototype.stop=function(){return this};var QL={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function pE(t){this.options=mt({},QL,t)}pE.prototype.run=function(){var t=this.options,e=t.eles,r=e.nodes(),n=ur(t.positions);function i(o){if(t.positions==null)return f2(o.position());if(n)return t.positions(o);var a=t.positions[o._private.data.id];return a??null}return r.layoutPositions(this,t,function(o,a){var s=i(o);return o.locked()||s==null?!1:s}),this};var JL={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function gE(t){this.options=mt({},JL,t)}gE.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=en(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),i=function(a,s){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,t,i),this};var eM=[{name:"breadthfirst",impl:fE},{name:"circle",impl:cE},{name:"concentric",impl:hE},{name:"cose",impl:lu},{name:"grid",impl:vE},{name:"null",impl:hv},{name:"preset",impl:pE},{name:"random",impl:gE}];function mE(t){this.options=t,this.notifications=0}var tg=function(){},rg=function(){throw new Error("A headless instance can not render images")};mE.prototype={recalculateRenderedStyle:tg,notify:function(){this.notifications++},init:tg,isHeadless:function(){return!0},png:rg,jpg:rg};var dv={};dv.arrowShapeWidth=.3;dv.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,r=function(l,f,c,h,d,p,g){var w=d.x-c/2-g,v=d.x+c/2+g,m=d.y-c/2-g,y=d.y+c/2+g,E=w<=l&&l<=v&&m<=f&&f<=y;return E},n=function(l,f,c,h,d){var p=l*Math.cos(h)-f*Math.sin(h),g=l*Math.sin(h)+f*Math.cos(h),w=p*c,v=g*c,m=w+d.x,y=v+d.y;return{x:m,y}},i=function(l,f,c,h){for(var d=[],p=0;p<l.length;p+=2){var g=l[p],w=l[p+1];d.push(n(g,w,f,c,h))}return d},o=function(l){for(var f=[],c=0;c<l.length;c++){var h=l[c];f.push(h.x,h.y)}return f},a=function(l){return l.pstyle("width").pfValue*l.pstyle("arrow-scale").pfValue*2},s=function(l,f){ft(f)&&(f=t[f]),t[l]=mt({name:l,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(h,d,p,g,w,v){var m=o(i(this.points,p+2*v,g,w)),y=Kr(h,d,m);return y},roughCollide:r,draw:function(h,d,p,g){var w=i(this.points,d,p,g);e.arrowShapeImpl("polygon")(h,w)},spacing:function(h){return 0},gap:a},f)};s("none",{collide:Is,roughCollide:Is,draw:tv,spacing:mp,gap:mp}),s("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),s("arrow","triangle"),s("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(l,f,c,h,d){var p=i(this.points,f,c,h),g=this.controlPoint,w=n(g[0],g[1],f,c,h);e.arrowShapeImpl(this.name)(l,p,w)},gap:function(l){return a(l)*.8}}),s("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(l,f,c,h,d,p,g){var w=o(i(this.points,c+2*g,h,d)),v=o(i(this.pointsTee,c+2*g,h,d)),m=Kr(l,f,w)||Kr(l,f,v);return m},draw:function(l,f,c,h,d){var p=i(this.points,f,c,h),g=i(this.pointsTee,f,c,h);e.arrowShapeImpl(this.name)(l,p,g)}}),s("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(l,f,c,h,d,p,g){var w=d,v=Math.pow(w.x-l,2)+Math.pow(w.y-f,2)<=Math.pow((c+2*g)*this.radius,2),m=o(i(this.points,c+2*g,h,d));return Kr(l,f,m)||v},draw:function(l,f,c,h,d){var p=i(this.pointsTr,f,c,h);e.arrowShapeImpl(this.name)(l,p,h.x,h.y,this.radius*f)},spacing:function(l){return e.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.radius}}),s("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(l,f){var c=this.baseCrossLinePts.slice(),h=f/l,d=3,p=5;return c[d]=c[d]-h,c[p]=c[p]-h,c},collide:function(l,f,c,h,d,p,g){var w=o(i(this.points,c+2*g,h,d)),v=o(i(this.crossLinePts(c,p),c+2*g,h,d)),m=Kr(l,f,w)||Kr(l,f,v);return m},draw:function(l,f,c,h,d){var p=i(this.points,f,c,h),g=i(this.crossLinePts(f,d),f,c,h);e.arrowShapeImpl(this.name)(l,p,g)}}),s("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(l){return a(l)*.525}}),s("circle",{radius:.15,collide:function(l,f,c,h,d,p,g){var w=d,v=Math.pow(w.x-l,2)+Math.pow(w.y-f,2)<=Math.pow((c+2*g)*this.radius,2);return v},draw:function(l,f,c,h,d){e.arrowShapeImpl(this.name)(l,h.x,h.y,this.radius*f)},spacing:function(l){return e.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.radius}}),s("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(l){return 1},gap:function(l){return 1}}),s("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),s("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(l){return l.pstyle("width").pfValue*l.pstyle("arrow-scale").value}}),s("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(l){return .95*l.pstyle("width").pfValue*l.pstyle("arrow-scale").value}})};var Ji={};Ji.projectIntoViewport=function(t,e){var r=this.cy,n=this.findContainerClientCoords(),i=n[0],o=n[1],a=n[4],s=r.pan(),u=r.zoom(),l=((t-i)/a-s.x)/u,f=((e-o)/a-s.y)/u;return[l,f]};Ji.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),r=ar.getComputedStyle(t),n=function(v){return parseFloat(r.getPropertyValue(v))},i={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},o={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},a=t.clientWidth,s=t.clientHeight,u=i.left+i.right,l=i.top+i.bottom,f=o.left+o.right,c=e.width/(a+f),h=a-u,d=s-l,p=e.left+i.left+o.left,g=e.top+i.top+o.top;return this.containerBB=[p,g,h,d,c]};Ji.invalidateContainerClientCoordsCache=function(){this.containerBB=null};Ji.findNearestElement=function(t,e,r,n){return this.findNearestElements(t,e,r,n)[0]};Ji.findNearestElements=function(t,e,r,n){var i=this,o=this,a=o.getCachedZSortedEles(),s=[],u=o.cy.zoom(),l=o.cy.hasCompoundNodes(),f=(n?24:8)/u,c=(n?8:2)/u,h=(n?8:2)/u,d=1/0,p,g;r&&(a=a.interactive);function w(b,k){if(b.isNode()){if(g)return;g=b,s.push(b)}if(b.isEdge()&&(k==null||k<d))if(p){if(p.pstyle("z-compound-depth").value===b.pstyle("z-compound-depth").value&&p.pstyle("z-compound-depth").value===b.pstyle("z-compound-depth").value){for(var S=0;S<s.length;S++)if(s[S].isEdge()){s[S]=b,p=b,d=k??d;break}}}else s.push(b),p=b,d=k??d}function v(b){var k=b.outerWidth()+2*c,S=b.outerHeight()+2*c,O=k/2,N=S/2,D=b.position();if(D.x-O<=t&&t<=D.x+O&&D.y-N<=e&&e<=D.y+N){var I=o.nodeShapes[i.getNodeShape(b)];if(I.checkPoint(t,e,0,k,S,D.x,D.y))return w(b,0),!0}}function m(b){var k=b._private,S=k.rscratch,O=b.pstyle("width").pfValue,N=b.pstyle("arrow-scale").value,D=O/2+f,I=D*D,x=D*2,R=k.source,V=k.target,P;if(S.edgeType==="segments"||S.edgeType==="straight"||S.edgeType==="haystack"){for(var L=S.allpts,M=0;M+3<L.length;M+=2)if(_2(t,e,L[M],L[M+1],L[M+2],L[M+3],x)&&I>(P=k2(t,e,L[M],L[M+1],L[M+2],L[M+3])))return w(b,P),!0}else if(S.edgeType==="bezier"||S.edgeType==="multibezier"||S.edgeType==="self"||S.edgeType==="compound"){for(var L=S.allpts,M=0;M+5<S.allpts.length;M+=4)if(C2(t,e,L[M],L[M+1],L[M+2],L[M+3],L[M+4],L[M+5],x)&&I>(P=D2(t,e,L[M],L[M+1],L[M+2],L[M+3],L[M+4],L[M+5])))return w(b,P),!0}for(var R=R||k.source,V=V||k.target,U=i.getArrowWidth(O,N),q=[{name:"source",x:S.arrowStartX,y:S.arrowStartY,angle:S.srcArrowAngle},{name:"target",x:S.arrowEndX,y:S.arrowEndY,angle:S.tgtArrowAngle},{name:"mid-source",x:S.midX,y:S.midY,angle:S.midsrcArrowAngle},{name:"mid-target",x:S.midX,y:S.midY,angle:S.midtgtArrowAngle}],M=0;M<q.length;M++){var $=q[M],X=o.arrowShapes[b.pstyle($.name+"-arrow-shape").value],B=b.pstyle("width").pfValue;if(X.roughCollide(t,e,U,$.angle,{x:$.x,y:$.y},B,f)&&X.collide(t,e,U,$.angle,{x:$.x,y:$.y},B,f))return w(b),!0}l&&s.length>0&&(v(R),v(V))}function y(b,k,S){return wn(b,k,S)}function E(b,k){var S=b._private,O=h,N;k?N=k+"-":N="",b.boundingBox();var D=S.labelBounds[k||"main"],I=b.pstyle(N+"label").value,x=b.pstyle("text-events").strValue==="yes";if(!(!x||!I)){var P=y(S.rscratch,"labelX",k),L=y(S.rscratch,"labelY",k),M=y(S.rscratch,"labelAngle",k),R=b.pstyle(N+"text-margin-x").pfValue,V=b.pstyle(N+"text-margin-y").pfValue,U=D.x1-O-R,q=D.x2+O-R,$=D.y1-O-V,X=D.y2+O-V;if(M){var B=Math.cos(M),H=Math.sin(M),j=function(be,z){return be=be-P,z=z-L,{x:be*B-z*H+P,y:be*H+z*B+L}},K=j(U,$),te=j(U,X),re=j(q,$),ue=j(q,X),se=[K.x+R,K.y+V,re.x+R,re.y+V,ue.x+R,ue.y+V,te.x+R,te.y+V];if(Kr(t,e,se))return w(b),!0}else if(Ta(D,t,e))return w(b),!0}}for(var T=a.length-1;T>=0;T--){var C=a[T];C.isNode()?v(C)||E(C):m(C)||E(C)||E(C,"source")||E(C,"target")}return s};Ji.getAllInBox=function(t,e,r,n){var i=this.getCachedZSortedEles().interactive,o=[],a=Math.min(t,r),s=Math.max(t,r),u=Math.min(e,n),l=Math.max(e,n);t=a,r=s,e=u,n=l;for(var f=en({x1:t,y1:e,x2:r,y2:n}),c=0;c<i.length;c++){var h=i[c];if(h.isNode()){var d=h,p=d.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});iv(f,p)&&!Mw(p,f)&&o.push(d)}else{var g=h,w=g._private,v=w.rscratch;if(v.startX!=null&&v.startY!=null&&!Ta(f,v.startX,v.startY)||v.endX!=null&&v.endY!=null&&!Ta(f,v.endX,v.endY))continue;if(v.edgeType==="bezier"||v.edgeType==="multibezier"||v.edgeType==="self"||v.edgeType==="compound"||v.edgeType==="segments"||v.edgeType==="haystack"){for(var m=w.rstyle.bezierPts||w.rstyle.linePts||w.rstyle.haystackPts,y=!0,E=0;E<m.length;E++)if(!x2(f,m[E])){y=!1;break}y&&o.push(g)}else(v.edgeType==="haystack"||v.edgeType==="straight")&&o.push(g)}}return o};var Bs={};Bs.calculateArrowAngles=function(t){var e=t._private.rscratch,r=e.edgeType==="haystack",n=e.edgeType==="bezier",i=e.edgeType==="multibezier",o=e.edgeType==="segments",a=e.edgeType==="compound",s=e.edgeType==="self",u,l,f,c,h,d,v,m;if(r?(f=e.haystackPts[0],c=e.haystackPts[1],h=e.haystackPts[2],d=e.haystackPts[3]):(f=e.arrowStartX,c=e.arrowStartY,h=e.arrowEndX,d=e.arrowEndY),v=e.midX,m=e.midY,o)u=f-e.segpts[0],l=c-e.segpts[1];else if(i||a||s||n){var p=e.allpts,g=Er(p[0],p[2],p[4],.1),w=Er(p[1],p[3],p[5],.1);u=f-g,l=c-w}else u=f-v,l=c-m;e.srcArrowAngle=us(u,l);var v=e.midX,m=e.midY;if(r&&(v=(f+h)/2,m=(c+d)/2),u=h-f,l=d-c,o){var p=e.allpts;if(p.length/2%2===0){var y=p.length/2,E=y-2;u=p[y]-p[E],l=p[y+1]-p[E+1]}else{var y=p.length/2-1,E=y-2,T=y+2;u=p[y]-p[E],l=p[y+1]-p[E+1]}}else if(i||a||s){var p=e.allpts,C=e.ctrlpts,b,k,S,O;if(C.length/2%2===0){var N=p.length/2-1,D=N+2,I=D+2;b=Er(p[N],p[D],p[I],0),k=Er(p[N+1],p[D+1],p[I+1],0),S=Er(p[N],p[D],p[I],1e-4),O=Er(p[N+1],p[D+1],p[I+1],1e-4)}else{var D=p.length/2-1,N=D-2,I=D+2;b=Er(p[N],p[D],p[I],.4999),k=Er(p[N+1],p[D+1],p[I+1],.4999),S=Er(p[N],p[D],p[I],.5),O=Er(p[N+1],p[D+1],p[I+1],.5)}u=S-b,l=O-k}if(e.midtgtArrowAngle=us(u,l),e.midDispX=u,e.midDispY=l,u*=-1,l*=-1,o){var p=e.allpts;if(p.length/2%2!==0){var y=p.length/2-1,T=y+2;u=-(p[T]-p[y]),l=-(p[T+1]-p[y+1])}}if(e.midsrcArrowAngle=us(u,l),o)u=h-e.segpts[e.segpts.length-2],l=d-e.segpts[e.segpts.length-1];else if(i||a||s||n){var p=e.allpts,x=p.length,g=Er(p[x-6],p[x-4],p[x-2],.9),w=Er(p[x-5],p[x-3],p[x-1],.9);u=h-g,l=d-w}else u=h-v,l=d-m;e.tgtArrowAngle=us(u,l)};Bs.getArrowWidth=Bs.getArrowHeight=function(t,e){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[t+", "+e];return n||(n=Math.max(Math.pow(t*13.37,.9),29)*e,r[t+", "+e]=n,n)};var Ur={};Ur.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var r=t[e],n=r._private,i=n.rscratch;if(!i.haystack){var o=Math.random()*2*Math.PI;i.source={x:Math.cos(o),y:Math.sin(o)},o=Math.random()*2*Math.PI,i.target={x:Math.cos(o),y:Math.sin(o)}}var a=n.source,s=n.target,u=a.position(),l=s.position(),f=a.width(),c=s.width(),h=a.height(),d=s.height(),p=r.pstyle("haystack-radius").value,g=p/2;i.haystackPts=i.allpts=[i.source.x*f*g+u.x,i.source.y*h*g+u.y,i.target.x*c*g+l.x,i.target.y*d*g+l.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};Ur.findSegmentsPoints=function(t,e){var r=t._private.rscratch,n=e.posPts,i=e.intersectionPts,o=e.vectorNormInverse,a=t.pstyle("edge-distances").value,s=t.pstyle("segment-weights"),u=t.pstyle("segment-distances"),l=Math.min(s.pfValue.length,u.pfValue.length);r.edgeType="segments",r.segpts=[];for(var f=0;f<l;f++){var c=s.pfValue[f],h=u.pfValue[f],d=1-c,p=c,g=a==="node-position"?n:i,w={x:g.x1*d+g.x2*p,y:g.y1*d+g.y2*p};r.segpts.push(w.x+o.x*h,w.y+o.y*h)}};Ur.findLoopPoints=function(t,e,r,n){var i=t._private.rscratch,o=e.dirCounts,a=e.srcPos,s=t.pstyle("control-point-distances"),u=s?s.pfValue[0]:void 0,l=t.pstyle("loop-direction").pfValue,f=t.pstyle("loop-sweep").pfValue,c=t.pstyle("control-point-step-size").pfValue;i.edgeType="self";var h=r,d=c;n&&(h=0,d=u);var p=l-Math.PI/2,g=p-f/2,w=p+f/2,v=l+"_"+f;h=o[v]===void 0?o[v]=0:++o[v],i.ctrlpts=[a.x+Math.cos(g)*1.4*d*(h/3+1),a.y+Math.sin(g)*1.4*d*(h/3+1),a.x+Math.cos(w)*1.4*d*(h/3+1),a.y+Math.sin(w)*1.4*d*(h/3+1)]};Ur.findCompoundLoopPoints=function(t,e,r,n){var i=t._private.rscratch;i.edgeType="compound";var o=e.srcPos,a=e.tgtPos,s=e.srcW,u=e.srcH,l=e.tgtW,f=e.tgtH,c=t.pstyle("control-point-step-size").pfValue,h=t.pstyle("control-point-distances"),d=h?h.pfValue[0]:void 0,p=r,g=c;n&&(p=0,g=d);var w=50,v={x:o.x-s/2,y:o.y-u/2},m={x:a.x-l/2,y:a.y-f/2},y={x:Math.min(v.x,m.x),y:Math.min(v.y,m.y)},E=.5,T=Math.max(E,Math.log(s*.01)),C=Math.max(E,Math.log(l*.01));i.ctrlpts=[y.x,y.y-(1+Math.pow(w,1.12)/100)*g*(p/3+1)*T,y.x-(1+Math.pow(w,1.12)/100)*g*(p/3+1)*C,y.y]};Ur.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"};Ur.findBezierPoints=function(t,e,r,n,i){var o=t._private.rscratch,a=e.vectorNormInverse,s=e.posPts,u=e.intersectionPts,l=t.pstyle("edge-distances").value,f=t.pstyle("control-point-step-size").pfValue,c=t.pstyle("control-point-distances"),h=t.pstyle("control-point-weights"),d=c&&h?Math.min(c.value.length,h.value.length):1,p=c?c.pfValue[0]:void 0,g=h.value[0],w=n;o.edgeType=w?"multibezier":"bezier",o.ctrlpts=[];for(var v=0;v<d;v++){var m=(.5-e.eles.length/2+r)*f*(i?-1:1),y=void 0,E=Lw(m);w&&(p=c?c.pfValue[v]:f,g=h.value[v]),n?y=p:y=p!==void 0?E*p:void 0;var T=y!==void 0?y:m,C=1-g,b=g,k=l==="node-position"?s:u,S={x:k.x1*C+k.x2*b,y:k.y1*C+k.y2*b};o.ctrlpts.push(S.x+a.x*T,S.y+a.y*T)}};Ur.findTaxiPoints=function(t,e){var r=t._private.rscratch;r.edgeType="segments";var n="vertical",i="horizontal",o="leftward",a="rightward",s="downward",u="upward",l="auto",f=e.posPts,c=e.srcW,h=e.srcH,d=e.tgtW,p=e.tgtH,g=t.pstyle("edge-distances").value,w=g!=="node-position",v=t.pstyle("taxi-direction").value,m=v,y=t.pstyle("taxi-turn"),E=y.units==="%",T=y.pfValue,C=T<0,b=t.pstyle("taxi-turn-min-distance").pfValue,k=w?(c+d)/2:0,S=w?(h+p)/2:0,O=f.x2-f.x1,N=f.y2-f.y1,D=function(Re,Ce){return Re>0?Math.max(Re-Ce,0):Math.min(Re+Ce,0)},I=D(O,k),x=D(N,S),P=!1;m===l?v=Math.abs(I)>Math.abs(x)?i:n:m===u||m===s?(v=n,P=!0):(m===o||m===a)&&(v=i,P=!0);var L=v===n,M=L?x:I,R=L?N:O,V=Lw(R),U=!1;!(P&&(E||C))&&(m===s&&R<0||m===u&&R>0||m===o&&R>0||m===a&&R<0)&&(V*=-1,M=V*Math.abs(M),U=!0);var q;if(E){var $=T<0?1+T:T;q=$*M}else{var X=T<0?M:0;q=X+T*V}var B=function(Re){return Math.abs(Re)<b||Math.abs(Re)>=Math.abs(M)},H=B(q),j=B(Math.abs(M)-Math.abs(q)),K=H||j;if(K&&!U)if(L){var te=Math.abs(R)<=h/2,re=Math.abs(O)<=d/2;if(te){var ue=(f.x1+f.x2)/2,se=f.y1,de=f.y2;r.segpts=[ue,se,ue,de]}else if(re){var be=(f.y1+f.y2)/2,z=f.x1,ae=f.x2;r.segpts=[z,be,ae,be]}else r.segpts=[f.x1,f.y2]}else{var Z=Math.abs(R)<=c/2,W=Math.abs(N)<=p/2;if(Z){var Y=(f.y1+f.y2)/2,ie=f.x1,ve=f.x2;r.segpts=[ie,Y,ve,Y]}else if(W){var me=(f.x1+f.x2)/2,fe=f.y1,le=f.y2;r.segpts=[me,fe,me,le]}else r.segpts=[f.x2,f.y1]}else if(L){var ee=f.y1+q+(w?h/2*V:0),oe=f.x1,ge=f.x2;r.segpts=[oe,ee,ge,ee]}else{var _e=f.x1+q+(w?c/2*V:0),we=f.y1,ze=f.y2;r.segpts=[_e,we,_e,ze]}};Ur.tryToCorrectInvalidPoints=function(t,e){var r=t._private.rscratch;if(r.edgeType==="bezier"){var n=e.srcPos,i=e.tgtPos,o=e.srcW,a=e.srcH,s=e.tgtW,u=e.tgtH,l=e.srcShape,f=e.tgtShape,c=!Xe(r.startX)||!Xe(r.startY),h=!Xe(r.arrowStartX)||!Xe(r.arrowStartY),d=!Xe(r.endX)||!Xe(r.endY),p=!Xe(r.arrowEndX)||!Xe(r.arrowEndY),g=3,w=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,v=g*w,m=Vi({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),y=m<v,E=Vi({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),T=E<v,C=!1;if(c||h||y){C=!0;var b={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},k=Math.sqrt(b.x*b.x+b.y*b.y),S={x:b.x/k,y:b.y/k},O=Math.max(o,a),N={x:r.ctrlpts[0]+S.x*2*O,y:r.ctrlpts[1]+S.y*2*O},D=l.intersectLine(n.x,n.y,o,a,N.x,N.y,0);y?(r.ctrlpts[0]=r.ctrlpts[0]+S.x*(v-m),r.ctrlpts[1]=r.ctrlpts[1]+S.y*(v-m)):(r.ctrlpts[0]=D[0]+S.x*v,r.ctrlpts[1]=D[1]+S.y*v)}if(d||p||T){C=!0;var I={x:r.ctrlpts[0]-i.x,y:r.ctrlpts[1]-i.y},x=Math.sqrt(I.x*I.x+I.y*I.y),P={x:I.x/x,y:I.y/x},L=Math.max(o,a),M={x:r.ctrlpts[0]+P.x*2*L,y:r.ctrlpts[1]+P.y*2*L},R=f.intersectLine(i.x,i.y,s,u,M.x,M.y,0);T?(r.ctrlpts[0]=r.ctrlpts[0]+P.x*(v-E),r.ctrlpts[1]=r.ctrlpts[1]+P.y*(v-E)):(r.ctrlpts[0]=R[0]+P.x*v,r.ctrlpts[1]=R[1]+P.y*v)}C&&this.findEndpoints(t)}};Ur.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var r=0;r+1<e.ctrlpts.length;r+=2)e.allpts.push(e.ctrlpts[r],e.ctrlpts[r+1]),r+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[r]+e.ctrlpts[r+2])/2,(e.ctrlpts[r+1]+e.ctrlpts[r+3])/2);e.allpts.push(e.endX,e.endY);var n,i;e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,i=.5,e.midX=Er(e.allpts[n],e.allpts[n+2],e.allpts[n+4],i),e.midY=Er(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],i))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments")if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.segpts.length%4===0){var o=e.segpts.length/2,a=o-2;e.midX=(e.segpts[a]+e.segpts[o])/2,e.midY=(e.segpts[a+1]+e.segpts[o+1])/2}else{var s=e.segpts.length/2-1;e.midX=e.segpts[s],e.midY=e.segpts[s+1]}};Ur.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||Xe(e.startX)&&Xe(e.startY)&&Xe(e.endX)&&Xe(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,Wt("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};Ur.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var r=this,n=r.cy,i=n.hasCompoundNodes(),o={map:new Pn,get:function(b){var k=this.map.get(b[0]);return k!=null?k.get(b[1]):null},set:function(b,k){var S=this.map.get(b[0]);S==null&&(S=new Pn,this.map.set(b[0],S)),S.set(b[1],k)}},a=[],s=[],u=0;u<t.length;u++){var l=t[u],f=l._private,c=l.pstyle("curve-style").value;if(!(l.removed()||!l.takesUpSpace())){if(c==="haystack"){s.push(l);continue}var h=c==="unbundled-bezier"||c==="segments"||c==="straight"||c==="straight-triangle"||c==="taxi",d=c==="unbundled-bezier"||c==="bezier",p=f.source,g=f.target,w=p.poolIndex(),v=g.poolIndex(),m=[w,v].sort(),y=o.get(m);y==null&&(y={eles:[]},o.set(m,y),a.push(m)),y.eles.push(l),h&&(y.hasUnbundled=!0),d&&(y.hasBezier=!0)}}for(var E=function(b){var k=a[b],S=o.get(k),O=void 0;if(!S.hasUnbundled){var N=S.eles[0].parallelEdges().filter(function(le){return le.isBundledBezier()});rv(S.eles),N.forEach(function(le){return S.eles.push(le)}),S.eles.sort(function(le,ee){return le.poolIndex()-ee.poolIndex()})}var D=S.eles[0],I=D.source(),x=D.target();if(I.poolIndex()>x.poolIndex()){var P=I;I=x,x=P}var L=S.srcPos=I.position(),M=S.tgtPos=x.position(),R=S.srcW=I.outerWidth(),V=S.srcH=I.outerHeight(),U=S.tgtW=x.outerWidth(),q=S.tgtH=x.outerHeight(),$=S.srcShape=r.nodeShapes[e.getNodeShape(I)],X=S.tgtShape=r.nodeShapes[e.getNodeShape(x)];S.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var B=0;B<S.eles.length;B++){var H=S.eles[B],j=H[0]._private.rscratch,K=H.pstyle("curve-style").value,te=K==="unbundled-bezier"||K==="segments"||K==="taxi",re=!I.same(H.source());if(!S.calculatedIntersection&&I!==x&&(S.hasBezier||S.hasUnbundled)){S.calculatedIntersection=!0;var ue=$.intersectLine(L.x,L.y,R,V,M.x,M.y,0),se=S.srcIntn=ue,de=X.intersectLine(M.x,M.y,U,q,L.x,L.y,0),be=S.tgtIntn=de,z=S.intersectionPts={x1:ue[0],x2:de[0],y1:ue[1],y2:de[1]},ae=S.posPts={x1:L.x,x2:M.x,y1:L.y,y2:M.y},Z=de[1]-ue[1],W=de[0]-ue[0],Y=Math.sqrt(W*W+Z*Z),ie=S.vector={x:W,y:Z},ve=S.vectorNorm={x:ie.x/Y,y:ie.y/Y},me={x:-ve.y,y:ve.x};S.nodesOverlap=!Xe(Y)||X.checkPoint(ue[0],ue[1],0,U,q,M.x,M.y)||$.checkPoint(de[0],de[1],0,R,V,L.x,L.y),S.vectorNormInverse=me,O={nodesOverlap:S.nodesOverlap,dirCounts:S.dirCounts,calculatedIntersection:!0,hasBezier:S.hasBezier,hasUnbundled:S.hasUnbundled,eles:S.eles,srcPos:M,tgtPos:L,srcW:U,srcH:q,tgtW:R,tgtH:V,srcIntn:be,tgtIntn:se,srcShape:X,tgtShape:$,posPts:{x1:ae.x2,y1:ae.y2,x2:ae.x1,y2:ae.y1},intersectionPts:{x1:z.x2,y1:z.y2,x2:z.x1,y2:z.y1},vector:{x:-ie.x,y:-ie.y},vectorNorm:{x:-ve.x,y:-ve.y},vectorNormInverse:{x:-me.x,y:-me.y}}}var fe=re?O:S;j.nodesOverlap=fe.nodesOverlap,j.srcIntn=fe.srcIntn,j.tgtIntn=fe.tgtIntn,i&&(I.isParent()||I.isChild()||x.isParent()||x.isChild())&&(I.parents().anySame(x)||x.parents().anySame(I)||I.same(x)&&I.isParent())?e.findCompoundLoopPoints(H,fe,B,te):I===x?e.findLoopPoints(H,fe,B,te):K==="segments"?e.findSegmentsPoints(H,fe):K==="taxi"?e.findTaxiPoints(H,fe):K==="straight"||!te&&S.eles.length%2===1&&B===Math.floor(S.eles.length/2)?e.findStraightEdgePoints(H):e.findBezierPoints(H,fe,B,te,re),e.findEndpoints(H),e.tryToCorrectInvalidPoints(H,fe),e.checkForInvalidEdgeWarning(H),e.storeAllpts(H),e.storeEdgeProjections(H),e.calculateArrowAngles(H),e.recalculateEdgeLabelProjections(H),e.calculateLabelAngles(H)}},T=0;T<a.length;T++)E(T);this.findHaystackPoints(s)}};function yE(t){var e=[];if(t!=null){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];e.push({x:n,y:i})}return e}}Ur.getSegmentPoints=function(t){var e=t[0]._private.rscratch,r=e.edgeType;if(r==="segments")return this.recalculateRenderedStyle(t),yE(e.segpts)};Ur.getControlPoints=function(t){var e=t[0]._private.rscratch,r=e.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return this.recalculateRenderedStyle(t),yE(e.ctrlpts)};Ur.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var Ho={};Ho.manualEndptToPx=function(t,e){var r=this,n=t.position(),i=t.outerWidth(),o=t.outerHeight();if(e.value.length===2){var a=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(a[0]=a[0]*i),e.units[1]==="%"&&(a[1]=a[1]*o),a[0]+=n.x,a[1]+=n.y,a}else{var s=e.pfValue[0];s=-Math.PI/2+s;var u=2*Math.max(i,o),l=[n.x+Math.cos(s)*u,n.y+Math.sin(s)*u];return r.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,i,o,l[0],l[1],0)}};Ho.findEndpoints=function(t){var e=this,r,n=t.source()[0],i=t.target()[0],o=n.position(),a=i.position(),s=t.pstyle("target-arrow-shape").value,u=t.pstyle("source-arrow-shape").value,l=t.pstyle("target-distance-from-node").pfValue,f=t.pstyle("source-distance-from-node").pfValue,c=t.pstyle("curve-style").value,h=t._private.rscratch,d=h.edgeType,p=c==="taxi",g=d==="self"||d==="compound",w=d==="bezier"||d==="multibezier"||g,v=d!=="bezier",m=d==="straight"||d==="segments",y=d==="segments",E=w||v||m,T=g||p,C=t.pstyle("source-endpoint"),b=T?"outside-to-node":C.value,k=t.pstyle("target-endpoint"),S=T?"outside-to-node":k.value;h.srcManEndpt=C,h.tgtManEndpt=k;var O,N,D,I;if(w){var x=[h.ctrlpts[0],h.ctrlpts[1]],P=v?[h.ctrlpts[h.ctrlpts.length-2],h.ctrlpts[h.ctrlpts.length-1]]:x;O=P,N=x}else if(m){var L=y?h.segpts.slice(0,2):[a.x,a.y],M=y?h.segpts.slice(h.segpts.length-2):[o.x,o.y];O=M,N=L}if(S==="inside-to-node")r=[a.x,a.y];else if(k.units)r=this.manualEndptToPx(i,k);else if(S==="outside-to-line")r=h.tgtIntn;else if(S==="outside-to-node"||S==="outside-to-node-or-label"?D=O:(S==="outside-to-line"||S==="outside-to-line-or-label")&&(D=[o.x,o.y]),r=e.nodeShapes[this.getNodeShape(i)].intersectLine(a.x,a.y,i.outerWidth(),i.outerHeight(),D[0],D[1],0),S==="outside-to-node-or-label"||S==="outside-to-line-or-label"){var R=i._private.rscratch,V=R.labelWidth,U=R.labelHeight,q=R.labelX,$=R.labelY,X=V/2,B=U/2,H=i.pstyle("text-valign").value;H==="top"?$-=B:H==="bottom"&&($+=B);var j=i.pstyle("text-halign").value;j==="left"?q-=X:j==="right"&&(q+=X);var K=_o(D[0],D[1],[q-X,$-B,q+X,$-B,q+X,$+B,q-X,$+B],a.x,a.y);if(K.length>0){var te=o,re=zi(te,ya(r)),ue=zi(te,ya(K)),se=re;if(ue<re&&(r=K,se=ue),K.length>2){var de=zi(te,{x:K[2],y:K[3]});de<se&&(r=[K[2],K[3]])}}}var be=ls(r,O,e.arrowShapes[s].spacing(t)+l),z=ls(r,O,e.arrowShapes[s].gap(t)+l);if(h.endX=z[0],h.endY=z[1],h.arrowEndX=be[0],h.arrowEndY=be[1],b==="inside-to-node")r=[o.x,o.y];else if(C.units)r=this.manualEndptToPx(n,C);else if(b==="outside-to-line")r=h.srcIntn;else if(b==="outside-to-node"||b==="outside-to-node-or-label"?I=N:(b==="outside-to-line"||b==="outside-to-line-or-label")&&(I=[a.x,a.y]),r=e.nodeShapes[this.getNodeShape(n)].intersectLine(o.x,o.y,n.outerWidth(),n.outerHeight(),I[0],I[1],0),b==="outside-to-node-or-label"||b==="outside-to-line-or-label"){var ae=n._private.rscratch,Z=ae.labelWidth,W=ae.labelHeight,Y=ae.labelX,ie=ae.labelY,ve=Z/2,me=W/2,fe=n.pstyle("text-valign").value;fe==="top"?ie-=me:fe==="bottom"&&(ie+=me);var le=n.pstyle("text-halign").value;le==="left"?Y-=ve:le==="right"&&(Y+=ve);var ee=_o(I[0],I[1],[Y-ve,ie-me,Y+ve,ie-me,Y+ve,ie+me,Y-ve,ie+me],o.x,o.y);if(ee.length>0){var oe=a,ge=zi(oe,ya(r)),_e=zi(oe,ya(ee)),we=ge;if(_e<ge&&(r=[ee[0],ee[1]],we=_e),ee.length>2){var ze=zi(oe,{x:ee[2],y:ee[3]});ze<we&&(r=[ee[2],ee[3]])}}}var Me=ls(r,N,e.arrowShapes[u].spacing(t)+f),Re=ls(r,N,e.arrowShapes[u].gap(t)+f);h.startX=Re[0],h.startY=Re[1],h.arrowStartX=Me[0],h.arrowStartY=Me[1],E&&(!Xe(h.startX)||!Xe(h.startY)||!Xe(h.endX)||!Xe(h.endY)?h.badLine=!0:h.badLine=!1)};Ho.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};Ho.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var vv={};function tM(t,e,r){for(var n=function(l,f,c,h){return Er(l,f,c,h)},i=e._private,o=i.rstyle.bezierPts,a=0;a<t.bezierProjPcts.length;a++){var s=t.bezierProjPcts[a];o.push({x:n(r[0],r[2],r[4],s),y:n(r[1],r[3],r[5],s)})}}vv.storeEdgeProjections=function(t){var e=t._private,r=e.rscratch,n=r.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var i=0;i+5<r.allpts.length;i+=4)tM(this,t,r.allpts.slice(i,i+6))}else if(n==="segments")for(var o=e.rstyle.linePts=[],i=0;i+1<r.allpts.length;i+=2)o.push({x:r.allpts[i],y:r.allpts[i+1]});else if(n==="haystack"){var a=r.haystackPts;e.rstyle.haystackPts=[{x:a[0],y:a[1]},{x:a[2],y:a[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth};vv.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var Gn={};Gn.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!xi(e)){var r,n,i=t._private,o=t.width(),a=t.height(),s=t.padding(),u=t.position(),l=t.pstyle("text-halign").strValue,f=t.pstyle("text-valign").strValue,c=i.rscratch,h=i.rstyle;switch(l){case"left":r=u.x-o/2-s;break;case"right":r=u.x+o/2+s;break;default:r=u.x}switch(f){case"top":n=u.y-a/2-s;break;case"bottom":n=u.y+a/2+s;break;default:n=u.y}c.labelX=r,c.labelY=n,h.labelX=r,h.labelY=n,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var bE=function(e,r){var n=Math.atan(r/e);return e===0&&n<0&&(n=n*-1),n},wE=function(e,r){var n=r.x-e.x,i=r.y-e.y;return bE(n,i)},rM=function(e,r,n,i){var o=xo(0,i-.001,1),a=xo(0,i+.001,1),s=Ea(e,r,n,o),u=Ea(e,r,n,a);return wE(s,u)};Gn.recalculateEdgeLabelProjections=function(t){var e,r=t._private,n=r.rscratch,i=this,o={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(o.mid||o.source||o.target){e={x:n.midX,y:n.midY};var a=function(c,h,d){gi(r.rscratch,c,h,d),gi(r.rstyle,c,h,d)};a("labelX",null,e.x),a("labelY",null,e.y);var s=bE(n.midDispX,n.midDispY);a("labelAutoAngle",null,s);var u=function f(){if(f.cache)return f.cache;for(var c=[],h=0;h+5<n.allpts.length;h+=4){var d={x:n.allpts[h],y:n.allpts[h+1]},p={x:n.allpts[h+2],y:n.allpts[h+3]},g={x:n.allpts[h+4],y:n.allpts[h+5]};c.push({p0:d,p1:p,p2:g,startDist:0,length:0,segments:[]})}var w=r.rstyle.bezierPts,v=i.bezierProjPcts.length;function m(b,k,S,O,N){var D=Vi(k,S),I=b.segments[b.segments.length-1],x={p0:k,p1:S,t0:O,t1:N,startDist:I?I.startDist+I.length:0,length:D};b.segments.push(x),b.length+=D}for(var y=0;y<c.length;y++){var E=c[y],T=c[y-1];T&&(E.startDist=T.startDist+T.length),m(E,E.p0,w[y*v],0,i.bezierProjPcts[0]);for(var C=0;C<v-1;C++)m(E,w[y*v+C],w[y*v+C+1],i.bezierProjPcts[C],i.bezierProjPcts[C+1]);m(E,w[y*v+v-1],E.p2,i.bezierProjPcts[v-1],1)}return f.cache=c},l=function(c){var h,d=c==="source";if(o[c]){var p=t.pstyle(c+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var g=u(),w,v=0,m=0,y=0;y<g.length;y++){for(var E=g[d?y:g.length-1-y],T=0;T<E.segments.length;T++){var C=E.segments[d?T:E.segments.length-1-T],b=y===g.length-1&&T===E.segments.length-1;if(v=m,m+=C.length,m>=p||b){w={cp:E,segment:C};break}}if(w)break}var k=w.cp,S=w.segment,O=(p-v)/S.length,N=S.t1-S.t0,D=d?S.t0+N*O:S.t1-N*O;D=xo(0,D,1),e=Ea(k.p0,k.p1,k.p2,D),h=rM(k.p0,k.p1,k.p2,D);break}case"straight":case"segments":case"haystack":{for(var I=0,x,P,L,M,R=n.allpts.length,V=0;V+3<R&&(d?(L={x:n.allpts[V],y:n.allpts[V+1]},M={x:n.allpts[V+2],y:n.allpts[V+3]}):(L={x:n.allpts[R-2-V],y:n.allpts[R-1-V]},M={x:n.allpts[R-4-V],y:n.allpts[R-3-V]}),x=Vi(L,M),P=I,I+=x,!(I>=p));V+=2);var U=p-P,q=U/x;q=xo(0,q,1),e=m2(L,M,q),h=wE(L,M);break}}a("labelX",c,e.x),a("labelY",c,e.y),a("labelAutoAngle",c,h)}};l("source"),l("target"),this.applyLabelDimensions(t)}};Gn.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))};Gn.applyPrefixedLabelDimensions=function(t,e){var r=t._private,n=this.getLabelText(t,e),i=this.calculateLabelDimensions(t,n),o=t.pstyle("line-height").pfValue,a=t.pstyle("text-wrap").strValue,s=wn(r.rscratch,"labelWrapCachedLines",e)||[],u=a!=="wrap"?1:Math.max(s.length,1),l=i.height/u,f=l*o,c=i.width,h=i.height+(u-1)*(o-1)*l;gi(r.rstyle,"labelWidth",e,c),gi(r.rscratch,"labelWidth",e,c),gi(r.rstyle,"labelHeight",e,h),gi(r.rscratch,"labelHeight",e,h),gi(r.rscratch,"labelLineHeight",e,f)};Gn.getLabelText=function(t,e){var r=t._private,n=e?e+"-":"",i=t.pstyle(n+"label").strValue,o=t.pstyle("text-transform").value,a=function(U,q){return q?(gi(r.rscratch,U,e,q),q):wn(r.rscratch,U,e)};if(!i)return"";o=="none"||(o=="uppercase"?i=i.toUpperCase():o=="lowercase"&&(i=i.toLowerCase()));var s=t.pstyle("text-wrap").value;if(s==="wrap"){var u=a("labelKey");if(u!=null&&a("labelWrapKey")===u)return a("labelWrapCachedText");for(var l="",f=i.split(`
`),c=t.pstyle("text-max-width").pfValue,h=t.pstyle("text-overflow-wrap").value,d=h==="anywhere",p=[],g=/[\s\u200b]+/,w=d?"":" ",v=0;v<f.length;v++){var m=f[v],y=this.calculateLabelDimensions(t,m),E=y.width;if(d){var T=m.split("").join(l);m=T}if(E>c){for(var C=m.split(g),b="",k=0;k<C.length;k++){var S=C[k],O=b.length===0?S:b+w+S,N=this.calculateLabelDimensions(t,O),D=N.width;D<=c?b+=S+w:(b&&p.push(b),b=S+w)}b.match(/^[\s\u200b]+$/)||p.push(b)}else p.push(m)}a("labelWrapCachedLines",p),i=a("labelWrapCachedText",p.join(`
`)),a("labelWrapKey",u)}else if(s==="ellipsis"){var I=t.pstyle("text-max-width").pfValue,x="",P="",L=!1;if(this.calculateLabelDimensions(t,i).width<I)return i;for(var M=0;M<i.length;M++){var R=this.calculateLabelDimensions(t,x+i[M]+P).width;if(R>I)break;x+=i[M],M===i.length-1&&(L=!0)}return L||(x+=P),x}return i};Gn.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,r=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};Gn.calculateLabelDimensions=function(t,e){var r=this,n=Ui(e,t._private.labelDimsKey),i=r.labelDimCache||(r.labelDimCache=[]),o=i[n];if(o!=null)return o;var a=0,s=t.pstyle("font-style").strValue,u=t.pstyle("font-size").pfValue,l=t.pstyle("font-family").strValue,f=t.pstyle("font-weight").strValue,c=this.labelCalcCanvas,h=this.labelCalcCanvasContext;if(!c){c=this.labelCalcCanvas=document.createElement("canvas"),h=this.labelCalcCanvasContext=c.getContext("2d");var d=c.style;d.position="absolute",d.left="-9999px",d.top="-9999px",d.zIndex="-1",d.visibility="hidden",d.pointerEvents="none"}h.font="".concat(s," ").concat(f," ").concat(u,"px ").concat(l);for(var p=0,g=0,w=e.split(`
`),v=0;v<w.length;v++){var m=w[v],y=h.measureText(m),E=Math.ceil(y.width),T=u;p=Math.max(E,p),g+=T}return p+=a,g+=a,i[n]={width:p,height:g}};Gn.calculateLabelAngle=function(t,e){var r=t._private,n=r.rscratch,i=t.isEdge(),o=e?e+"-":"",a=t.pstyle(o+"text-rotation"),s=a.strValue;return s==="none"?0:i&&s==="autorotate"?n.labelAutoAngle:s==="autorotate"?0:a.pfValue};Gn.calculateLabelAngles=function(t){var e=this,r=t.isEdge(),n=t._private,i=n.rscratch;i.labelAngle=e.calculateLabelAngle(t),r&&(i.sourceLabelAngle=e.calculateLabelAngle(t,"source"),i.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var EE={},ng=28,ig=!1;EE.getNodeShape=function(t){var e=this,r=t.pstyle("shape").value;if(r==="cutrectangle"&&(t.width()<ng||t.height()<ng))return ig||(Wt("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),ig=!0),"rectangle";if(t.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return r};var fu={};fu.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),r=this,n=function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(a),s)for(var u=0;u<a.length;u++){var l=a[u],f=l._private,c=f.rstyle;c.clean=!1,c.cleanConnected=!1}};r.binder(t).on("bounds.* dirty.*",function(a){var s=a.target;n(s)}).on("style.* background.*",function(a){var s=a.target;n(s,!1)});var i=function(a){if(a){var s=r.onUpdateEleCalcsFns;e.cleanStyle();for(var u=0;u<e.length;u++){var l=e[u],f=l._private.rstyle;l.isNode()&&!f.cleanConnected&&(n(l.connectedEdges()),f.cleanConnected=!0)}if(s)for(var c=0;c<s.length;c++){var h=s[c];h(a,e)}r.recalculateRenderedStyle(e),e=t.collection()}};r.flushRenderedStyleQueue=function(){i(!0)},r.beforeRender(i,r.beforeRenderPriorities.eleCalcs)};fu.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)};fu.recalculateRenderedStyle=function(t,e){var r=function(E){return E._private.rstyle.cleanConnected},n=[],i=[];if(!this.destroyed){e===void 0&&(e=!0);for(var o=0;o<t.length;o++){var a=t[o],s=a._private,u=s.rstyle;a.isEdge()&&(!r(a.source())||!r(a.target()))&&(u.clean=!1),!(e&&u.clean||a.removed())&&a.pstyle("display").value!=="none"&&(s.group==="nodes"?i.push(a):n.push(a),u.clean=!0)}for(var l=0;l<i.length;l++){var f=i[l],c=f._private,h=c.rstyle,d=f.position();this.recalculateNodeLabelProjection(f),h.nodeX=d.x,h.nodeY=d.y,h.nodeW=f.pstyle("width").pfValue,h.nodeH=f.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var p=0;p<n.length;p++){var g=n[p],w=g._private,v=w.rstyle,m=w.rscratch;v.srcX=m.arrowStartX,v.srcY=m.arrowStartY,v.tgtX=m.arrowEndX,v.tgtY=m.arrowEndY,v.midX=m.midX,v.midY=m.midY,v.labelAngle=m.labelAngle,v.sourceLabelAngle=m.sourceLabelAngle,v.targetLabelAngle=m.targetLabelAngle}}};var cu={};cu.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],r=0;r<t.length;r++){var n=t[r],i=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):i.inDragLayer?t.drag.push(n):t.nondrag.push(n)}for(var r=0;r<e.length;r++){var n=e[r];t.drag.push(n)}}};cu.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};cu.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(sE),e.interactive=e.filter(function(r){return r.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var xE={};[Ji,Bs,Ur,Ho,vv,Gn,EE,fu,cu].forEach(function(t){mt(xE,t)});var _E={};_E.getCachedImage=function(t,e,r){var n=this,i=n.imageCache=n.imageCache||{},o=i[t];if(o)return o.image.complete||o.image.addEventListener("load",r),o.image;o=i[t]=i[t]||{};var a=o.image=new Image;a.addEventListener("load",r),a.addEventListener("error",function(){a.error=!0});var s="data:",u=t.substring(0,s.length).toLowerCase()===s;return u||(e=e==="null"?null:e,a.crossOrigin=e),a.src=t,a};var Ba={};Ba.registerBinding=function(t,e,r,n){var i=Array.prototype.slice.apply(arguments,[1]),o=this.binder(t);return o.on.apply(o,i)};Ba.binder=function(t){var e=this,r=t===window||t===document||t===document.body||xk(t);if(e.supportsPassiveEvents==null){var n=!1;try{var i=Object.defineProperty({},"passive",{get:function(){return n=!0,!0}});window.addEventListener("test",null,i)}catch{}e.supportsPassiveEvents=n}var o=function(s,u,l){var f=Array.prototype.slice.call(arguments);return r&&e.supportsPassiveEvents&&(f[2]={capture:l??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:f}),(t.addEventListener||t.on).apply(t,f),this};return{on:o,addEventListener:o,addListener:o,bind:o}};Ba.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()};Ba.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()};Ba.load=function(){var t=this,e=function(ee){return ee.selected()},r=function(ee,oe,ge,_e){ee==null&&(ee=t.cy);for(var we=0;we<oe.length;we++){var ze=oe[we];ee.emit({originalEvent:ge,type:ze,position:_e})}},n=function(ee){return ee.shiftKey||ee.metaKey||ee.ctrlKey},i=function(ee,oe){var ge=!0;if(t.cy.hasCompoundNodes()&&ee&&ee.pannable())for(var _e=0;oe&&_e<oe.length;_e++){var ee=oe[_e];if(ee.isNode()&&ee.isParent()&&!ee.pannable()){ge=!1;break}}else ge=!0;return ge},o=function(ee){ee[0]._private.grabbed=!0},a=function(ee){ee[0]._private.grabbed=!1},s=function(ee){ee[0]._private.rscratch.inDragLayer=!0},u=function(ee){ee[0]._private.rscratch.inDragLayer=!1},l=function(ee){ee[0]._private.rscratch.isGrabTarget=!0},f=function(ee){ee[0]._private.rscratch.isGrabTarget=!1},c=function(ee,oe){var ge=oe.addToList,_e=ge.has(ee);!_e&&ee.grabbable()&&!ee.locked()&&(ge.merge(ee),o(ee))},h=function(ee,oe){if(ee.cy().hasCompoundNodes()&&!(oe.inDragLayer==null&&oe.addToList==null)){var ge=ee.descendants();oe.inDragLayer&&(ge.forEach(s),ge.connectedEdges().forEach(s)),oe.addToList&&c(ge,oe)}},d=function(ee,oe){oe=oe||{};var ge=ee.cy().hasCompoundNodes();oe.inDragLayer&&(ee.forEach(s),ee.neighborhood().stdFilter(function(_e){return!ge||_e.isEdge()}).forEach(s)),oe.addToList&&ee.forEach(function(_e){c(_e,oe)}),h(ee,oe),w(ee,{inDragLayer:oe.inDragLayer}),t.updateCachedGrabbedEles()},p=d,g=function(ee){ee&&(t.getCachedZSortedEles().forEach(function(oe){a(oe),u(oe),f(oe)}),t.updateCachedGrabbedEles())},w=function(ee,oe){if(!(oe.inDragLayer==null&&oe.addToList==null)&&ee.cy().hasCompoundNodes()){var ge=ee.ancestors().orphans();if(!ge.same(ee)){var _e=ge.descendants().spawnSelf().merge(ge).unmerge(ee).unmerge(ee.descendants()),we=_e.connectedEdges();oe.inDragLayer&&(we.forEach(s),_e.forEach(s)),oe.addToList&&_e.forEach(function(ze){c(ze,oe)})}}},v=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},m=typeof MutationObserver<"u",y=typeof ResizeObserver<"u";m?(t.removeObserver=new MutationObserver(function(le){for(var ee=0;ee<le.length;ee++){var oe=le[ee],ge=oe.removedNodes;if(ge)for(var _e=0;_e<ge.length;_e++){var we=ge[_e];if(we===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(le){t.destroy()});var E=Qs.default(function(){t.cy.resize()},100);m&&(t.styleObserver=new MutationObserver(E),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(window,"resize",E),y&&(t.resizeObserver=new ResizeObserver(E),t.resizeObserver.observe(t.container));var T=function(ee,oe){for(;ee!=null;)oe(ee),ee=ee.parentNode},C=function(){t.invalidateContainerClientCoordsCache()};T(t.container,function(le){t.registerBinding(le,"transitionend",C),t.registerBinding(le,"animationend",C),t.registerBinding(le,"scroll",C)}),t.registerBinding(t.container,"contextmenu",function(le){le.preventDefault()});var b=function(){return t.selection[4]!==0},k=function(ee){for(var oe=t.findContainerClientCoords(),ge=oe[0],_e=oe[1],we=oe[2],ze=oe[3],Me=ee.touches?ee.touches:[ee],Re=!1,Ce=0;Ce<Me.length;Ce++){var Ee=Me[Ce];if(ge<=Ee.clientX&&Ee.clientX<=ge+we&&_e<=Ee.clientY&&Ee.clientY<=_e+ze){Re=!0;break}}if(!Re)return!1;for(var Se=t.container,Ne=ee.target,ke=Ne.parentNode,Fe=!1;ke;){if(ke===Se){Fe=!0;break}ke=ke.parentNode}return!!Fe};t.registerBinding(t.container,"mousedown",function(ee){if(k(ee)){ee.preventDefault(),v(),t.hoverData.capture=!0,t.hoverData.which=ee.which;var oe=t.cy,ge=[ee.clientX,ee.clientY],_e=t.projectIntoViewport(ge[0],ge[1]),we=t.selection,ze=t.findNearestElements(_e[0],_e[1],!0,!1),Me=ze[0],Re=t.dragData.possibleDragElements;t.hoverData.mdownPos=_e,t.hoverData.mdownGPos=ge;var Ce=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var Ze=t.hoverData.down;Ze?Ze.emit({originalEvent:ee,type:"taphold",position:{x:_e[0],y:_e[1]}}):oe.emit({originalEvent:ee,type:"taphold",position:{x:_e[0],y:_e[1]}})}},t.tapholdDuration)};if(ee.which==3){t.hoverData.cxtStarted=!0;var Ee={originalEvent:ee,type:"cxttapstart",position:{x:_e[0],y:_e[1]}};Me?(Me.activate(),Me.emit(Ee),t.hoverData.down=Me):oe.emit(Ee),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(ee.which==1){Me&&Me.activate();{if(Me!=null&&t.nodeIsGrabbable(Me)){var Se=function(Ze){return{originalEvent:ee,type:Ze,position:{x:_e[0],y:_e[1]}}},Ne=function(Ze){Ze.emit(Se("grab"))};if(l(Me),!Me.selected())Re=t.dragData.possibleDragElements=oe.collection(),p(Me,{addToList:Re}),Me.emit(Se("grabon")).emit(Se("grab"));else{Re=t.dragData.possibleDragElements=oe.collection();var ke=oe.$(function(Fe){return Fe.isNode()&&Fe.selected()&&t.nodeIsGrabbable(Fe)});d(ke,{addToList:Re}),Me.emit(Se("grabon")),ke.forEach(Ne)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=Me,t.hoverData.downs=ze,t.hoverData.downTime=new Date().getTime()}r(Me,["mousedown","tapstart","vmousedown"],ee,{x:_e[0],y:_e[1]}),Me==null?(we[4]=1,t.data.bgActivePosistion={x:_e[0],y:_e[1]},t.redrawHint("select",!0),t.redraw()):Me.pannable()&&(we[4]=1),Ce()}we[0]=we[2]=_e[0],we[1]=we[3]=_e[1]}},!1),t.registerBinding(window,"mousemove",function(ee){var oe=t.hoverData.capture;if(!(!oe&&!k(ee))){var ge=!1,_e=t.cy,we=_e.zoom(),ze=[ee.clientX,ee.clientY],Me=t.projectIntoViewport(ze[0],ze[1]),Re=t.hoverData.mdownPos,Ce=t.hoverData.mdownGPos,Ee=t.selection,Se=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(Se=t.findNearestElement(Me[0],Me[1],!0,!1));var Ne=t.hoverData.last,ke=t.hoverData.down,Fe=[Me[0]-Ee[2],Me[1]-Ee[3]],Ze=t.dragData.possibleDragElements,Ye;if(Ce){var Ge=ze[0]-Ce[0],Be=Ge*Ge,Qe=ze[1]-Ce[1],pt=Qe*Qe,at=Be+pt;t.hoverData.isOverThresholdDrag=Ye=at>=t.desktopTapThreshold2}var yt=n(ee);Ye&&(t.hoverData.tapholdCancelled=!0);var Je=function(){var Zt=t.hoverData.dragDelta=t.hoverData.dragDelta||[];Zt.length===0?(Zt.push(Fe[0]),Zt.push(Fe[1])):(Zt[0]+=Fe[0],Zt[1]+=Fe[1])};ge=!0,r(Se,["mousemove","vmousemove","tapdrag"],ee,{x:Me[0],y:Me[1]});var rt=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||_e.emit({originalEvent:ee,type:"boxstart",position:{x:Me[0],y:Me[1]}}),Ee[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(Ye){var _t={originalEvent:ee,type:"cxtdrag",position:{x:Me[0],y:Me[1]}};ke?ke.emit(_t):_e.emit(_t),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||Se!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:ee,type:"cxtdragout",position:{x:Me[0],y:Me[1]}}),t.hoverData.cxtOver=Se,Se&&Se.emit({originalEvent:ee,type:"cxtdragover",position:{x:Me[0],y:Me[1]}}))}}else if(t.hoverData.dragging){if(ge=!0,_e.panningEnabled()&&_e.userPanningEnabled()){var ut;if(t.hoverData.justStartedPan){var lt=t.hoverData.mdownPos;ut={x:(Me[0]-lt[0])*we,y:(Me[1]-lt[1])*we},t.hoverData.justStartedPan=!1}else ut={x:Fe[0]*we,y:Fe[1]*we};_e.panBy(ut),_e.emit("dragpan"),t.hoverData.dragged=!0}Me=t.projectIntoViewport(ee.clientX,ee.clientY)}else if(Ee[4]==1&&(ke==null||ke.pannable())){if(Ye){if(!t.hoverData.dragging&&_e.boxSelectionEnabled()&&(yt||!_e.panningEnabled()||!_e.userPanningEnabled()))rt();else if(!t.hoverData.selecting&&_e.panningEnabled()&&_e.userPanningEnabled()){var Ht=i(ke,t.hoverData.downs);Ht&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,Ee[4]=0,t.data.bgActivePosistion=ya(Re),t.redrawHint("select",!0),t.redraw())}ke&&ke.pannable()&&ke.active()&&ke.unactivate()}}else{if(ke&&ke.pannable()&&ke.active()&&ke.unactivate(),(!ke||!ke.grabbed())&&Se!=Ne&&(Ne&&r(Ne,["mouseout","tapdragout"],ee,{x:Me[0],y:Me[1]}),Se&&r(Se,["mouseover","tapdragover"],ee,{x:Me[0],y:Me[1]}),t.hoverData.last=Se),ke)if(Ye){if(_e.boxSelectionEnabled()&&yt)ke&&ke.grabbed()&&(g(Ze),ke.emit("freeon"),Ze.emit("free"),t.dragData.didDrag&&(ke.emit("dragfreeon"),Ze.emit("dragfree"))),rt();else if(ke&&ke.grabbed()&&t.nodeIsDraggable(ke)){var ot=!t.dragData.didDrag;ot&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||d(Ze,{inDragLayer:!0});var dt={x:0,y:0};if(Xe(Fe[0])&&Xe(Fe[1])&&(dt.x+=Fe[0],dt.y+=Fe[1],ot)){var Bt=t.hoverData.dragDelta;Bt&&Xe(Bt[0])&&Xe(Bt[1])&&(dt.x+=Bt[0],dt.y+=Bt[1])}t.hoverData.draggingEles=!0,Ze.silentShift(dt).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else Je();ge=!0}if(Ee[2]=Me[0],Ee[3]=Me[1],ge)return ee.stopPropagation&&ee.stopPropagation(),ee.preventDefault&&ee.preventDefault(),!1}},!1);var S,O,N;t.registerBinding(window,"mouseup",function(ee){var oe=t.hoverData.capture;if(oe){t.hoverData.capture=!1;var ge=t.cy,_e=t.projectIntoViewport(ee.clientX,ee.clientY),we=t.selection,ze=t.findNearestElement(_e[0],_e[1],!0,!1),Me=t.dragData.possibleDragElements,Re=t.hoverData.down,Ce=n(ee);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,Re&&Re.unactivate(),t.hoverData.which===3){var Ee={originalEvent:ee,type:"cxttapend",position:{x:_e[0],y:_e[1]}};if(Re?Re.emit(Ee):ge.emit(Ee),!t.hoverData.cxtDragged){var Se={originalEvent:ee,type:"cxttap",position:{x:_e[0],y:_e[1]}};Re?Re.emit(Se):ge.emit(Se)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(r(ze,["mouseup","tapend","vmouseup"],ee,{x:_e[0],y:_e[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(r(Re,["click","tap","vclick"],ee,{x:_e[0],y:_e[1]}),O=!1,ee.timeStamp-N<=ge.multiClickDebounceTime()?(S&&clearTimeout(S),O=!0,N=null,r(Re,["dblclick","dbltap","vdblclick"],ee,{x:_e[0],y:_e[1]})):(S=setTimeout(function(){O||r(Re,["oneclick","onetap","voneclick"],ee,{x:_e[0],y:_e[1]})},ge.multiClickDebounceTime()),N=ee.timeStamp)),Re==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!n(ee)&&(ge.$(e).unselect(["tapunselect"]),Me.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=Me=ge.collection()),ze==Re&&!t.dragData.didDrag&&!t.hoverData.selecting&&ze!=null&&ze._private.selectable&&(t.hoverData.dragging||(ge.selectionType()==="additive"||Ce?ze.selected()?ze.unselect(["tapunselect"]):ze.select(["tapselect"]):Ce||(ge.$(e).unmerge(ze).unselect(["tapunselect"]),ze.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var Ne=ge.collection(t.getAllInBox(we[0],we[1],we[2],we[3]));t.redrawHint("select",!0),Ne.length>0&&t.redrawHint("eles",!0),ge.emit({type:"boxend",originalEvent:ee,position:{x:_e[0],y:_e[1]}});var ke=function(Ye){return Ye.selectable()&&!Ye.selected()};ge.selectionType()==="additive"||Ce||ge.$(e).unmerge(Ne).unselect(),Ne.emit("box").stdFilter(ke).select().emit("boxselect"),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!we[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var Fe=Re&&Re.grabbed();g(Me),Fe&&(Re.emit("freeon"),Me.emit("free"),t.dragData.didDrag&&(Re.emit("dragfreeon"),Me.emit("dragfree")))}}we[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null}},!1);var D=function(ee){if(!t.scrollingPage){var oe=t.cy,ge=oe.zoom(),_e=oe.pan(),we=t.projectIntoViewport(ee.clientX,ee.clientY),ze=[we[0]*ge+_e.x,we[1]*ge+_e.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||b()){ee.preventDefault();return}if(oe.panningEnabled()&&oe.userPanningEnabled()&&oe.zoomingEnabled()&&oe.userZoomingEnabled()){ee.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var Me;ee.deltaY!=null?Me=ee.deltaY/-250:ee.wheelDeltaY!=null?Me=ee.wheelDeltaY/1e3:Me=ee.wheelDelta/1e3,Me=Me*t.wheelSensitivity;var Re=ee.deltaMode===1;Re&&(Me*=33);var Ce=oe.zoom()*Math.pow(10,Me);ee.type==="gesturechange"&&(Ce=t.gestureStartZoom*ee.scale),oe.zoom({level:Ce,renderedPosition:{x:ze[0],y:ze[1]}}),oe.emit(ee.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};t.registerBinding(t.container,"wheel",D,!0),t.registerBinding(window,"scroll",function(ee){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(ee){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||ee.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(le){t.hasTouchStarted||D(le)},!0),t.registerBinding(t.container,"mouseout",function(ee){var oe=t.projectIntoViewport(ee.clientX,ee.clientY);t.cy.emit({originalEvent:ee,type:"mouseout",position:{x:oe[0],y:oe[1]}})},!1),t.registerBinding(t.container,"mouseover",function(ee){var oe=t.projectIntoViewport(ee.clientX,ee.clientY);t.cy.emit({originalEvent:ee,type:"mouseover",position:{x:oe[0],y:oe[1]}})},!1);var I,x,P,L,M,R,V,U,q,$,X,B,H,j=function(ee,oe,ge,_e){return Math.sqrt((ge-ee)*(ge-ee)+(_e-oe)*(_e-oe))},K=function(ee,oe,ge,_e){return(ge-ee)*(ge-ee)+(_e-oe)*(_e-oe)},te;t.registerBinding(t.container,"touchstart",te=function(ee){if(t.hasTouchStarted=!0,!!k(ee)){v(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var oe=t.cy,ge=t.touchData.now,_e=t.touchData.earlier;if(ee.touches[0]){var we=t.projectIntoViewport(ee.touches[0].clientX,ee.touches[0].clientY);ge[0]=we[0],ge[1]=we[1]}if(ee.touches[1]){var we=t.projectIntoViewport(ee.touches[1].clientX,ee.touches[1].clientY);ge[2]=we[0],ge[3]=we[1]}if(ee.touches[2]){var we=t.projectIntoViewport(ee.touches[2].clientX,ee.touches[2].clientY);ge[4]=we[0],ge[5]=we[1]}if(ee.touches[1]){t.touchData.singleTouchMoved=!0,g(t.dragData.touchDragEles);var ze=t.findContainerClientCoords();q=ze[0],$=ze[1],X=ze[2],B=ze[3],I=ee.touches[0].clientX-q,x=ee.touches[0].clientY-$,P=ee.touches[1].clientX-q,L=ee.touches[1].clientY-$,H=0<=I&&I<=X&&0<=P&&P<=X&&0<=x&&x<=B&&0<=L&&L<=B;var Me=oe.pan(),Re=oe.zoom();M=j(I,x,P,L),R=K(I,x,P,L),V=[(I+P)/2,(x+L)/2],U=[(V[0]-Me.x)/Re,(V[1]-Me.y)/Re];var Ce=200,Ee=Ce*Ce;if(R<Ee&&!ee.touches[2]){var Se=t.findNearestElement(ge[0],ge[1],!0,!0),Ne=t.findNearestElement(ge[2],ge[3],!0,!0);Se&&Se.isNode()?(Se.activate().emit({originalEvent:ee,type:"cxttapstart",position:{x:ge[0],y:ge[1]}}),t.touchData.start=Se):Ne&&Ne.isNode()?(Ne.activate().emit({originalEvent:ee,type:"cxttapstart",position:{x:ge[0],y:ge[1]}}),t.touchData.start=Ne):oe.emit({originalEvent:ee,type:"cxttapstart",position:{x:ge[0],y:ge[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(ee.touches[2])oe.boxSelectionEnabled()&&ee.preventDefault();else if(!ee.touches[1]){if(ee.touches[0]){var ke=t.findNearestElements(ge[0],ge[1],!0,!0),Fe=ke[0];if(Fe!=null&&(Fe.activate(),t.touchData.start=Fe,t.touchData.starts=ke,t.nodeIsGrabbable(Fe))){var Ze=t.dragData.touchDragEles=oe.collection(),Ye=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),Fe.selected()?(Ye=oe.$(function(at){return at.selected()&&t.nodeIsGrabbable(at)}),d(Ye,{addToList:Ze})):p(Fe,{addToList:Ze}),l(Fe);var Ge=function(yt){return{originalEvent:ee,type:yt,position:{x:ge[0],y:ge[1]}}};Fe.emit(Ge("grabon")),Ye?Ye.forEach(function(at){at.emit(Ge("grab"))}):Fe.emit(Ge("grab"))}r(Fe,["touchstart","tapstart","vmousedown"],ee,{x:ge[0],y:ge[1]}),Fe==null&&(t.data.bgActivePosistion={x:we[0],y:we[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&r(t.touchData.start,["taphold"],ee,{x:ge[0],y:ge[1]})},t.tapholdDuration)}}if(ee.touches.length>=1){for(var Be=t.touchData.startPosition=[],Qe=0;Qe<ge.length;Qe++)Be[Qe]=_e[Qe]=ge[Qe];var pt=ee.touches[0];t.touchData.startGPosition=[pt.clientX,pt.clientY]}}},!1);var re;t.registerBinding(window,"touchmove",re=function(ee){var oe=t.touchData.capture;if(!(!oe&&!k(ee))){var ge=t.selection,_e=t.cy,we=t.touchData.now,ze=t.touchData.earlier,Me=_e.zoom();if(ee.touches[0]){var Re=t.projectIntoViewport(ee.touches[0].clientX,ee.touches[0].clientY);we[0]=Re[0],we[1]=Re[1]}if(ee.touches[1]){var Re=t.projectIntoViewport(ee.touches[1].clientX,ee.touches[1].clientY);we[2]=Re[0],we[3]=Re[1]}if(ee.touches[2]){var Re=t.projectIntoViewport(ee.touches[2].clientX,ee.touches[2].clientY);we[4]=Re[0],we[5]=Re[1]}var Ce=t.touchData.startGPosition,Ee;if(oe&&ee.touches[0]&&Ce){for(var Se=[],Ne=0;Ne<we.length;Ne++)Se[Ne]=we[Ne]-ze[Ne];var ke=ee.touches[0].clientX-Ce[0],Fe=ke*ke,Ze=ee.touches[0].clientY-Ce[1],Ye=Ze*Ze,Ge=Fe+Ye;Ee=Ge>=t.touchTapThreshold2}if(oe&&t.touchData.cxt){ee.preventDefault();var Be=ee.touches[0].clientX-q,Qe=ee.touches[0].clientY-$,pt=ee.touches[1].clientX-q,at=ee.touches[1].clientY-$,yt=K(Be,Qe,pt,at),Je=yt/R,rt=150,_t=rt*rt,ut=1.5,lt=ut*ut;if(Je>=lt||yt>=_t){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Ht={originalEvent:ee,type:"cxttapend",position:{x:we[0],y:we[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(Ht),t.touchData.start=null):_e.emit(Ht)}}if(oe&&t.touchData.cxt){var Ht={originalEvent:ee,type:"cxtdrag",position:{x:we[0],y:we[1]}};t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(Ht):_e.emit(Ht),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var ot=t.findNearestElement(we[0],we[1],!0,!0);(!t.touchData.cxtOver||ot!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:ee,type:"cxtdragout",position:{x:we[0],y:we[1]}}),t.touchData.cxtOver=ot,ot&&ot.emit({originalEvent:ee,type:"cxtdragover",position:{x:we[0],y:we[1]}}))}else if(oe&&ee.touches[2]&&_e.boxSelectionEnabled())ee.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||_e.emit({originalEvent:ee,type:"boxstart",position:{x:we[0],y:we[1]}}),t.touchData.selecting=!0,t.touchData.didSelect=!0,ge[4]=1,!ge||ge.length===0||ge[0]===void 0?(ge[0]=(we[0]+we[2]+we[4])/3,ge[1]=(we[1]+we[3]+we[5])/3,ge[2]=(we[0]+we[2]+we[4])/3+1,ge[3]=(we[1]+we[3]+we[5])/3+1):(ge[2]=(we[0]+we[2]+we[4])/3,ge[3]=(we[1]+we[3]+we[5])/3),t.redrawHint("select",!0),t.redraw();else if(oe&&ee.touches[1]&&!t.touchData.didSelect&&_e.zoomingEnabled()&&_e.panningEnabled()&&_e.userZoomingEnabled()&&_e.userPanningEnabled()){ee.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var dt=t.dragData.touchDragEles;if(dt){t.redrawHint("drag",!0);for(var Bt=0;Bt<dt.length;Bt++){var nr=dt[Bt]._private;nr.grabbed=!1,nr.rscratch.inDragLayer=!1}}var Zt=t.touchData.start,Be=ee.touches[0].clientX-q,Qe=ee.touches[0].clientY-$,pt=ee.touches[1].clientX-q,at=ee.touches[1].clientY-$,Qt=j(Be,Qe,pt,at),Br=Qt/M;if(H){var Tn=Be-I,Mi=Qe-x,an=pt-P,Sn=at-L,qr=(Tn+an)/2,on=(Mi+Sn)/2,Vr=_e.zoom(),Wr=Vr*Br,Lr=_e.pan(),ui=U[0]*Vr+Lr.x,li=U[1]*Vr+Lr.y,Dn={x:-Wr/Vr*(ui-Lr.x-qr)+ui,y:-Wr/Vr*(li-Lr.y-on)+li};if(Zt&&Zt.active()){var dt=t.dragData.touchDragEles;g(dt),t.redrawHint("drag",!0),t.redrawHint("eles",!0),Zt.unactivate().emit("freeon"),dt.emit("free"),t.dragData.didDrag&&(Zt.emit("dragfreeon"),dt.emit("dragfree"))}_e.viewport({zoom:Wr,pan:Dn,cancelOnFailedZoom:!0}),_e.emit("pinchzoom"),M=Qt,I=Be,x=Qe,P=pt,L=at,t.pinching=!0}if(ee.touches[0]){var Re=t.projectIntoViewport(ee.touches[0].clientX,ee.touches[0].clientY);we[0]=Re[0],we[1]=Re[1]}if(ee.touches[1]){var Re=t.projectIntoViewport(ee.touches[1].clientX,ee.touches[1].clientY);we[2]=Re[0],we[3]=Re[1]}if(ee.touches[2]){var Re=t.projectIntoViewport(ee.touches[2].clientX,ee.touches[2].clientY);we[4]=Re[0],we[5]=Re[1]}}else if(ee.touches[0]&&!t.touchData.didSelect){var wr=t.touchData.start,fi=t.touchData.last,ot;if(!t.hoverData.draggingEles&&!t.swipePanning&&(ot=t.findNearestElement(we[0],we[1],!0,!0)),oe&&wr!=null&&ee.preventDefault(),oe&&wr!=null&&t.nodeIsDraggable(wr))if(Ee){var dt=t.dragData.touchDragEles,Un=!t.dragData.didDrag;Un&&d(dt,{inDragLayer:!0}),t.dragData.didDrag=!0;var gn={x:0,y:0};if(Xe(Se[0])&&Xe(Se[1])&&(gn.x+=Se[0],gn.y+=Se[1],Un)){t.redrawHint("eles",!0);var Mr=t.touchData.dragDelta;Mr&&Xe(Mr[0])&&Xe(Mr[1])&&(gn.x+=Mr[0],gn.y+=Mr[1])}t.hoverData.draggingEles=!0,dt.silentShift(gn).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==ze[0]&&t.touchData.startPosition[1]==ze[1]&&t.redrawHint("eles",!0),t.redraw()}else{var Mr=t.touchData.dragDelta=t.touchData.dragDelta||[];Mr.length===0?(Mr.push(Se[0]),Mr.push(Se[1])):(Mr[0]+=Se[0],Mr[1]+=Se[1])}if(r(wr||ot,["touchmove","tapdrag","vmousemove"],ee,{x:we[0],y:we[1]}),(!wr||!wr.grabbed())&&ot!=fi&&(fi&&fi.emit({originalEvent:ee,type:"tapdragout",position:{x:we[0],y:we[1]}}),ot&&ot.emit({originalEvent:ee,type:"tapdragover",position:{x:we[0],y:we[1]}})),t.touchData.last=ot,oe)for(var Bt=0;Bt<we.length;Bt++)we[Bt]&&t.touchData.startPosition[Bt]&&Ee&&(t.touchData.singleTouchMoved=!0);if(oe&&(wr==null||wr.pannable())&&_e.panningEnabled()&&_e.userPanningEnabled()){var Vn=i(wr,t.touchData.starts);Vn&&(ee.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=ya(t.touchData.startPosition)),t.swipePanning?(_e.panBy({x:Se[0]*Me,y:Se[1]*Me}),_e.emit("dragpan")):Ee&&(t.swipePanning=!0,_e.panBy({x:ke*Me,y:Ze*Me}),_e.emit("dragpan"),wr&&(wr.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var Re=t.projectIntoViewport(ee.touches[0].clientX,ee.touches[0].clientY);we[0]=Re[0],we[1]=Re[1]}}for(var Ne=0;Ne<we.length;Ne++)ze[Ne]=we[Ne];oe&&ee.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var ue;t.registerBinding(window,"touchcancel",ue=function(ee){var oe=t.touchData.start;t.touchData.capture=!1,oe&&oe.unactivate()});var se,de,be,z;if(t.registerBinding(window,"touchend",se=function(ee){var oe=t.touchData.start,ge=t.touchData.capture;if(ge)ee.touches.length===0&&(t.touchData.capture=!1),ee.preventDefault();else return;var _e=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var we=t.cy,ze=we.zoom(),Me=t.touchData.now,Re=t.touchData.earlier;if(ee.touches[0]){var Ce=t.projectIntoViewport(ee.touches[0].clientX,ee.touches[0].clientY);Me[0]=Ce[0],Me[1]=Ce[1]}if(ee.touches[1]){var Ce=t.projectIntoViewport(ee.touches[1].clientX,ee.touches[1].clientY);Me[2]=Ce[0],Me[3]=Ce[1]}if(ee.touches[2]){var Ce=t.projectIntoViewport(ee.touches[2].clientX,ee.touches[2].clientY);Me[4]=Ce[0],Me[5]=Ce[1]}oe&&oe.unactivate();var Ee;if(t.touchData.cxt){if(Ee={originalEvent:ee,type:"cxttapend",position:{x:Me[0],y:Me[1]}},oe?oe.emit(Ee):we.emit(Ee),!t.touchData.cxtDragged){var Se={originalEvent:ee,type:"cxttap",position:{x:Me[0],y:Me[1]}};oe?oe.emit(Se):we.emit(Se)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!ee.touches[2]&&we.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var Ne=we.collection(t.getAllInBox(_e[0],_e[1],_e[2],_e[3]));_e[0]=void 0,_e[1]=void 0,_e[2]=void 0,_e[3]=void 0,_e[4]=0,t.redrawHint("select",!0),we.emit({type:"boxend",originalEvent:ee,position:{x:Me[0],y:Me[1]}});var ke=function(_t){return _t.selectable()&&!_t.selected()};Ne.emit("box").stdFilter(ke).select().emit("boxselect"),Ne.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(oe!=null&&oe.unactivate(),ee.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!ee.touches[1]){if(!ee.touches[0]){if(!ee.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Fe=t.dragData.touchDragEles;if(oe!=null){var Ze=oe._private.grabbed;g(Fe),t.redrawHint("drag",!0),t.redrawHint("eles",!0),Ze&&(oe.emit("freeon"),Fe.emit("free"),t.dragData.didDrag&&(oe.emit("dragfreeon"),Fe.emit("dragfree"))),r(oe,["touchend","tapend","vmouseup","tapdragout"],ee,{x:Me[0],y:Me[1]}),oe.unactivate(),t.touchData.start=null}else{var Ye=t.findNearestElement(Me[0],Me[1],!0,!0);r(Ye,["touchend","tapend","vmouseup","tapdragout"],ee,{x:Me[0],y:Me[1]})}var Ge=t.touchData.startPosition[0]-Me[0],Be=Ge*Ge,Qe=t.touchData.startPosition[1]-Me[1],pt=Qe*Qe,at=Be+pt,yt=at*ze*ze;t.touchData.singleTouchMoved||(oe||we.$(":selected").unselect(["tapunselect"]),r(oe,["tap","vclick"],ee,{x:Me[0],y:Me[1]}),de=!1,ee.timeStamp-z<=we.multiClickDebounceTime()?(be&&clearTimeout(be),de=!0,z=null,r(oe,["dbltap","vdblclick"],ee,{x:Me[0],y:Me[1]})):(be=setTimeout(function(){de||r(oe,["onetap","voneclick"],ee,{x:Me[0],y:Me[1]})},we.multiClickDebounceTime()),z=ee.timeStamp)),oe!=null&&!t.dragData.didDrag&&oe._private.selectable&&yt<t.touchTapThreshold2&&!t.pinching&&(we.selectionType()==="single"?(we.$(e).unmerge(oe).unselect(["tapunselect"]),oe.select(["tapselect"])):oe.selected()?oe.unselect(["tapunselect"]):oe.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var Je=0;Je<Me.length;Je++)Re[Je]=Me[Je];t.dragData.didDrag=!1,ee.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=null,t.touchData.startGPosition=null,t.touchData.didSelect=!1),ee.touches.length<2&&(ee.touches.length===1&&(t.touchData.startGPosition=[ee.touches[0].clientX,ee.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent>"u"){var ae=[],Z=function(ee){return{clientX:ee.clientX,clientY:ee.clientY,force:1,identifier:ee.pointerId,pageX:ee.pageX,pageY:ee.pageY,radiusX:ee.width/2,radiusY:ee.height/2,screenX:ee.screenX,screenY:ee.screenY,target:ee.target}},W=function(ee){return{event:ee,touch:Z(ee)}},Y=function(ee){ae.push(W(ee))},ie=function(ee){for(var oe=0;oe<ae.length;oe++){var ge=ae[oe];if(ge.event.pointerId===ee.pointerId){ae.splice(oe,1);return}}},ve=function(ee){var oe=ae.filter(function(ge){return ge.event.pointerId===ee.pointerId})[0];oe.event=ee,oe.touch=Z(ee)},me=function(ee){ee.touches=ae.map(function(oe){return oe.touch})},fe=function(ee){return ee.pointerType==="mouse"||ee.pointerType===4};t.registerBinding(t.container,"pointerdown",function(le){fe(le)||(le.preventDefault(),Y(le),me(le),te(le))}),t.registerBinding(t.container,"pointerup",function(le){fe(le)||(ie(le),me(le),se(le))}),t.registerBinding(t.container,"pointercancel",function(le){fe(le)||(ie(le),me(le),ue(le))}),t.registerBinding(t.container,"pointermove",function(le){fe(le)||(le.preventDefault(),ve(le),me(le),re(le))})}};var ni={};ni.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(n,i,o,a,s){this.renderer.nodeShapeImpl("polygon",n,i,o,a,s,this.points)},intersectLine:function(n,i,o,a,s,u,l){return _o(s,u,this.points,n,i,o/2,a/2,l)},checkPoint:function(n,i,o,a,s,u,l){return ti(n,i,this.points,u,l,a,s,[0,-1],o)}}};ni.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,r,n,i,o){this.renderer.nodeShapeImpl(this.name,e,r,n,i,o)},intersectLine:function(e,r,n,i,o,a,s){return L2(o,a,e,r,n/2+s,i/2+s)},checkPoint:function(e,r,n,i,o,a,s){return $i(e,r,i,o,a,s,n)}}};ni.generateRoundPolygon=function(t,e){for(var r=new Array(e.length*2),n=0;n<e.length/2;n++){var i=n*2,o=void 0;n<e.length/2-1?o=(n+1)*2:o=0,r[n*4]=e[i],r[n*4+1]=e[i+1];var a=e[o]-e[i],s=e[o+1]-e[i+1],u=Math.sqrt(a*a+s*s);r[n*4+2]=a/u,r[n*4+3]=s/u}return this.nodeShapes[t]={renderer:this,name:t,points:r,draw:function(f,c,h,d,p){this.renderer.nodeShapeImpl("round-polygon",f,c,h,d,p,this.points)},intersectLine:function(f,c,h,d,p,g,w){return M2(p,g,this.points,f,c,h,d)},checkPoint:function(f,c,h,d,p,g,w){return A2(f,c,this.points,g,w,d,p)}}};ni.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Hr(4,0),draw:function(e,r,n,i,o){this.renderer.nodeShapeImpl(this.name,e,r,n,i,o)},intersectLine:function(e,r,n,i,o,a,s){return Ow(o,a,e,r,n,i,s)},checkPoint:function(e,r,n,i,o,a,s){var u=qo(i,o),l=u*2;return!!(ti(e,r,this.points,a,s,i,o-l,[0,-1],n)||ti(e,r,this.points,a,s,i-l,o,[0,-1],n)||$i(e,r,l,l,a-i/2+u,s-o/2+u,n)||$i(e,r,l,l,a+i/2-u,s-o/2+u,n)||$i(e,r,l,l,a+i/2-u,s+o/2-u,n)||$i(e,r,l,l,a-i/2+u,s+o/2-u,n))}}};ni.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:Rw(),points:Hr(4,0),draw:function(e,r,n,i,o){this.renderer.nodeShapeImpl(this.name,e,r,n,i,o)},generateCutTrianglePts:function(e,r,n,i){var o=this.cornerLength,a=r/2,s=e/2,u=n-s,l=n+s,f=i-a,c=i+a;return{topLeft:[u,f+o,u+o,f,u+o,f+o],topRight:[l-o,f,l,f+o,l-o,f+o],bottomRight:[l,c-o,l-o,c,l-o,c-o],bottomLeft:[u+o,c,u,c-o,u+o,c-o]}},intersectLine:function(e,r,n,i,o,a,s){var u=this.generateCutTrianglePts(n+2*s,i+2*s,e,r),l=[].concat.apply([],[u.topLeft.splice(0,4),u.topRight.splice(0,4),u.bottomRight.splice(0,4),u.bottomLeft.splice(0,4)]);return _o(o,a,l,e,r)},checkPoint:function(e,r,n,i,o,a,s){if(ti(e,r,this.points,a,s,i,o-2*this.cornerLength,[0,-1],n)||ti(e,r,this.points,a,s,i-2*this.cornerLength,o,[0,-1],n))return!0;var u=this.generateCutTrianglePts(i,o,a,s);return Kr(e,r,u.topLeft)||Kr(e,r,u.topRight)||Kr(e,r,u.bottomRight)||Kr(e,r,u.bottomLeft)}}};ni.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Hr(4,0),draw:function(e,r,n,i,o){this.renderer.nodeShapeImpl(this.name,e,r,n,i,o)},intersectLine:function(e,r,n,i,o,a,s){var u=.15,l=.5,f=.85,c=this.generateBarrelBezierPts(n+2*s,i+2*s,e,r),h=function(g){var w=Ea({x:g[0],y:g[1]},{x:g[2],y:g[3]},{x:g[4],y:g[5]},u),v=Ea({x:g[0],y:g[1]},{x:g[2],y:g[3]},{x:g[4],y:g[5]},l),m=Ea({x:g[0],y:g[1]},{x:g[2],y:g[3]},{x:g[4],y:g[5]},f);return[g[0],g[1],w.x,w.y,v.x,v.y,m.x,m.y,g[4],g[5]]},d=[].concat(h(c.topLeft),h(c.topRight),h(c.bottomRight),h(c.bottomLeft));return _o(o,a,d,e,r)},generateBarrelBezierPts:function(e,r,n,i){var o=r/2,a=e/2,s=n-a,u=n+a,l=i-o,f=i+o,c=Ld(e,r),h=c.heightOffset,d=c.widthOffset,p=c.ctrlPtOffsetPct*e,g={topLeft:[s,l+h,s+p,l,s+d,l],topRight:[u-d,l,u-p,l,u,l+h],bottomRight:[u,f-h,u-p,f,u-d,f],bottomLeft:[s+d,f,s+p,f,s,f-h]};return g.topLeft.isTop=!0,g.topRight.isTop=!0,g.bottomLeft.isBottom=!0,g.bottomRight.isBottom=!0,g},checkPoint:function(e,r,n,i,o,a,s){var u=Ld(i,o),l=u.heightOffset,f=u.widthOffset;if(ti(e,r,this.points,a,s,i,o-2*l,[0,-1],n)||ti(e,r,this.points,a,s,i-2*f,o,[0,-1],n))return!0;for(var c=this.generateBarrelBezierPts(i,o,a,s),h=function(b,k,S){var O=S[4],N=S[2],D=S[0],I=S[5],x=S[1],P=Math.min(O,D),L=Math.max(O,D),M=Math.min(I,x),R=Math.max(I,x);if(P<=b&&b<=L&&M<=k&&k<=R){var V=O2(O,N,D),U=T2(V[0],V[1],V[2],b),q=U.filter(function($){return 0<=$&&$<=1});if(q.length>0)return q[0]}return null},d=Object.keys(c),p=0;p<d.length;p++){var g=d[p],w=c[g],v=h(e,r,w);if(v!=null){var m=w[5],y=w[3],E=w[1],T=Er(m,y,E,v);if(w.isTop&&T<=r||w.isBottom&&r<=T)return!0}}return!1}}};ni.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Hr(4,0),draw:function(e,r,n,i,o){this.renderer.nodeShapeImpl(this.name,e,r,n,i,o)},intersectLine:function(e,r,n,i,o,a,s){var u=e-(n/2+s),l=r-(i/2+s),f=l,c=e+(n/2+s),h=yi(o,a,e,r,u,l,c,f,!1);return h.length>0?h:Ow(o,a,e,r,n,i,s)},checkPoint:function(e,r,n,i,o,a,s){var u=qo(i,o),l=2*u;if(ti(e,r,this.points,a,s,i,o-l,[0,-1],n)||ti(e,r,this.points,a,s,i-l,o,[0,-1],n))return!0;var f=i/2+2*n,c=o/2+2*n,h=[a-f,s-c,a-f,s,a+f,s,a+f,s-c];return!!(Kr(e,r,h)||$i(e,r,l,l,a+i/2-u,s+o/2-u,n)||$i(e,r,l,l,a-i/2+u,s+o/2-u,n))}}};ni.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",Hr(3,0)),this.generateRoundPolygon("round-triangle",Hr(3,0)),this.generatePolygon("rectangle",Hr(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",Hr(5,0)),this.generateRoundPolygon("round-pentagon",Hr(5,0)),this.generatePolygon("hexagon",Hr(6,0)),this.generateRoundPolygon("round-hexagon",Hr(6,0)),this.generatePolygon("heptagon",Hr(7,0)),this.generateRoundPolygon("round-heptagon",Hr(7,0)),this.generatePolygon("octagon",Hr(8,0)),this.generateRoundPolygon("round-octagon",Hr(8,0));var n=new Array(20);{var i=Ad(5,0),o=Ad(5,Math.PI/5),a=.5*(3-Math.sqrt(5));a*=1.57;for(var s=0;s<o.length/2;s++)o[s*2]*=a,o[s*2+1]*=a;for(var s=0;s<20/4;s++)n[s*4]=i[s*2],n[s*4+1]=i[s*2+1],n[s*4+2]=o[s*2],n[s*4+3]=o[s*2+1]}n=Pw(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var u=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",u),this.generateRoundPolygon("round-tag",u)}t.makePolygon=function(l){var f=l.join("$"),c="polygon-"+f,h;return(h=this[c])?h:e.generatePolygon(c,l)}};var Uo={};Uo.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};Uo.redraw=function(t){t=t||kw();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t};Uo.beforeRender=function(t,e){if(!this.destroyed){e==null&&hr("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:t,priority:e}),r.sort(function(n,i){return i.priority-n.priority})}};var ag=function(e,r,n){for(var i=e.beforeRenderCallbacks,o=0;o<i.length;o++)i[o].fn(r,n)};Uo.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var r=function n(i){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){ag(t,!0,i);var o=ei();t.render(t.renderOptions);var a=t.lastDrawTime=ei();t.averageRedrawTime===void 0&&(t.averageRedrawTime=a-o),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var s=a-o;t.redrawTotalTime+=s,t.lastRedrawTime=s,t.averageRedrawTime=t.averageRedrawTime/2+s/2,t.requestedFrame=!1}else ag(t,!1,i);t.skipFrame=!1,Ns(n)}};Ns(r)}};var nM=function(e){this.init(e)},CE=nM,qa=CE.prototype;qa.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];qa.init=function(t){var e=this;e.options=t,e.cy=t.cy;var r=e.container=t.cy.container();if(ar){var n=ar.document,i=n.head,o="__________cytoscape_stylesheet",a="__________cytoscape_container",s=n.getElementById(o)!=null;if(r.className.indexOf(a)<0&&(r.className=(r.className||"")+" "+a),!s){var u=n.createElement("style");u.id=o,u.textContent="."+a+" { position: relative; }",i.insertBefore(u,i.children[0])}var l=ar.getComputedStyle(r),f=l.getPropertyValue("position");f==="static"&&Wt("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=Xe(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};qa.notify=function(t,e){var r=this,n=r.cy;if(!this.destroyed){if(t==="init"){r.load();return}if(t==="destroy"){r.destroy();return}(t==="add"||t==="remove"||t==="move"&&n.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&r.invalidateCachedZSortedEles(),t==="viewport"&&r.redrawHint("select",!0),(t==="load"||t==="resize"||t==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};qa.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var r=t.bindings[e],n=r,i=n.target;(i.off||i.removeEventListener).apply(i,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}};qa.isHeadless=function(){return!1};[dv,xE,_E,Ba,ni,Uo].forEach(function(t){mt(qa,t)});var Yu=1e3/60,TE={setupDequeueing:function(e){return function(){var n=this,i=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var o=Qs.default(function(){i.redrawHint("eles",!0),i.redrawHint("drag",!0),i.redraw()},e.deqRedrawThreshold),a=function(l,f){var c=ei(),h=i.averageRedrawTime,d=i.lastRedrawTime,p=[],g=i.cy.extent(),w=i.getPixelRatio();for(l||i.flushRenderedStyleQueue();;){var v=ei(),m=v-c,y=v-f;if(d<Yu){var E=Yu-(l?h:0);if(y>=e.deqFastCost*E)break}else if(l){if(m>=e.deqCost*d||m>=e.deqAvgCost*h)break}else if(y>=e.deqNoDrawCost*Yu)break;var T=e.deq(n,w,g);if(T.length>0)for(var C=0;C<T.length;C++)p.push(T[C]);else break}p.length>0&&(e.onDeqd(n,p),!l&&e.shouldRedraw(n,p,w,g)&&o())},s=e.priority||tv;i.beforeRender(a,s(n))}}}},iM=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Is;Kd(this,t),this.idsByKey=new Pn,this.keyForId=new Pn,this.cachesByLvl=new Pn,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=r}return Zd(t,[{key:"getIdsFor",value:function(r){r==null&&hr("Can not get id list for null key");var n=this.idsByKey,i=this.idsByKey.get(r);return i||(i=new Pa,n.set(r,i)),i}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),i=this.keyForId.get(n),o=this.getKey(r);this.deleteIdForKey(i,n),this.addIdForKey(o,n),this.keyForId.set(n,o)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),i=this.keyForId.get(n);this.deleteIdForKey(i,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),i=this.keyForId.get(n),o=this.getKey(r);return i!==o}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,i=this.lvls,o=n.get(r);return o||(o=new Pn,n.set(r,o),i.push(r)),o}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var i=this.getKey(r),o=this.getCache(i,n);return o!=null&&this.updateKeyMappingFor(r),o}},{key:"getForCachedKey",value:function(r,n){var i=this.keyForId.get(r.id()),o=this.getCache(i,n);return o}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var i=this.getKey(r);return this.hasCache(i,n)}},{key:"setCache",value:function(r,n,i){i.key=r,this.getCachesAt(n).set(r,i)}},{key:"set",value:function(r,n,i){var o=this.getKey(r);this.setCache(o,n,i),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var i=this.getKey(r);this.deleteCache(i,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(i){return n.deleteCache(r,i)})}},{key:"invalidate",value:function(r){var n=r.id(),i=this.keyForId.get(n);this.deleteKeyMappingFor(r);var o=this.doesEleInvalidateKey(r);return o&&this.invalidateKey(i),o||this.getNumberOfIdsForKey(i)===0}}]),t}(),og=25,ms=50,Ls=-4,Fd=3,aM=7.99,oM=8,sM=1024,uM=1024,lM=1024,fM=.2,cM=.8,hM=10,dM=.15,vM=.1,pM=.9,gM=.9,mM=100,yM=1,ba={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},bM=kr({getKey:null,doesEleInvalidateKey:Is,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Tw,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),uo=function(e,r){var n=this;n.renderer=e,n.onDequeues=[];var i=bM(r);mt(n,i),n.lookup=new iM(i.getKey,i.doesEleInvalidateKey),n.setupDequeueing()},br=uo.prototype;br.reasons=ba;br.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]};br.getRetiredTextureQueue=function(t){var e=this,r=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=r[t]=r[t]||[];return n};br.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new Fo.default(function(r,n){return n.reqs-r.reqs});return e};br.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e};br.getElement=function(t,e,r,n,i){var o=this,a=this.renderer,s=a.cy.zoom(),u=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!o.allowEdgeTxrCaching&&t.isEdge()||!o.allowParentTxrCaching&&t.isParent())return null;if(n==null&&(n=Math.ceil(nv(s*r))),n<Ls)n=Ls;else if(s>=aM||n>Fd)return null;var l=Math.pow(2,n),f=e.h*l,c=e.w*l,h=a.eleTextBiggerThanMin(t,l);if(!this.isVisible(t,h))return null;var d=u.get(t,n);if(d&&d.invalidated&&(d.invalidated=!1,d.texture.invalidatedWidth-=d.width),d)return d;var p;if(f<=og?p=og:f<=ms?p=ms:p=Math.ceil(f/ms)*ms,f>lM||c>uM)return null;var g=o.getTextureQueue(p),w=g[g.length-2],v=function(){return o.recycleTexture(p,c)||o.addTexture(p,c)};w||(w=g[g.length-1]),w||(w=v()),w.width-w.usedWidth<c&&(w=v());for(var m=function(L){return L&&L.scaledLabelShown===h},y=i&&i===ba.dequeue,E=i&&i===ba.highQuality,T=i&&i===ba.downscale,C,b=n+1;b<=Fd;b++){var k=u.get(t,b);if(k){C=k;break}}var S=C&&C.level===n+1?C:null,O=function(){w.context.drawImage(S.texture.canvas,S.x,0,S.width,S.height,w.usedWidth,0,c,f)};if(w.context.setTransform(1,0,0,1,0,0),w.context.clearRect(w.usedWidth,0,c,p),m(S))O();else if(m(C))if(E){for(var N=C.level;N>n;N--)S=o.getElement(t,e,r,N,ba.downscale);O()}else return o.queueElement(t,C.level-1),C;else{var D;if(!y&&!E&&!T)for(var I=n-1;I>=Ls;I--){var x=u.get(t,I);if(x){D=x;break}}if(m(D))return o.queueElement(t,n),D;w.context.translate(w.usedWidth,0),w.context.scale(l,l),this.drawElement(w.context,t,e,h,!1),w.context.scale(1/l,1/l),w.context.translate(-w.usedWidth,0)}return d={x:w.usedWidth,texture:w,level:n,scale:l,width:c,height:f,scaledLabelShown:h},w.usedWidth+=Math.ceil(c+oM),w.eleCaches.push(d),u.set(t,n,d),o.checkTextureFullness(w),d};br.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])};br.invalidateElement=function(t){var e=this,r=e.lookup,n=[],i=r.isInvalid(t);if(i){for(var o=Ls;o<=Fd;o++){var a=r.getForCachedKey(t,o);a&&n.push(a)}var s=r.invalidate(t);if(s)for(var u=0;u<n.length;u++){var l=n[u],f=l.texture;f.invalidatedWidth+=l.width,l.invalidated=!0,e.checkTextureUtility(f)}e.removeFromQueue(t)}};br.checkTextureUtility=function(t){t.invalidatedWidth>=fM*t.width&&this.retireTexture(t)};br.checkTextureFullness=function(t){var e=this,r=e.getTextureQueue(t.height);t.usedWidth/t.width>cM&&t.fullnessChecks>=hM?_i(r,t):t.fullnessChecks++};br.retireTexture=function(t){var e=this,r=t.height,n=e.getTextureQueue(r),i=this.lookup;_i(n,t),t.retired=!0;for(var o=t.eleCaches,a=0;a<o.length;a++){var s=o[a];i.deleteCache(s.key,s.level)}rv(o);var u=e.getRetiredTextureQueue(r);u.push(t)};br.addTexture=function(t,e){var r=this,n=r.getTextureQueue(t),i={};return n.push(i),i.eleCaches=[],i.height=t,i.width=Math.max(sM,e),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=r.renderer.makeOffscreenCanvas(i.width,i.height),i.context=i.canvas.getContext("2d"),i};br.recycleTexture=function(t,e){for(var r=this,n=r.getTextureQueue(t),i=r.getRetiredTextureQueue(t),o=0;o<i.length;o++){var a=i[o];if(a.width>=e)return a.retired=!1,a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,rv(a.eleCaches),a.context.setTransform(1,0,0,1,0,0),a.context.clearRect(0,0,a.width,a.height),_i(i,a),n.push(a),a}};br.queueElement=function(t,e){var r=this,n=r.getElementQueue(),i=r.getElementKeyToQueue(),o=this.getKey(t),a=i[o];if(a)a.level=Math.max(a.level,e),a.eles.merge(t),a.reqs++,n.updateItem(a);else{var s={eles:t.spawn().merge(t),level:e,reqs:1,key:o};n.push(s),i[o]=s}};br.dequeue=function(t){for(var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),i=[],o=e.lookup,a=0;a<yM&&r.size()>0;a++){var s=r.pop(),u=s.key,l=s.eles[0],f=o.hasCache(l,s.level);if(n[u]=null,f)continue;i.push(s);var c=e.getBoundingBox(l);e.getElement(l,c,t,s.level,ba.dequeue)}return i};br.removeFromQueue=function(t){var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),i=this.getKey(t),o=n[i];o!=null&&(o.eles.length===1?(o.reqs=ev,r.updateItem(o),r.pop(),n[i]=null):o.eles.unmerge(t))};br.onDequeue=function(t){this.onDequeues.push(t)};br.offDequeue=function(t){_i(this.onDequeues,t)};br.setupDequeueing=TE.setupDequeueing({deqRedrawThreshold:mM,deqCost:dM,deqAvgCost:vM,deqNoDrawCost:pM,deqFastCost:gM,deq:function(e,r,n){return e.dequeue(r,n)},onDeqd:function(e,r){for(var n=0;n<e.onDequeues.length;n++){var i=e.onDequeues[n];i(r)}},shouldRedraw:function(e,r,n,i){for(var o=0;o<r.length;o++)for(var a=r[o].eles,s=0;s<a.length;s++){var u=a[s].boundingBox();if(iv(u,i))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var wM=1,go=-4,qs=2,EM=3.99,xM=50,_M=50,CM=.15,TM=.1,SM=.9,DM=.9,kM=1,sg=250,AM=4e3*4e3,LM=!0,SE=function(e){var r=this,n=r.renderer=e,i=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=ei()-2*sg,r.skipping=!1,r.eleTxrDeqs=i.collection(),r.scheduleElementRefinement=Qs.default(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},_M),n.beforeRender(function(a,s){s-r.lastInvalidationTime<=sg?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var o=function(s,u){return u.reqs-s.reqs};r.layersQueue=new Fo.default(o),r.setupDequeueing()},Ar=SE.prototype,ug=0,MM=Math.pow(2,53)-1;Ar.makeLayer=function(t,e){var r=Math.pow(2,e),n=Math.ceil(t.w*r),i=Math.ceil(t.h*r),o=this.renderer.makeOffscreenCanvas(n,i),a={id:ug=++ug%MM,bb:t,level:e,width:n,height:i,canvas:o,context:o.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=a.context,u=-a.bb.x1,l=-a.bb.y1;return s.scale(r,r),s.translate(u,l),a};Ar.getLayers=function(t,e,r){var n=this,i=n.renderer,o=i.cy,a=o.zoom(),s=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(nv(a*e)),r<go)r=go;else if(a>=EM||r>qs)return null}n.validateLayersElesOrdering(r,t);var u=n.layersByLevel,l=Math.pow(2,r),f=u[r]=u[r]||[],c,h=n.levelIsComplete(r,t),d,p=function(){var O=function(P){if(n.validateLayersElesOrdering(P,t),n.levelIsComplete(P,t))return d=u[P],!0},N=function(P){if(!d)for(var L=r+P;go<=L&&L<=qs&&!O(L);L+=P);};N(1),N(-1);for(var D=f.length-1;D>=0;D--){var I=f[D];I.invalid&&_i(f,I)}};if(!h)p();else return f;var g=function(){if(!c){c=en();for(var O=0;O<t.length;O++)w2(c,t[O].boundingBox())}return c},w=function(O){O=O||{};var N=O.after;g();var D=c.w*l*(c.h*l);if(D>AM)return null;var I=n.makeLayer(c,r);if(N!=null){var x=f.indexOf(N)+1;f.splice(x,0,I)}else(O.insert===void 0||O.insert)&&f.unshift(I);return I};if(n.skipping&&!s)return null;for(var v=null,m=t.length/wM,y=!s,E=0;E<t.length;E++){var T=t[E],C=T._private.rscratch,b=C.imgLayerCaches=C.imgLayerCaches||{},k=b[r];if(k){v=k;continue}if((!v||v.eles.length>=m||!Mw(v.bb,T.boundingBox()))&&(v=w({insert:!0,after:v}),!v))return null;d||y?n.queueLayer(v,T):n.drawEleInLayer(v,T,r,e),v.eles.push(T),b[r]=v}return d||(y?null:f)};Ar.getEleLevelForLayerLevel=function(t,e){return t};Ar.drawEleInLayer=function(t,e,r,n){var i=this,o=this.renderer,a=t.context,s=e.boundingBox();s.w===0||s.h===0||!e.visible()||(r=i.getEleLevelForLayerLevel(r,n),o.setImgSmoothing(a,!1),o.drawCachedElement(a,e,null,null,r,LM),o.setImgSmoothing(a,!0))};Ar.levelIsComplete=function(t,e){var r=this,n=r.layersByLevel[t];if(!n||n.length===0)return!1;for(var i=0,o=0;o<n.length;o++){var a=n[o];if(a.reqs>0||a.invalid)return!1;i+=a.eles.length}return i===e.length};Ar.validateLayersElesOrdering=function(t,e){var r=this.layersByLevel[t];if(r)for(var n=0;n<r.length;n++){for(var i=r[n],o=-1,a=0;a<e.length;a++)if(i.eles[0]===e[a]){o=a;break}if(o<0){this.invalidateLayer(i);continue}for(var s=o,a=0;a<i.eles.length;a++)if(i.eles[a]!==e[s+a]){this.invalidateLayer(i);break}}};Ar.updateElementsInLayers=function(t,e){for(var r=this,n=Bo(t[0]),i=0;i<t.length;i++)for(var o=n?null:t[i],a=n?t[i]:t[i].ele,s=a._private.rscratch,u=s.imgLayerCaches=s.imgLayerCaches||{},l=go;l<=qs;l++){var f=u[l];f&&(o&&r.getEleLevelForLayerLevel(f.level)!==o.level||e(f,a,o))}};Ar.haveLayers=function(){for(var t=this,e=!1,r=go;r<=qs;r++){var n=t.layersByLevel[r];if(n&&n.length>0){e=!0;break}}return e};Ar.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=ei(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(n,i,o){e.invalidateLayer(n)}))};Ar.invalidateLayer=function(t){if(this.lastInvalidationTime=ei(),!t.invalid){var e=t.level,r=t.eles,n=this.layersByLevel[e];_i(n,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var i=0;i<r.length;i++){var o=r[i]._private.rscratch.imgLayerCaches;o&&(o[e]=null)}}};Ar.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(n,i,o){var a=n.replacement;if(a||(a=n.replacement=e.makeLayer(n.bb,n.level),a.replaces=n,a.eles=n.eles),!a.reqs)for(var s=0;s<a.eles.length;s++)e.queueLayer(a,a.eles[s])})};Ar.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()};Ar.queueLayer=function(t,e){var r=this,n=r.layersQueue,i=t.elesQueue,o=i.hasId=i.hasId||{};if(!t.replacement){if(e){if(o[e.id()])return;i.push(e),o[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}};Ar.dequeue=function(t){for(var e=this,r=e.layersQueue,n=[],i=0;i<kM&&r.size()!==0;){var o=r.peek();if(o.replacement){r.pop();continue}if(o.replaces&&o!==o.replaces.replacement){r.pop();continue}if(o.invalid){r.pop();continue}var a=o.elesQueue.shift();a&&(e.drawEleInLayer(o,a,o.level,t),i++),n.length===0&&n.push(!0),o.elesQueue.length===0&&(r.pop(),o.reqs=0,o.replaces&&e.applyLayerReplacement(o),e.requestRedraw())}return n};Ar.applyLayerReplacement=function(t){var e=this,r=e.layersByLevel[t.level],n=t.replaces,i=r.indexOf(n);if(!(i<0||n.invalid)){r[i]=t;for(var o=0;o<t.eles.length;o++){var a=t.eles[o]._private,s=a.imgLayerCaches=a.imgLayerCaches||{};s&&(s[t.level]=t)}e.requestRedraw()}};Ar.requestRedraw=Qs.default(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100);Ar.setupDequeueing=TE.setupDequeueing({deqRedrawThreshold:xM,deqCost:CM,deqAvgCost:TM,deqNoDrawCost:SM,deqFastCost:DM,deq:function(e,r){return e.dequeue(r)},onDeqd:tv,shouldRedraw:Tw,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var DE={},lg;function OM(t,e){for(var r=0;r<e.length;r++){var n=e[r];t.lineTo(n.x,n.y)}}function NM(t,e,r){for(var n,i=0;i<e.length;i++){var o=e[i];i===0&&(n=o),t.lineTo(o.x,o.y)}t.quadraticCurveTo(r.x,r.y,n.x,n.y)}function fg(t,e,r){t.beginPath&&t.beginPath();for(var n=e,i=0;i<n.length;i++){var o=n[i];t.lineTo(o.x,o.y)}var a=r,s=r[0];t.moveTo(s.x,s.y);for(var i=1;i<a.length;i++){var o=a[i];t.lineTo(o.x,o.y)}t.closePath&&t.closePath()}function IM(t,e,r,n,i){t.beginPath&&t.beginPath(),t.arc(r,n,i,0,Math.PI*2,!1);var o=e,a=o[0];t.moveTo(a.x,a.y);for(var s=0;s<o.length;s++){var u=o[s];t.lineTo(u.x,u.y)}t.closePath&&t.closePath()}function PM(t,e,r,n){t.arc(e,r,n,0,Math.PI*2,!1)}DE.arrowShapeImpl=function(t){return(lg||(lg={polygon:OM,"triangle-backcurve":NM,"triangle-tee":fg,"circle-triangle":IM,"triangle-cross":fg,circle:PM}))[t]};var Hn={};Hn.drawElement=function(t,e,r,n,i,o){var a=this;e.isNode()?a.drawNode(t,e,r,n,i,o):a.drawEdge(t,e,r,n,i,o)};Hn.drawElementOverlay=function(t,e){var r=this;e.isNode()?r.drawNodeOverlay(t,e):r.drawEdgeOverlay(t,e)};Hn.drawElementUnderlay=function(t,e){var r=this;e.isNode()?r.drawNodeUnderlay(t,e):r.drawEdgeUnderlay(t,e)};Hn.drawCachedElementPortion=function(t,e,r,n,i,o,a,s){var u=this,l=r.getBoundingBox(e);if(!(l.w===0||l.h===0)){var f=r.getElement(e,l,n,i,o);if(f!=null){var c=s(u,e);if(c===0)return;var h=a(u,e),d=l.x1,p=l.y1,g=l.w,w=l.h,v,m,y,E,T;if(h!==0){var C=r.getRotationPoint(e);y=C.x,E=C.y,t.translate(y,E),t.rotate(h),T=u.getImgSmoothing(t),T||u.setImgSmoothing(t,!0);var b=r.getRotationOffset(e);v=b.x,m=b.y}else v=d,m=p;var k;c!==1&&(k=t.globalAlpha,t.globalAlpha=k*c),t.drawImage(f.texture.canvas,f.x,0,f.width,f.height,v,m,g,w),c!==1&&(t.globalAlpha=k),h!==0&&(t.rotate(-h),t.translate(-y,-E),T||u.setImgSmoothing(t,!1))}else r.drawElement(t,e)}};var RM=function(){return 0},FM=function(e,r){return e.getTextAngle(r,null)},zM=function(e,r){return e.getTextAngle(r,"source")},BM=function(e,r){return e.getTextAngle(r,"target")},qM=function(e,r){return r.effectiveOpacity()},Xu=function(e,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};Hn.drawCachedElement=function(t,e,r,n,i,o){var a=this,s=a.data,u=s.eleTxrCache,l=s.lblTxrCache,f=s.slbTxrCache,c=s.tlbTxrCache,h=e.boundingBox(),d=o===!0?u.reasons.highQuality:null;if(!(h.w===0||h.h===0||!e.visible())&&(!n||iv(h,n))){var p=e.isEdge(),g=e.element()._private.rscratch.badLine;a.drawElementUnderlay(t,e),a.drawCachedElementPortion(t,e,u,r,i,d,RM,qM),(!p||!g)&&a.drawCachedElementPortion(t,e,l,r,i,d,FM,Xu),p&&!g&&(a.drawCachedElementPortion(t,e,f,r,i,d,zM,Xu),a.drawCachedElementPortion(t,e,c,r,i,d,BM,Xu)),a.drawElementOverlay(t,e)}};Hn.drawElements=function(t,e){for(var r=this,n=0;n<e.length;n++){var i=e[n];r.drawElement(t,i)}};Hn.drawCachedElements=function(t,e,r,n){for(var i=this,o=0;o<e.length;o++){var a=e[o];i.drawCachedElement(t,a,r,n)}};Hn.drawCachedNodes=function(t,e,r,n){for(var i=this,o=0;o<e.length;o++){var a=e[o];a.isNode()&&i.drawCachedElement(t,a,r,n)}};Hn.drawLayeredElements=function(t,e,r,n){var i=this,o=i.data.lyrTxrCache.getLayers(e,r);if(o)for(var a=0;a<o.length;a++){var s=o[a],u=s.bb;u.w===0||u.h===0||t.drawImage(s.canvas,u.x1,u.y1,u.w,u.h)}else i.drawCachedElements(t,e,r,n)};var ii={};ii.drawEdge=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,a=this,s=e._private.rscratch;if(!(o&&!e.visible())&&!(s.badLine||s.allpts==null||isNaN(s.allpts[0]))){var u;r&&(u=r,t.translate(-u.x1,-u.y1));var l=o?e.pstyle("opacity").value:1,f=o?e.pstyle("line-opacity").value:1,c=e.pstyle("curve-style").value,h=e.pstyle("line-style").value,d=e.pstyle("width").pfValue,p=e.pstyle("line-cap").value,g=l*f,w=l*f,v=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g;c==="straight-triangle"?(a.eleStrokeStyle(t,e,D),a.drawEdgeTrianglePath(e,t,s.allpts)):(t.lineWidth=d,t.lineCap=p,a.eleStrokeStyle(t,e,D),a.drawEdgePath(e,t,s.allpts,h),t.lineCap="butt")},m=function(){i&&a.drawEdgeOverlay(t,e)},y=function(){i&&a.drawEdgeUnderlay(t,e)},E=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w;a.drawArrowheads(t,e,D)},T=function(){a.drawElementText(t,e,null,n)};t.lineJoin="round";var C=e.pstyle("ghost").value==="yes";if(C){var b=e.pstyle("ghost-offset-x").pfValue,k=e.pstyle("ghost-offset-y").pfValue,S=e.pstyle("ghost-opacity").value,O=g*S;t.translate(b,k),v(O),E(O),t.translate(-b,-k)}y(),v(),E(),m(),T(),r&&t.translate(u.x1,u.y1)}};var kE=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n){if(n.visible()){var i=n.pstyle("".concat(e,"-opacity")).value;if(i!==0){var o=this,a=o.usePaths(),s=n._private.rscratch,u=n.pstyle("".concat(e,"-padding")).pfValue,l=2*u,f=n.pstyle("".concat(e,"-color")).value;r.lineWidth=l,s.edgeType==="self"&&!a?r.lineCap="butt":r.lineCap="round",o.colorStrokeStyle(r,f[0],f[1],f[2],i),o.drawEdgePath(n,r,s.allpts,"solid")}}}};ii.drawEdgeOverlay=kE("overlay");ii.drawEdgeUnderlay=kE("underlay");ii.drawEdgePath=function(t,e,r,n){var i=t._private.rscratch,o=e,a,s=!1,u=this.usePaths(),l=t.pstyle("line-dash-pattern").pfValue,f=t.pstyle("line-dash-offset").pfValue;if(u){var c=r.join("$"),h=i.pathCacheKey&&i.pathCacheKey===c;h?(a=e=i.pathCache,s=!0):(a=e=new Path2D,i.pathCacheKey=c,i.pathCache=a)}if(o.setLineDash)switch(n){case"dotted":o.setLineDash([1,1]);break;case"dashed":o.setLineDash(l),o.lineDashOffset=f;break;case"solid":o.setLineDash([]);break}if(!s&&!i.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(r[0],r[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var d=2;d+3<r.length;d+=4)e.quadraticCurveTo(r[d],r[d+1],r[d+2],r[d+3]);break;case"straight":case"segments":case"haystack":for(var p=2;p+1<r.length;p+=2)e.lineTo(r[p],r[p+1]);break}e=o,u?e.stroke(a):e.stroke(),e.setLineDash&&e.setLineDash([])};ii.drawEdgeTrianglePath=function(t,e,r){e.fillStyle=e.strokeStyle;for(var n=t.pstyle("width").pfValue,i=0;i+1<r.length;i+=2){var o=[r[i+2]-r[i],r[i+3]-r[i+1]],a=Math.sqrt(o[0]*o[0]+o[1]*o[1]),s=[o[1]/a,-o[0]/a],u=[s[0]*n/2,s[1]*n/2];e.beginPath(),e.moveTo(r[i]-u[0],r[i+1]-u[1]),e.lineTo(r[i]+u[0],r[i+1]+u[1]),e.lineTo(r[i+2],r[i+3]),e.closePath(),e.fill()}};ii.drawArrowheads=function(t,e,r){var n=e._private.rscratch,i=n.edgeType==="haystack";i||this.drawArrowhead(t,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(t,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(t,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),i||this.drawArrowhead(t,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)};ii.drawArrowhead=function(t,e,r,n,i,o,a){if(!(isNaN(n)||n==null||isNaN(i)||i==null||isNaN(o)||o==null)){var s=this,u=e.pstyle(r+"-arrow-shape").value;if(u!=="none"){var l=e.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",f=e.pstyle(r+"-arrow-fill").value,c=e.pstyle("width").pfValue,h=e.pstyle("opacity").value;a===void 0&&(a=h);var d=t.globalCompositeOperation;(a!==1||f==="hollow")&&(t.globalCompositeOperation="destination-out",s.colorFillStyle(t,255,255,255,1),s.colorStrokeStyle(t,255,255,255,1),s.drawArrowShape(e,t,l,c,u,n,i,o),t.globalCompositeOperation=d);var p=e.pstyle(r+"-arrow-color").value;s.colorFillStyle(t,p[0],p[1],p[2],a),s.colorStrokeStyle(t,p[0],p[1],p[2],a),s.drawArrowShape(e,t,f,c,u,n,i,o)}}};ii.drawArrowShape=function(t,e,r,n,i,o,a,s){var u=this,l=this.usePaths()&&i!=="triangle-cross",f=!1,c,h=e,d={x:o,y:a},p=t.pstyle("arrow-scale").value,g=this.getArrowWidth(n,p),w=u.arrowShapes[i];if(l){var v=u.arrowPathCache=u.arrowPathCache||[],m=Ui(i),y=v[m];y!=null?(c=e=y,f=!0):(c=e=new Path2D,v[m]=c)}f||(e.beginPath&&e.beginPath(),l?w.draw(e,1,0,{x:0,y:0},1):w.draw(e,g,s,d,n),e.closePath&&e.closePath()),e=h,l&&(e.translate(o,a),e.rotate(s),e.scale(g,g)),(r==="filled"||r==="both")&&(l?e.fill(c):e.fill()),(r==="hollow"||r==="both")&&(e.lineWidth=(w.matchEdgeWidth?n:1)/(l?g:1),e.lineJoin="miter",l?e.stroke(c):e.stroke()),l&&(e.scale(1/g,1/g),e.rotate(-s),e.translate(-o,-a))};var pv={};pv.safeDrawImage=function(t,e,r,n,i,o,a,s,u,l){if(!(i<=0||o<=0||u<=0||l<=0))try{t.drawImage(e,r,n,i,o,a,s,u,l)}catch(f){Wt(f)}};pv.drawInscribedImage=function(t,e,r,n,i){var o=this,a=r.position(),s=a.x,u=a.y,l=r.cy().style(),f=l.getIndexedStyle.bind(l),c=f(r,"background-fit","value",n),h=f(r,"background-repeat","value",n),d=r.width(),p=r.height(),g=r.padding()*2,w=d+(f(r,"background-width-relative-to","value",n)==="inner"?0:g),v=p+(f(r,"background-height-relative-to","value",n)==="inner"?0:g),m=r._private.rscratch,y=f(r,"background-clip","value",n),E=y==="node",T=f(r,"background-image-opacity","value",n)*i,C=f(r,"background-image-smoothing","value",n),b=e.width||e.cachedW,k=e.height||e.cachedH;(b==null||k==null)&&(document.body.appendChild(e),b=e.cachedW=e.width||e.offsetWidth,k=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var S=b,O=k;if(f(r,"background-width","value",n)!=="auto"&&(f(r,"background-width","units",n)==="%"?S=f(r,"background-width","pfValue",n)*w:S=f(r,"background-width","pfValue",n)),f(r,"background-height","value",n)!=="auto"&&(f(r,"background-height","units",n)==="%"?O=f(r,"background-height","pfValue",n)*v:O=f(r,"background-height","pfValue",n)),!(S===0||O===0)){if(c==="contain"){var N=Math.min(w/S,v/O);S*=N,O*=N}else if(c==="cover"){var N=Math.max(w/S,v/O);S*=N,O*=N}var D=s-w/2,I=f(r,"background-position-x","units",n),x=f(r,"background-position-x","pfValue",n);I==="%"?D+=(w-S)*x:D+=x;var P=f(r,"background-offset-x","units",n),L=f(r,"background-offset-x","pfValue",n);P==="%"?D+=(w-S)*L:D+=L;var M=u-v/2,R=f(r,"background-position-y","units",n),V=f(r,"background-position-y","pfValue",n);R==="%"?M+=(v-O)*V:M+=V;var U=f(r,"background-offset-y","units",n),q=f(r,"background-offset-y","pfValue",n);U==="%"?M+=(v-O)*q:M+=q,m.pathCache&&(D-=s,M-=u,s=0,u=0);var $=t.globalAlpha;t.globalAlpha=T;var X=o.getImgSmoothing(t),B=!1;if(C==="no"&&X?(o.setImgSmoothing(t,!1),B=!0):C==="yes"&&!X&&(o.setImgSmoothing(t,!0),B=!0),h==="no-repeat")E&&(t.save(),m.pathCache?t.clip(m.pathCache):(o.nodeShapes[o.getNodeShape(r)].draw(t,s,u,w,v),t.clip())),o.safeDrawImage(t,e,0,0,b,k,D,M,S,O),E&&t.restore();else{var H=t.createPattern(e,h);t.fillStyle=H,o.nodeShapes[o.getNodeShape(r)].draw(t,s,u,w,v),t.translate(D,M),t.fill(),t.translate(-D,-M)}t.globalAlpha=$,B&&o.setImgSmoothing(t,X)}};var ea={};ea.eleTextBiggerThanMin=function(t,e){if(!e){var r=t.cy().zoom(),n=this.getPixelRatio(),i=Math.ceil(nv(r*n));e=Math.pow(2,i)}var o=t.pstyle("font-size").pfValue*e,a=t.pstyle("min-zoomed-font-size").pfValue;return!(o<a)};ea.drawElementText=function(t,e,r,n,i){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,a=this;if(n==null){if(o&&!a.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var s=e.pstyle("label");if(!s||!s.value)return;var u=a.getLabelJustification(e);t.textAlign=u,t.textBaseline="bottom"}else{var l=e.element()._private.rscratch.badLine,f=e.pstyle("label"),c=e.pstyle("source-label"),h=e.pstyle("target-label");if(l||(!f||!f.value)&&(!c||!c.value)&&(!h||!h.value))return;t.textAlign="center",t.textBaseline="bottom"}var d=!r,p;r&&(p=r,t.translate(-p.x1,-p.y1)),i==null?(a.drawText(t,e,null,d,o),e.isEdge()&&(a.drawText(t,e,"source",d,o),a.drawText(t,e,"target",d,o))):a.drawText(t,e,i,d,o),r&&t.translate(p.x1,p.y1)};ea.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(e=this.fontCaches[r],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e};ea.setupTextStyle=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.pstyle("font-style").strValue,i=e.pstyle("font-size").pfValue+"px",o=e.pstyle("font-family").strValue,a=e.pstyle("font-weight").strValue,s=r?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,u=e.pstyle("text-outline-opacity").value*s,l=e.pstyle("color").value,f=e.pstyle("text-outline-color").value;t.font=n+" "+a+" "+i+" "+o,t.lineJoin="round",this.colorFillStyle(t,l[0],l[1],l[2],s),this.colorStrokeStyle(t,f[0],f[1],f[2],u)};function $M(t,e,r,n,i){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5;t.beginPath(),t.moveTo(e+o,r),t.lineTo(e+n-o,r),t.quadraticCurveTo(e+n,r,e+n,r+o),t.lineTo(e+n,r+i-o),t.quadraticCurveTo(e+n,r+i,e+n-o,r+i),t.lineTo(e+o,r+i),t.quadraticCurveTo(e,r+i,e,r+i-o),t.lineTo(e,r+o),t.quadraticCurveTo(e,r,e+o,r),t.closePath(),t.fill()}ea.getTextAngle=function(t,e){var r,n=t._private,i=n.rscratch,o=e?e+"-":"",a=t.pstyle(o+"text-rotation"),s=wn(i,"labelAngle",e);return a.strValue==="autorotate"?r=t.isEdge()?s:0:a.strValue==="none"?r=0:r=a.pfValue,r};ea.drawText=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=e._private,a=o.rscratch,s=i?e.effectiveOpacity():1;if(!(i&&(s===0||e.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var u=wn(a,"labelX",r),l=wn(a,"labelY",r),f,c,h=this.getLabelText(e,r);if(h!=null&&h!==""&&!isNaN(u)&&!isNaN(l)){this.setupTextStyle(t,e,i);var d=r?r+"-":"",p=wn(a,"labelWidth",r),g=wn(a,"labelHeight",r),w=e.pstyle(d+"text-margin-x").pfValue,v=e.pstyle(d+"text-margin-y").pfValue,m=e.isEdge(),y=e.pstyle("text-halign").value,E=e.pstyle("text-valign").value;m&&(y="center",E="center"),u+=w,l+=v;var T;switch(n?T=this.getTextAngle(e,r):T=0,T!==0&&(f=u,c=l,t.translate(f,c),t.rotate(T),u=0,l=0),E){case"top":break;case"center":l+=g/2;break;case"bottom":l+=g;break}var C=e.pstyle("text-background-opacity").value,b=e.pstyle("text-border-opacity").value,k=e.pstyle("text-border-width").pfValue,S=e.pstyle("text-background-padding").pfValue;if(C>0||k>0&&b>0){var O=u-S;switch(y){case"left":O-=p;break;case"center":O-=p/2;break}var N=l-g-S,D=p+2*S,I=g+2*S;if(C>0){var x=t.fillStyle,P=e.pstyle("text-background-color").value;t.fillStyle="rgba("+P[0]+","+P[1]+","+P[2]+","+C*s+")";var L=e.pstyle("text-background-shape").strValue;L.indexOf("round")===0?$M(t,O,N,D,I,2):t.fillRect(O,N,D,I),t.fillStyle=x}if(k>0&&b>0){var M=t.strokeStyle,R=t.lineWidth,V=e.pstyle("text-border-color").value,U=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+V[0]+","+V[1]+","+V[2]+","+b*s+")",t.lineWidth=k,t.setLineDash)switch(U){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=k/4,t.setLineDash([]);break;case"solid":t.setLineDash([]);break}if(t.strokeRect(O,N,D,I),U==="double"){var q=k/2;t.strokeRect(O+q,N+q,D-q*2,I-q*2)}t.setLineDash&&t.setLineDash([]),t.lineWidth=R,t.strokeStyle=M}}var $=2*e.pstyle("text-outline-width").pfValue;if($>0&&(t.lineWidth=$),e.pstyle("text-wrap").value==="wrap"){var X=wn(a,"labelWrapCachedLines",r),B=wn(a,"labelLineHeight",r),H=p/2,j=this.getLabelJustification(e);switch(j==="auto"||(y==="left"?j==="left"?u+=-p:j==="center"&&(u+=-H):y==="center"?j==="left"?u+=-H:j==="right"&&(u+=H):y==="right"&&(j==="center"?u+=H:j==="right"&&(u+=p))),E){case"top":l-=(X.length-1)*B;break;case"center":case"bottom":l-=(X.length-1)*B;break}for(var K=0;K<X.length;K++)$>0&&t.strokeText(X[K],u,l),t.fillText(X[K],u,l),l+=B}else $>0&&t.strokeText(h,u,l),t.fillText(h,u,l);T!==0&&(t.rotate(-T),t.translate(-f,-c))}}};var $a={};$a.drawNode=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,a=this,s,u,l=e._private,f=l.rscratch,c=e.position();if(!(!Xe(c.x)||!Xe(c.y))&&!(o&&!e.visible())){var h=o?e.effectiveOpacity():1,d=a.usePaths(),p,g=!1,w=e.padding();s=e.width()+2*w,u=e.height()+2*w;var v;r&&(v=r,t.translate(-v.x1,-v.y1));for(var m=e.pstyle("background-image"),y=m.value,E=new Array(y.length),T=new Array(y.length),C=0,b=0;b<y.length;b++){var k=y[b],S=E[b]=k!=null&&k!=="none";if(S){var O=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",b);C++,T[b]=a.getCachedImage(k,O,function(){l.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var N=e.pstyle("background-blacken").value,D=e.pstyle("border-width").pfValue,I=e.pstyle("background-opacity").value*h,x=e.pstyle("border-color").value,P=e.pstyle("border-style").value,L=e.pstyle("border-opacity").value*h;t.lineJoin="miter";var M=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:I;a.eleFillStyle(t,e,Y)},R=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:L;a.colorStrokeStyle(t,x[0],x[1],x[2],Y)},V=e.pstyle("shape").strValue,U=e.pstyle("shape-polygon-points").pfValue;if(d){t.translate(c.x,c.y);var q=a.nodePathCache=a.nodePathCache||[],$=Cw(V==="polygon"?V+","+U.join(","):V,""+u,""+s),X=q[$];X!=null?(p=X,g=!0,f.pathCache=p):(p=new Path2D,q[$]=f.pathCache=p)}var B=function(){if(!g){var Y=c;d&&(Y={x:0,y:0}),a.nodeShapes[a.getNodeShape(e)].draw(p||t,Y.x,Y.y,s,u)}d?t.fill(p):t.fill()},H=function(){for(var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h,ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ve=l.backgrounding,me=0,fe=0;fe<T.length;fe++){var le=e.cy().style().getIndexedStyle(e,"background-image-containment","value",fe);if(ie&&le==="over"||!ie&&le==="inside"){me++;continue}E[fe]&&T[fe].complete&&!T[fe].error&&(me++,a.drawInscribedImage(t,T[fe],e,fe,Y))}l.backgrounding=me!==C,ve!==l.backgrounding&&e.updateStyle(!1)},j=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h;a.hasPie(e)&&(a.drawPie(t,e,ie),Y&&(d||a.nodeShapes[a.getNodeShape(e)].draw(t,c.x,c.y,s,u)))},K=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h,ie=(N>0?N:-N)*Y,ve=N>0?0:255;N!==0&&(a.colorFillStyle(t,ve,ve,ve,ie),d?t.fill(p):t.fill())},te=function(){if(D>0){if(t.lineWidth=D,t.lineCap="butt",t.setLineDash)switch(P){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}if(d?t.stroke(p):t.stroke(),P==="double"){t.lineWidth=D/3;var Y=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",d?t.stroke(p):t.stroke(),t.globalCompositeOperation=Y}t.setLineDash&&t.setLineDash([])}},re=function(){i&&a.drawNodeOverlay(t,e,c,s,u)},ue=function(){i&&a.drawNodeUnderlay(t,e,c,s,u)},se=function(){a.drawElementText(t,e,null,n)},de=e.pstyle("ghost").value==="yes";if(de){var be=e.pstyle("ghost-offset-x").pfValue,z=e.pstyle("ghost-offset-y").pfValue,ae=e.pstyle("ghost-opacity").value,Z=ae*h;t.translate(be,z),M(ae*I),B(),H(Z,!0),R(ae*L),te(),j(N!==0||D!==0),H(Z,!1),K(Z),t.translate(-be,-z)}d&&t.translate(-c.x,-c.y),ue(),d&&t.translate(c.x,c.y),M(),B(),H(h,!0),R(),te(),j(N!==0||D!==0),H(h,!1),K(),d&&t.translate(-c.x,-c.y),se(),re(),r&&t.translate(v.x1,v.y1)}};var AE=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n,i,o,a){var s=this;if(n.visible()){var u=n.pstyle("".concat(e,"-padding")).pfValue,l=n.pstyle("".concat(e,"-opacity")).value,f=n.pstyle("".concat(e,"-color")).value,c=n.pstyle("".concat(e,"-shape")).value;if(l>0){if(i=i||n.position(),o==null||a==null){var h=n.padding();o=n.width()+2*h,a=n.height()+2*h}s.colorFillStyle(r,f[0],f[1],f[2],l),s.nodeShapes[c].draw(r,i.x,i.y,o+u*2,a+u*2),r.fill()}}}};$a.drawNodeOverlay=AE("overlay");$a.drawNodeUnderlay=AE("underlay");$a.hasPie=function(t){return t=t[0],t._private.hasPie};$a.drawPie=function(t,e,r,n){e=e[0],n=n||e.position();var i=e.cy().style(),o=e.pstyle("pie-size"),a=n.x,s=n.y,u=e.width(),l=e.height(),f=Math.min(u,l)/2,c=0,h=this.usePaths();h&&(a=0,s=0),o.units==="%"?f=f*o.pfValue:o.pfValue!==void 0&&(f=o.pfValue/2);for(var d=1;d<=i.pieBackgroundN;d++){var p=e.pstyle("pie-"+d+"-background-size").value,g=e.pstyle("pie-"+d+"-background-color").value,w=e.pstyle("pie-"+d+"-background-opacity").value*r,v=p/100;v+c>1&&(v=1-c);var m=1.5*Math.PI+2*Math.PI*c,y=2*Math.PI*v,E=m+y;p===0||c>=1||c+v>1||(t.beginPath(),t.moveTo(a,s),t.arc(a,s,f,m,E),t.closePath(),this.colorFillStyle(t,g[0],g[1],g[2],w),t.fill(),c+=v)}};var nn={},GM=100;nn.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/e};nn.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],r=!0,n,i=0;i<e.length;i++)if(n=e[i],n.context===t){r=!1;break}return r&&(n={context:t},e.push(n)),n};nn.createGradientStyleFor=function(t,e,r,n,i){var o,a=this.usePaths(),s=r.pstyle(e+"-gradient-stop-colors").value,u=r.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var l=r.sourceEndpoint(),f=r.targetEndpoint(),c=r.midpoint(),h=Vi(l,c),d=Vi(f,c);o=t.createRadialGradient(c.x,c.y,0,c.x,c.y,Math.max(h,d))}else{var p=a?{x:0,y:0}:r.position(),g=r.paddedWidth(),w=r.paddedHeight();o=t.createRadialGradient(p.x,p.y,0,p.x,p.y,Math.max(g,w))}else if(r.isEdge()){var v=r.sourceEndpoint(),m=r.targetEndpoint();o=t.createLinearGradient(v.x,v.y,m.x,m.y)}else{var y=a?{x:0,y:0}:r.position(),E=r.paddedWidth(),T=r.paddedHeight(),C=E/2,b=T/2,k=r.pstyle("background-gradient-direction").value;switch(k){case"to-bottom":o=t.createLinearGradient(y.x,y.y-b,y.x,y.y+b);break;case"to-top":o=t.createLinearGradient(y.x,y.y+b,y.x,y.y-b);break;case"to-left":o=t.createLinearGradient(y.x+C,y.y,y.x-C,y.y);break;case"to-right":o=t.createLinearGradient(y.x-C,y.y,y.x+C,y.y);break;case"to-bottom-right":case"to-right-bottom":o=t.createLinearGradient(y.x-C,y.y-b,y.x+C,y.y+b);break;case"to-top-right":case"to-right-top":o=t.createLinearGradient(y.x-C,y.y+b,y.x+C,y.y-b);break;case"to-bottom-left":case"to-left-bottom":o=t.createLinearGradient(y.x+C,y.y-b,y.x-C,y.y+b);break;case"to-top-left":case"to-left-top":o=t.createLinearGradient(y.x+C,y.y+b,y.x-C,y.y-b);break}}if(!o)return null;for(var S=u.length===s.length,O=s.length,N=0;N<O;N++)o.addColorStop(S?u[N]:N/(O-1),"rgba("+s[N][0]+","+s[N][1]+","+s[N][2]+","+i+")");return o};nn.gradientFillStyle=function(t,e,r,n){var i=this.createGradientStyleFor(t,"background",e,r,n);if(!i)return null;t.fillStyle=i};nn.colorFillStyle=function(t,e,r,n,i){t.fillStyle="rgba("+e+","+r+","+n+","+i+")"};nn.eleFillStyle=function(t,e,r){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(t,e,n,r);else{var i=e.pstyle("background-color").value;this.colorFillStyle(t,i[0],i[1],i[2],r)}};nn.gradientStrokeStyle=function(t,e,r,n){var i=this.createGradientStyleFor(t,"line",e,r,n);if(!i)return null;t.strokeStyle=i};nn.colorStrokeStyle=function(t,e,r,n,i){t.strokeStyle="rgba("+e+","+r+","+n+","+i+")"};nn.eleStrokeStyle=function(t,e,r){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(t,e,n,r);else{var i=e.pstyle("line-color").value;this.colorStrokeStyle(t,i[0],i[1],i[2],r)}};nn.matchCanvasSize=function(t){var e=this,r=e.data,n=e.findContainerClientCoords(),i=n[2],o=n[3],a=e.getPixelRatio(),s=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(a=s);var u=i*a,l=o*a,f;if(!(u===e.canvasWidth&&l===e.canvasHeight)){e.fontCaches=null;var c=r.canvasContainer;c.style.width=i+"px",c.style.height=o+"px";for(var h=0;h<e.CANVAS_LAYERS;h++)f=r.canvases[h],f.width=u,f.height=l,f.style.width=i+"px",f.style.height=o+"px";for(var h=0;h<e.BUFFER_COUNT;h++)f=r.bufferCanvases[h],f.width=u,f.height=l,f.style.width=i+"px",f.style.height=o+"px";e.textureMult=1,a<=1&&(f=r.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,f.width=u*e.textureMult,f.height=l*e.textureMult),e.canvasWidth=u,e.canvasHeight=l}};nn.renderTo=function(t,e,r,n){this.render({forcedContext:t,forcedZoom:e,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};nn.render=function(t){t=t||kw();var e=t.forcedContext,r=t.drawAllLayers,n=t.drawOnlyNodeLayer,i=t.forcedZoom,o=t.forcedPan,a=this,s=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,u=a.cy,l=a.data,f=l.canvasNeedsRedraw,c=a.textureOnViewport&&!e&&(a.pinching||a.hoverData.dragging||a.swipePanning||a.data.wheelZooming),h=t.motionBlur!==void 0?t.motionBlur:a.motionBlur,d=a.motionBlurPxRatio,p=u.hasCompoundNodes(),g=a.hoverData.draggingEles,w=!!(a.hoverData.selecting||a.touchData.selecting);h=h&&!e&&a.motionBlurEnabled&&!w;var v=h;e||(a.prevPxRatio!==s&&(a.invalidateContainerClientCoordsCache(),a.matchCanvasSize(a.container),a.redrawHint("eles",!0),a.redrawHint("drag",!0)),a.prevPxRatio=s),!e&&a.motionBlurTimeout&&clearTimeout(a.motionBlurTimeout),h&&(a.mbFrames==null&&(a.mbFrames=0),a.mbFrames++,a.mbFrames<3&&(v=!1),a.mbFrames>a.minMbLowQualFrames&&(a.motionBlurPxRatio=a.mbPxRBlurry)),a.clearingMotionBlur&&(a.motionBlurPxRatio=1),a.textureDrawLastFrame&&!c&&(f[a.NODE]=!0,f[a.SELECT_BOX]=!0);var m=u.style(),y=u.zoom(),E=i!==void 0?i:y,T=u.pan(),C={x:T.x,y:T.y},b={zoom:y,pan:{x:T.x,y:T.y}},k=a.prevViewport,S=k===void 0||b.zoom!==k.zoom||b.pan.x!==k.pan.x||b.pan.y!==k.pan.y;!S&&!(g&&!p)&&(a.motionBlurPxRatio=1),o&&(C=o),E*=s,C.x*=s,C.y*=s;var O=a.getCachedZSortedEles();function N(z,ae,Z,W,Y){var ie=z.globalCompositeOperation;z.globalCompositeOperation="destination-out",a.colorFillStyle(z,255,255,255,a.motionBlurTransparency),z.fillRect(ae,Z,W,Y),z.globalCompositeOperation=ie}function D(z,ae){var Z,W,Y,ie;!a.clearingMotionBlur&&(z===l.bufferContexts[a.MOTIONBLUR_BUFFER_NODE]||z===l.bufferContexts[a.MOTIONBLUR_BUFFER_DRAG])?(Z={x:T.x*d,y:T.y*d},W=y*d,Y=a.canvasWidth*d,ie=a.canvasHeight*d):(Z=C,W=E,Y=a.canvasWidth,ie=a.canvasHeight),z.setTransform(1,0,0,1,0,0),ae==="motionBlur"?N(z,0,0,Y,ie):!e&&(ae===void 0||ae)&&z.clearRect(0,0,Y,ie),r||(z.translate(Z.x,Z.y),z.scale(W,W)),o&&z.translate(o.x,o.y),i&&z.scale(i,i)}if(c||(a.textureDrawLastFrame=!1),c){if(a.textureDrawLastFrame=!0,!a.textureCache){a.textureCache={},a.textureCache.bb=u.mutableElements().boundingBox(),a.textureCache.texture=a.data.bufferCanvases[a.TEXTURE_BUFFER];var I=a.data.bufferContexts[a.TEXTURE_BUFFER];I.setTransform(1,0,0,1,0,0),I.clearRect(0,0,a.canvasWidth*a.textureMult,a.canvasHeight*a.textureMult),a.render({forcedContext:I,drawOnlyNodeLayer:!0,forcedPxRatio:s*a.textureMult});var b=a.textureCache.viewport={zoom:u.zoom(),pan:u.pan(),width:a.canvasWidth,height:a.canvasHeight};b.mpan={x:(0-b.pan.x)/b.zoom,y:(0-b.pan.y)/b.zoom}}f[a.DRAG]=!1,f[a.NODE]=!1;var x=l.contexts[a.NODE],P=a.textureCache.texture,b=a.textureCache.viewport;x.setTransform(1,0,0,1,0,0),h?N(x,0,0,b.width,b.height):x.clearRect(0,0,b.width,b.height);var L=m.core("outside-texture-bg-color").value,M=m.core("outside-texture-bg-opacity").value;a.colorFillStyle(x,L[0],L[1],L[2],M),x.fillRect(0,0,b.width,b.height);var y=u.zoom();D(x,!1),x.clearRect(b.mpan.x,b.mpan.y,b.width/b.zoom/s,b.height/b.zoom/s),x.drawImage(P,b.mpan.x,b.mpan.y,b.width/b.zoom/s,b.height/b.zoom/s)}else a.textureOnViewport&&!e&&(a.textureCache=null);var R=u.extent(),V=a.pinching||a.hoverData.dragging||a.swipePanning||a.data.wheelZooming||a.hoverData.draggingEles||a.cy.animated(),U=a.hideEdgesOnViewport&&V,q=[];if(q[a.NODE]=!f[a.NODE]&&h&&!a.clearedForMotionBlur[a.NODE]||a.clearingMotionBlur,q[a.NODE]&&(a.clearedForMotionBlur[a.NODE]=!0),q[a.DRAG]=!f[a.DRAG]&&h&&!a.clearedForMotionBlur[a.DRAG]||a.clearingMotionBlur,q[a.DRAG]&&(a.clearedForMotionBlur[a.DRAG]=!0),f[a.NODE]||r||n||q[a.NODE]){var $=h&&!q[a.NODE]&&d!==1,x=e||($?a.data.bufferContexts[a.MOTIONBLUR_BUFFER_NODE]:l.contexts[a.NODE]),X=h&&!$?"motionBlur":void 0;D(x,X),U?a.drawCachedNodes(x,O.nondrag,s,R):a.drawLayeredElements(x,O.nondrag,s,R),a.debug&&a.drawDebugPoints(x,O.nondrag),!r&&!h&&(f[a.NODE]=!1)}if(!n&&(f[a.DRAG]||r||q[a.DRAG])){var $=h&&!q[a.DRAG]&&d!==1,x=e||($?a.data.bufferContexts[a.MOTIONBLUR_BUFFER_DRAG]:l.contexts[a.DRAG]);D(x,h&&!$?"motionBlur":void 0),U?a.drawCachedNodes(x,O.drag,s,R):a.drawCachedElements(x,O.drag,s,R),a.debug&&a.drawDebugPoints(x,O.drag),!r&&!h&&(f[a.DRAG]=!1)}if(a.showFps||!n&&f[a.SELECT_BOX]&&!r){var x=e||l.contexts[a.SELECT_BOX];if(D(x),a.selection[4]==1&&(a.hoverData.selecting||a.touchData.selecting)){var y=a.cy.zoom(),B=m.core("selection-box-border-width").value/y;x.lineWidth=B,x.fillStyle="rgba("+m.core("selection-box-color").value[0]+","+m.core("selection-box-color").value[1]+","+m.core("selection-box-color").value[2]+","+m.core("selection-box-opacity").value+")",x.fillRect(a.selection[0],a.selection[1],a.selection[2]-a.selection[0],a.selection[3]-a.selection[1]),B>0&&(x.strokeStyle="rgba("+m.core("selection-box-border-color").value[0]+","+m.core("selection-box-border-color").value[1]+","+m.core("selection-box-border-color").value[2]+","+m.core("selection-box-opacity").value+")",x.strokeRect(a.selection[0],a.selection[1],a.selection[2]-a.selection[0],a.selection[3]-a.selection[1]))}if(l.bgActivePosistion&&!a.hoverData.selecting){var y=a.cy.zoom(),H=l.bgActivePosistion;x.fillStyle="rgba("+m.core("active-bg-color").value[0]+","+m.core("active-bg-color").value[1]+","+m.core("active-bg-color").value[2]+","+m.core("active-bg-opacity").value+")",x.beginPath(),x.arc(H.x,H.y,m.core("active-bg-size").pfValue/y,0,2*Math.PI),x.fill()}var j=a.lastRedrawTime;if(a.showFps&&j){j=Math.round(j);var K=Math.round(1e3/j);x.setTransform(1,0,0,1,0,0),x.fillStyle="rgba(255, 0, 0, 0.75)",x.strokeStyle="rgba(255, 0, 0, 0.75)",x.lineWidth=1,x.fillText("1 frame = "+j+" ms = "+K+" fps",0,20);var te=60;x.strokeRect(0,30,250,20),x.fillRect(0,30,250*Math.min(K/te,1),20)}r||(f[a.SELECT_BOX]=!1)}if(h&&d!==1){var re=l.contexts[a.NODE],ue=a.data.bufferCanvases[a.MOTIONBLUR_BUFFER_NODE],se=l.contexts[a.DRAG],de=a.data.bufferCanvases[a.MOTIONBLUR_BUFFER_DRAG],be=function(ae,Z,W){ae.setTransform(1,0,0,1,0,0),W||!v?ae.clearRect(0,0,a.canvasWidth,a.canvasHeight):N(ae,0,0,a.canvasWidth,a.canvasHeight);var Y=d;ae.drawImage(Z,0,0,a.canvasWidth*Y,a.canvasHeight*Y,0,0,a.canvasWidth,a.canvasHeight)};(f[a.NODE]||q[a.NODE])&&(be(re,ue,q[a.NODE]),f[a.NODE]=!1),(f[a.DRAG]||q[a.DRAG])&&(be(se,de,q[a.DRAG]),f[a.DRAG]=!1)}a.prevViewport=b,a.clearingMotionBlur&&(a.clearingMotionBlur=!1,a.motionBlurCleared=!0,a.motionBlur=!0),h&&(a.motionBlurTimeout=setTimeout(function(){a.motionBlurTimeout=null,a.clearedForMotionBlur[a.NODE]=!1,a.clearedForMotionBlur[a.DRAG]=!1,a.motionBlur=!1,a.clearingMotionBlur=!c,a.mbFrames=0,f[a.NODE]=!0,f[a.DRAG]=!0,a.redraw()},GM)),e||u.emit("render")};var Ai={};Ai.drawPolygonPath=function(t,e,r,n,i,o){var a=n/2,s=i/2;t.beginPath&&t.beginPath(),t.moveTo(e+a*o[0],r+s*o[1]);for(var u=1;u<o.length/2;u++)t.lineTo(e+a*o[u*2],r+s*o[u*2+1]);t.closePath()};Ai.drawRoundPolygonPath=function(t,e,r,n,i,o){var a=n/2,s=i/2,u=av(n,i);t.beginPath&&t.beginPath();for(var l=0;l<o.length/4;l++){var f=void 0,c=void 0;l===0?f=o.length-2:f=l*4-2,c=l*4+2;var h=e+a*o[l*4],d=r+s*o[l*4+1],p=-o[f]*o[c]-o[f+1]*o[c+1],g=u/Math.tan(Math.acos(p)/2),w=h-g*o[f],v=d-g*o[f+1],m=h+g*o[c],y=d+g*o[c+1];l===0?t.moveTo(w,v):t.lineTo(w,v),t.arcTo(h,d,m,y,u)}t.closePath()};Ai.drawRoundRectanglePath=function(t,e,r,n,i){var o=n/2,a=i/2,s=qo(n,i);t.beginPath&&t.beginPath(),t.moveTo(e,r-a),t.arcTo(e+o,r-a,e+o,r,s),t.arcTo(e+o,r+a,e,r+a,s),t.arcTo(e-o,r+a,e-o,r,s),t.arcTo(e-o,r-a,e,r-a,s),t.lineTo(e,r-a),t.closePath()};Ai.drawBottomRoundRectanglePath=function(t,e,r,n,i){var o=n/2,a=i/2,s=qo(n,i);t.beginPath&&t.beginPath(),t.moveTo(e,r-a),t.lineTo(e+o,r-a),t.lineTo(e+o,r),t.arcTo(e+o,r+a,e,r+a,s),t.arcTo(e-o,r+a,e-o,r,s),t.lineTo(e-o,r-a),t.lineTo(e,r-a),t.closePath()};Ai.drawCutRectanglePath=function(t,e,r,n,i){var o=n/2,a=i/2,s=Rw();t.beginPath&&t.beginPath(),t.moveTo(e-o+s,r-a),t.lineTo(e+o-s,r-a),t.lineTo(e+o,r-a+s),t.lineTo(e+o,r+a-s),t.lineTo(e+o-s,r+a),t.lineTo(e-o+s,r+a),t.lineTo(e-o,r+a-s),t.lineTo(e-o,r-a+s),t.closePath()};Ai.drawBarrelPath=function(t,e,r,n,i){var o=n/2,a=i/2,s=e-o,u=e+o,l=r-a,f=r+a,c=Ld(n,i),h=c.widthOffset,d=c.heightOffset,p=c.ctrlPtOffsetPct*h;t.beginPath&&t.beginPath(),t.moveTo(s,l+d),t.lineTo(s,f-d),t.quadraticCurveTo(s+p,f,s+h,f),t.lineTo(u-h,f),t.quadraticCurveTo(u-p,f,u,f-d),t.lineTo(u,l+d),t.quadraticCurveTo(u-p,l,u-h,l),t.lineTo(s+h,l),t.quadraticCurveTo(s+p,l,s,l+d),t.closePath()};var cg=Math.sin(0),hg=Math.cos(0),zd={},Bd={},LE=Math.PI/40;for(var ca=0*Math.PI;ca<2*Math.PI;ca+=LE)zd[ca]=Math.sin(ca),Bd[ca]=Math.cos(ca);Ai.drawEllipsePath=function(t,e,r,n,i){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,r,n/2,i/2,0,0,2*Math.PI);else for(var o,a,s=n/2,u=i/2,l=0*Math.PI;l<2*Math.PI;l+=LE)o=e-s*zd[l]*cg+s*Bd[l]*hg,a=r+u*Bd[l]*cg+u*zd[l]*hg,l===0?t.moveTo(o,a):t.lineTo(o,a);t.closePath()};var Vo={};Vo.createBuffer=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,[r,r.getContext("2d")]};Vo.bufferCanvasImage=function(t){var e=this.cy,r=e.mutableElements(),n=r.boundingBox(),i=this.findContainerClientCoords(),o=t.full?Math.ceil(n.w):i[2],a=t.full?Math.ceil(n.h):i[3],s=Xe(t.maxWidth)||Xe(t.maxHeight),u=this.getPixelRatio(),l=1;if(t.scale!==void 0)o*=t.scale,a*=t.scale,l=t.scale;else if(s){var f=1/0,c=1/0;Xe(t.maxWidth)&&(f=l*t.maxWidth/o),Xe(t.maxHeight)&&(c=l*t.maxHeight/a),l=Math.min(f,c),o*=l,a*=l}s||(o*=u,a*=u,l*=u);var h=document.createElement("canvas");h.width=o,h.height=a,h.style.width=o+"px",h.style.height=a+"px";var d=h.getContext("2d");if(o>0&&a>0){d.clearRect(0,0,o,a),d.globalCompositeOperation="source-over";var p=this.getCachedZSortedEles();if(t.full)d.translate(-n.x1*l,-n.y1*l),d.scale(l,l),this.drawElements(d,p),d.scale(1/l,1/l),d.translate(n.x1*l,n.y1*l);else{var g=e.pan(),w={x:g.x*l,y:g.y*l};l*=e.zoom(),d.translate(w.x,w.y),d.scale(l,l),this.drawElements(d,p),d.scale(1/l,1/l),d.translate(-w.x,-w.y)}t.bg&&(d.globalCompositeOperation="destination-over",d.fillStyle=t.bg,d.rect(0,0,o,a),d.fill())}return h};function HM(t,e){for(var r=atob(t),n=new ArrayBuffer(r.length),i=new Uint8Array(n),o=0;o<r.length;o++)i[o]=r.charCodeAt(o);return new Blob([n],{type:e})}function dg(t){var e=t.indexOf(",");return t.substr(e+1)}function ME(t,e,r){var n=function(){return e.toDataURL(r,t.quality)};switch(t.output){case"blob-promise":return new Ra(function(i,o){try{e.toBlob(function(a){a!=null?i(a):o(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,t.quality)}catch(a){o(a)}});case"blob":return HM(dg(n()),r);case"base64":return dg(n());case"base64uri":default:return n()}}Vo.png=function(t){return ME(t,this.bufferCanvasImage(t),"image/png")};Vo.jpg=function(t){return ME(t,this.bufferCanvasImage(t),"image/jpeg")};var OE={};OE.nodeShapeImpl=function(t,e,r,n,i,o,a){switch(t){case"ellipse":return this.drawEllipsePath(e,r,n,i,o);case"polygon":return this.drawPolygonPath(e,r,n,i,o,a);case"round-polygon":return this.drawRoundPolygonPath(e,r,n,i,o,a);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,r,n,i,o);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,r,n,i,o);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,r,n,i,o);case"barrel":return this.drawBarrelPath(e,r,n,i,o)}};var UM=NE,$t=NE.prototype;$t.CANVAS_LAYERS=3;$t.SELECT_BOX=0;$t.DRAG=1;$t.NODE=2;$t.BUFFER_COUNT=3;$t.TEXTURE_BUFFER=0;$t.MOTIONBLUR_BUFFER_NODE=1;$t.MOTIONBLUR_BUFFER_DRAG=2;function NE(t){var e=this;e.data={canvases:new Array($t.CANVAS_LAYERS),contexts:new Array($t.CANVAS_LAYERS),canvasNeedsRedraw:new Array($t.CANVAS_LAYERS),bufferCanvases:new Array($t.BUFFER_COUNT),bufferContexts:new Array($t.CANVAS_LAYERS)};var r="-webkit-tap-highlight-color",n="rgba(0,0,0,0)";e.data.canvasContainer=document.createElement("div");var i=e.data.canvasContainer.style;e.data.canvasContainer.style[r]=n,i.position="relative",i.zIndex="0",i.overflow="hidden";var o=t.cy.container();o.appendChild(e.data.canvasContainer),o.style[r]=n;var a={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};Tk()&&(a["-ms-touch-action"]="none",a["touch-action"]="none");for(var s=0;s<$t.CANVAS_LAYERS;s++){var u=e.data.canvases[s]=document.createElement("canvas");e.data.contexts[s]=u.getContext("2d"),Object.keys(a).forEach(function(j){u.style[j]=a[j]}),u.style.position="absolute",u.setAttribute("data-id","layer"+s),u.style.zIndex=String($t.CANVAS_LAYERS-s),e.data.canvasContainer.appendChild(u),e.data.canvasNeedsRedraw[s]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[$t.NODE].setAttribute("data-id","layer"+$t.NODE+"-node"),e.data.canvases[$t.SELECT_BOX].setAttribute("data-id","layer"+$t.SELECT_BOX+"-selectbox"),e.data.canvases[$t.DRAG].setAttribute("data-id","layer"+$t.DRAG+"-drag");for(var s=0;s<$t.BUFFER_COUNT;s++)e.data.bufferCanvases[s]=document.createElement("canvas"),e.data.bufferContexts[s]=e.data.bufferCanvases[s].getContext("2d"),e.data.bufferCanvases[s].style.position="absolute",e.data.bufferCanvases[s].setAttribute("data-id","buffer"+s),e.data.bufferCanvases[s].style.zIndex=String(-s-1),e.data.bufferCanvases[s].style.visibility="hidden";e.pathsEnabled=!0;var l=en(),f=function(K){return{x:(K.x1+K.x2)/2,y:(K.y1+K.y2)/2}},c=function(K){return{x:-K.w/2,y:-K.h/2}},h=function(K){var te=K[0]._private,re=te.oldBackgroundTimestamp===te.backgroundTimestamp;return!re},d=function(K){return K[0]._private.nodeKey},p=function(K){return K[0]._private.labelStyleKey},g=function(K){return K[0]._private.sourceLabelStyleKey},w=function(K){return K[0]._private.targetLabelStyleKey},v=function(K,te,re,ue,se){return e.drawElement(K,te,re,!1,!1,se)},m=function(K,te,re,ue,se){return e.drawElementText(K,te,re,ue,"main",se)},y=function(K,te,re,ue,se){return e.drawElementText(K,te,re,ue,"source",se)},E=function(K,te,re,ue,se){return e.drawElementText(K,te,re,ue,"target",se)},T=function(K){return K.boundingBox(),K[0]._private.bodyBounds},C=function(K){return K.boundingBox(),K[0]._private.labelBounds.main||l},b=function(K){return K.boundingBox(),K[0]._private.labelBounds.source||l},k=function(K){return K.boundingBox(),K[0]._private.labelBounds.target||l},S=function(K,te){return te},O=function(K){return f(T(K))},N=function(K,te,re){var ue=K?K+"-":"";return{x:te.x+re.pstyle(ue+"text-margin-x").pfValue,y:te.y+re.pstyle(ue+"text-margin-y").pfValue}},D=function(K,te,re){var ue=K[0]._private.rscratch;return{x:ue[te],y:ue[re]}},I=function(K){return N("",D(K,"labelX","labelY"),K)},x=function(K){return N("source",D(K,"sourceLabelX","sourceLabelY"),K)},P=function(K){return N("target",D(K,"targetLabelX","targetLabelY"),K)},L=function(K){return c(T(K))},M=function(K){return c(b(K))},R=function(K){return c(k(K))},V=function(K){var te=C(K),re=c(C(K));if(K.isNode()){switch(K.pstyle("text-halign").value){case"left":re.x=-te.w;break;case"right":re.x=0;break}switch(K.pstyle("text-valign").value){case"top":re.y=-te.h;break;case"bottom":re.y=0;break}}return re},U=e.data.eleTxrCache=new uo(e,{getKey:d,doesEleInvalidateKey:h,drawElement:v,getBoundingBox:T,getRotationPoint:O,getRotationOffset:L,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),q=e.data.lblTxrCache=new uo(e,{getKey:p,drawElement:m,getBoundingBox:C,getRotationPoint:I,getRotationOffset:V,isVisible:S}),$=e.data.slbTxrCache=new uo(e,{getKey:g,drawElement:y,getBoundingBox:b,getRotationPoint:x,getRotationOffset:M,isVisible:S}),X=e.data.tlbTxrCache=new uo(e,{getKey:w,drawElement:E,getBoundingBox:k,getRotationPoint:P,getRotationOffset:R,isVisible:S}),B=e.data.lyrTxrCache=new SE(e);e.onUpdateEleCalcs(function(K,te){U.invalidateElements(te),q.invalidateElements(te),$.invalidateElements(te),X.invalidateElements(te),B.invalidateElements(te);for(var re=0;re<te.length;re++){var ue=te[re]._private;ue.oldBackgroundTimestamp=ue.backgroundTimestamp}});var H=function(K){for(var te=0;te<K.length;te++)B.enqueueElementRefinement(K[te].ele)};U.onDequeue(H),q.onDequeue(H),$.onDequeue(H),X.onDequeue(H)}$t.redrawHint=function(t,e){var r=this;switch(t){case"eles":r.data.canvasNeedsRedraw[$t.NODE]=e;break;case"drag":r.data.canvasNeedsRedraw[$t.DRAG]=e;break;case"select":r.data.canvasNeedsRedraw[$t.SELECT_BOX]=e;break}};var VM=typeof Path2D<"u";$t.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t};$t.usePaths=function(){return VM&&this.pathsEnabled};$t.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)};$t.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled};$t.makeOffscreenCanvas=function(t,e){var r;return(typeof OffscreenCanvas>"u"?"undefined":yr(OffscreenCanvas))!=="undefined"?r=new OffscreenCanvas(t,e):(r=document.createElement("canvas"),r.width=t,r.height=e),r};[DE,Hn,ii,pv,ea,$a,nn,Ai,Vo,OE].forEach(function(t){mt($t,t)});var WM=[{name:"null",impl:mE},{name:"base",impl:CE},{name:"canvas",impl:UM}],YM=[{type:"layout",extensions:eM},{type:"renderer",extensions:WM}],IE={},PE={};function RE(t,e,r){var n=r,i=function(k){Wt("Can not register `"+e+"` for `"+t+"` since `"+k+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(Do.prototype[e])return i(e);Do.prototype[e]=r}else if(t==="collection"){if(Dr.prototype[e])return i(e);Dr.prototype[e]=r}else if(t==="layout"){for(var o=function(k){this.options=k,r.call(this,k),zt(this._private)||(this._private={}),this._private.cy=k.cy,this._private.listeners=[],this.createEmitter()},a=o.prototype=Object.create(r.prototype),s=[],u=0;u<s.length;u++){var l=s[u];a[l]=a[l]||function(){return this}}a.start&&!a.run?a.run=function(){return this.start(),this}:!a.start&&a.run&&(a.start=function(){return this.run(),this});var f=r.prototype.stop;a.stop=function(){var b=this.options;if(b&&b.animate){var k=this.animations;if(k)for(var S=0;S<k.length;S++)k[S].stop()}return f?f.call(this):this.emit("layoutstop"),this},a.destroy||(a.destroy=function(){return this}),a.cy=function(){return this._private.cy};var c=function(k){return k._private.cy},h={addEventFields:function(k,S){S.layout=k,S.cy=c(k),S.target=k},bubble:function(){return!0},parent:function(k){return c(k)}};mt(a,{createEmitter:function(){return this._private.emitter=new iu(h,this),this},emitter:function(){return this._private.emitter},on:function(k,S){return this.emitter().on(k,S),this},one:function(k,S){return this.emitter().one(k,S),this},once:function(k,S){return this.emitter().one(k,S),this},removeListener:function(k,S){return this.emitter().removeListener(k,S),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(k,S){return this.emitter().emit(k,S),this}}),Vt.eventAliasesOn(a),n=o}else if(t==="renderer"&&e!=="null"&&e!=="base"){var d=FE("renderer","base"),p=d.prototype,g=r,w=r.prototype,v=function(){d.apply(this,arguments),g.apply(this,arguments)},m=v.prototype;for(var y in p){var E=p[y],T=w[y]!=null;if(T)return i(y);m[y]=E}for(var C in w)m[C]=w[C];p.clientFunctions.forEach(function(b){m[b]=m[b]||function(){hr("Renderer does not implement `renderer."+b+"()` on its prototype")}}),n=v}else if(t==="__proto__"||t==="constructor"||t==="prototype")return hr(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return bw({map:IE,keys:[t,e],value:n})}function FE(t,e){return ww({map:IE,keys:[t,e]})}function XM(t,e,r,n,i){return bw({map:PE,keys:[t,e,r,n],value:i})}function jM(t,e,r,n){return ww({map:PE,keys:[t,e,r,n]})}var qd=function(){if(arguments.length===2)return FE.apply(null,arguments);if(arguments.length===3)return RE.apply(null,arguments);if(arguments.length===4)return jM.apply(null,arguments);if(arguments.length===5)return XM.apply(null,arguments);hr("Invalid extension access syntax")};Do.prototype.extension=qd;YM.forEach(function(t){t.extensions.forEach(function(e){RE(t.type,e.name,e.impl)})});var zE=function t(){if(!(this instanceof t))return new t;this.length=0},Xi=zE.prototype;Xi.instanceString=function(){return"stylesheet"};Xi.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this};Xi.css=function(t,e){var r=this.length-1;if(ft(t))this[r].properties.push({name:t,value:e});else if(zt(t))for(var n=t,i=Object.keys(n),o=0;o<i.length;o++){var a=i[o],s=n[a];if(s!=null){var u=Pr.properties[a]||Pr.properties[Js(a)];if(u!=null){var l=u.name,f=s;this[r].properties.push({name:l,value:f})}}}return this};Xi.style=Xi.css;Xi.generateStyle=function(t){var e=new Pr(t);return this.appendToStyle(e)};Xi.appendToStyle=function(t){for(var e=0;e<this.length;e++){var r=this[e],n=r.selector,i=r.properties;t.selector(n);for(var o=0;o<i.length;o++){var a=i[o];t.css(a.name,a.value)}}return t};var KM="3.25.0",ji=function(e){if(e===void 0&&(e={}),zt(e))return new Do(e);if(ft(e))return qd.apply(qd,arguments)};ji.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(ji),t.apply(null,e),this};ji.warnings=function(t){return Sw(t)};ji.version=KM;ji.stylesheet=ji.Stylesheet=zE;var ZM=ji;const Rn=qn(ZM);var BE={exports:{}},vg={},pg;function QM(){return pg||(pg=1,Object.extend=function(t){t=t||{};for(var e=1;e<arguments.length;e++){var r=arguments[e];if(r)for(var n in r)r.hasOwnProperty(n)&&(Array.isArray(r[n])?t[n]=r[n].slice():typeof r[n]=="object"?t[n]=Object.extend(t[n],r[n]):t[n]=r[n])}return t}),vg}var ju,gg;function JM(){return gg||(gg=1,ju=function(t,e,r){var n={};n.changeOptions=function(o){e=o.gridSpacing,r=o.snapToGridCenter?.5:0};var i=function(o){return o.scratch("_gridGuide")||o.scratch("_gridGuide",{}),o.scratch("_gridGuide")};return n.snapPos=function(o){var a=r?Math.floor(o.x/e):Math.round(o.x/e),s=r?Math.floor(o.y/e):Math.round(o.y/e),u={x:(a+r)*e,y:(s+r)*e};return u},n.snapNode=function(o){var a=o.position(),s=n.snapPos(a);o.position(s)},n.snapNodesTopDown=function(o){t.startBatch(),o.union(o.descendants()).filter(":childless").positions(function(a,s){typeof a=="number"&&(a=s);var u=a.position();return n.snapPos(u)}),t.endBatch()},n.onFreeNode=function(o){var a,s=o.target||o.cyTarget;s.selected()?a=o.cy.$(":selected"):a=s,n.snapNodesTopDown(a)},n.recoverSnapNode=function(o){var a=i(o).snap;a&&o.position(a.oldPos)},n}),ju}var Ku,mg;function eO(){return mg||(mg=1,Ku=function(t,e){var r={},n,i,o,a;r.onTapStartNode=function(f){if(!(f.originalEvent.altKey||f.originalEvent.ctrlKey||f.originalEvent.metaKey||f.originalEvent.shiftKey)){var c=f.target||f.cyTarget;c.selected()?i=f.cy.$(":selected"):i=c,o=f.position||f.cyPosition,c.grabbable()&&!c.locked()&&(n=c,n.lock(),t.on("tapdrag",l),t.on("tapend",s))}};var s=function(f){t.off("tapdrag",l),t.off("tapend",s),n.unlock(),f.preventDefault()},u=function(){return{x:a.x-o.x,y:a.y-o.y}},l=function(f){n.position(),a=f.position||f.cyPosition,a=e.snapPos(a);var c=u();if(c.x!=0||c.y!=0){n.unlock();var h=i.union(i.descendants());h.filter(":childless").positions(function(d,p){typeof d=="number"&&(d=p);var g=d.position();return e.snapPos({x:g.x+c.x,y:g.y+c.y})}),o=a,n.lock(),n.trigger("drag")}};return r}),Ku}var Zu,yg;function tO(){return yg||(yg=1,Zu=function(t,e,r){var n=t,i=function(d){n=d},o=function(d){var p=d.getBoundingClientRect();return{top:p.top+document.documentElement.scrollTop,left:p.left+document.documentElement.scrollLeft}},a=document.createElement("canvas"),s=e.container(),u=a.getContext("2d");s.appendChild(a);var l=function(){a.height=0,a.width=0,a.style.position="absolute",a.style.top=0,a.style.left=0,a.style.zIndex=n.gridStackOrder};l();var f=function(){var d=e.zoom(),p=e.width(),g=e.height(),w=n.gridSpacing*d,v=e.pan(),m=v.x%w,y=v.y%w;u.strokeStyle=n.gridColor,u.lineWidth=n.lineWidth;var E='	<svg width="'+p+'" height="'+g+`" xmlns="http://www.w3.org/2000/svg">
	            <defs>
	                <pattern id="horizontalLines" width="`+w+'" height="'+w+`" patternUnits="userSpaceOnUse">
	                    <path d="M `+w+' 0 L 0 0 0 0" fill="none" stroke="'+n.gridColor+'" stroke-width="'+n.lineWidth+`" />
	                </pattern>
	                <pattern id="verticalLines" width="`+w+'" height="'+w+`" patternUnits="userSpaceOnUse">
	                    <path d="M 0 0 L 0 0 0 `+w+'" fill="none" stroke="'+n.gridColor+'" stroke-width="'+n.lineWidth+`" />
	                </pattern>
	            </defs>
	            <rect width="100%" height="100%" fill="url(#horizontalLines)" transform="translate(0, `+y+`)" />
	            <rect width="100%" height="100%" fill="url(#verticalLines)" transform="translate(`+m+`, 0)" />
	        </svg>
`,T=new Image;E=encodeURIComponent(E),T.onload=function(){c(),u.drawImage(T,0,0)},T.src="data:image/svg+xml,"+E},c=function(){var d=e.width(),p=e.height();u.clearRect(0,0,d,p)},h=r(function(){a.height=e.height(),a.width=e.width(),a.style.position="absolute",a.style.top=0,a.style.left=0,a.style.zIndex=n.gridStackOrder,setTimeout(function(){a.height=e.height(),a.width=e.width();var d=o(a),p=o(s);a.style.top=-(d.top-p.top),a.style.left=-(d.left-p.left),f()},0)},250);return{initCanvas:h,resizeCanvas:h,resetCanvas:l,clearCanvas:c,drawGrid:f,changeOptions:i,sizeCanvas:f}}),Zu}var Qu,bg;function rO(){return bg||(bg=1,Qu=function(t){var e=function(o){t=Number(o.gridSpacing)},r=function(o){return o.scratch("_gridGuide")||o.scratch("_gridGuide",{}),o.scratch("_gridGuide")};function n(o){var a=o.width(),s=o.height(),u=Math.round((a-t)/(t*2))*(t*2),l=Math.round((s-t)/(t*2))*(t*2);u=u>0?u+t:t,l=l>0?l+t:t,(a!=u||s!=l)&&(o.style({width:u,height:l}),r(o).resize={oldWidth:a,oldHeight:s})}function i(o){var a=r(o).resize;a&&o.style({width:a.oldWidth,height:a.oldHeight})}return{resizeNode:n,recoverNodeDimensions:i,changeOptions:e}}),Qu}var Ju,wg;function nO(){return wg||(wg=1,Ju=function(t,e,r,n,i,o,a,s){var u=function(B){return function(H){B(H)}},l={snapToGridDuringDrag:new u(p),resize:new u(v),snapToGridOnRelease:new u(T),drawGrid:new u(k),guidelines:new u(L),parentPadding:new u(V)};function f(B,H){return function(j){var K=j.target||j.cyTarget;(!K.is(":parent")||H)&&B(K)}}function c(B){return function(){t.nodes().not(":parent").each(function(H,j){typeof H=="number"&&(H=j),B(H)})}}function h(B){return function(){t.nodes().each(function(H,j){typeof H=="number"&&(H=j),B(H)})}}function d(B){return B?"on":"off"}function p(B){t[d(B)]("tapstart","node",n.onTapStartNode)}var g=c(r.resizeNode);f(r.resizeNode);var w=c(r.recoverNodeDimensions);function v(B){t[d(B)]("ready",g),B?g():w()}var m=h(e.snapNodesTopDown),y=h(e.recoverSnapNode),E=f(e.snapNode,!0);function T(B){t[d(B)]("add","node",E),t[d(B)]("ready",m),t[d(B)]("free","node",e.onFreeNode),B?m():y()}var C=function(){q.zoomDash&&i.drawGrid()},b=function(){q.panGrid&&i.drawGrid()};function k(B){t[d(B)]("zoom",C),t[d(B)]("pan",b),B?(i.initCanvas(),t.on("resize",i.resizeCanvas)):(i.clearCanvas(),i.resetCanvas(),t.off("resize",i.resizeCanvas))}var S=null,O=function(B){var H=B.target||B.cyTarget,j=H.selected()?B.cy.$(":selected"):H;S=o.getTopMostNodes(j.nodes()),o.lines.init(S)},N=function(B){this.id()==S.id()&&(o.lines.update(S),q.snapToAlignmentLocationDuringDrag&&o.lines.snapToAlignmentLocation(S))},D=function(B){q.snapToAlignmentLocationOnRelease&&o.lines.snapToAlignmentLocation(S),o.lines.destroy(),S=null},I=function(B){o.lines.resize()},x=function(B){o.getMousePos(B)},P=function(B){S&&(o.setMousePos(t.pan()),o.lines.init(S))};function L(B){B?(o.resizeCanvas(),t.on("tapstart","node",x),t.on("grab",O),t.on("pan",P),t.on("drag","node",N),t.on("free",D),window.addEventListener("resize",I)):(t.off("tapstart","node",x),t.off("grab",O),t.off("pan",P),t.off("drag","node",N),t.off("free",D),o.resetCanvas(),window.removeEventListener("resize",I))}var M=function(B){a.setPaddingOfParent(t.nodes(":parent"),B)},R=function(B){a.setPaddingOfParent(B,!0)};function V(B){M(B),t[d(B)]("ready",M),t[d(B)]("add","node:parent",f(R,!0))}var U={},q,$={drawGrid:["gridSpacing","zoomDash","panGrid","gridStackOrder","gridColor","lineWidth","lineDash"],guidelines:["gridSpacing","guidelinesStackOrder","guidelinesTolerance","guidelinesStyle","distributionGuidelines","range","minDistRange","geometricGuidelineRange"],resize:["gridSpacing"],parentPadding:["gridSpacing","parentSpacing"],snapToGridOnRelease:["gridSpacing","snapToGridCenter"]};function X(B){q=Object.extend({},B),B.guidelines=B.initPosAlignment||B.distributionGuidelines||B.geometricGuideline;for(var H in B)if(U[H]!=B[H])if(l.hasOwnProperty(H))l[H](B[H]);else for(var j in $){var K=$[j];K.indexOf(H)>=0&&(j=="drawGrid"&&(i.changeOptions(B),B.drawGrid&&i.resizeCanvas()),j=="snapToGridOnRelease"&&(e.changeOptions(B),B.snapToGridOnRelease&&m()),j=="guidelines"&&o.changeOptions(B),j=="resize"&&(r.changeOptions(B),B.resize&&g()),j=="parentPadding"&&a.changeOptions(B))}U=Object.extend({},U,B)}return{init:X,syncWithOptions:X}}),Ju}var el,Eg;function iO(){if(Eg)return el;Eg=1,el=w;var t=0,e=1;function r(v,m,y,E,T,C){this._color=v,this.key=m,this.value=y,this.left=E,this.right=T,this._count=C}function n(v){return new r(v._color,v.key,v.value,v.left,v.right,v._count)}function i(v,m){return new r(v,m.key,m.value,m.left,m.right,m._count)}function o(v){v._count=1+(v.left?v.left._count:0)+(v.right?v.right._count:0)}function a(v,m){this._compare=v,this.root=m}var s=a.prototype;Object.defineProperty(s,"keys",{get:function(){var v=[];return this.forEach(function(m,y){v.push(m)}),v}}),Object.defineProperty(s,"values",{get:function(){var v=[];return this.forEach(function(m,y){v.push(y)}),v}}),Object.defineProperty(s,"length",{get:function(){return this.root?this.root._count:0}}),s.insert=function(v,m){for(var y=this._compare,E=this.root,T=[],C=[];E;){var b=y(v,E.key);T.push(E),C.push(b),b<=0?E=E.left:E=E.right}T.push(new r(t,v,m,null,null,1));for(var k=T.length-2;k>=0;--k){var E=T[k];C[k]<=0?T[k]=new r(E._color,E.key,E.value,T[k+1],E.right,E._count+1):T[k]=new r(E._color,E.key,E.value,E.left,T[k+1],E._count+1)}for(var k=T.length-1;k>1;--k){var S=T[k-1],E=T[k];if(S._color===e||E._color===e)break;var O=T[k-2];if(O.left===S)if(S.left===E){var N=O.right;if(N&&N._color===t)S._color=e,O.right=i(e,N),O._color=t,k-=1;else{if(O._color=t,O.left=S.right,S._color=e,S.right=O,T[k-2]=S,T[k-1]=E,o(O),o(S),k>=3){var D=T[k-3];D.left===O?D.left=S:D.right=S}break}}else{var N=O.right;if(N&&N._color===t)S._color=e,O.right=i(e,N),O._color=t,k-=1;else{if(S.right=E.left,O._color=t,O.left=E.right,E._color=e,E.left=S,E.right=O,T[k-2]=E,T[k-1]=S,o(O),o(S),o(E),k>=3){var D=T[k-3];D.left===O?D.left=E:D.right=E}break}}else if(S.right===E){var N=O.left;if(N&&N._color===t)S._color=e,O.left=i(e,N),O._color=t,k-=1;else{if(O._color=t,O.right=S.left,S._color=e,S.left=O,T[k-2]=S,T[k-1]=E,o(O),o(S),k>=3){var D=T[k-3];D.right===O?D.right=S:D.left=S}break}}else{var N=O.left;if(N&&N._color===t)S._color=e,O.left=i(e,N),O._color=t,k-=1;else{if(S.left=E.right,O._color=t,O.right=E.left,E._color=e,E.right=S,E.left=O,T[k-2]=E,T[k-1]=S,o(O),o(S),o(E),k>=3){var D=T[k-3];D.right===O?D.right=E:D.left=E}break}}}return T[0]._color=e,new a(y,T[0])};function u(v,m){if(m.left){var y=u(v,m.left);if(y)return y}var y=v(m.key,m.value);if(y)return y;if(m.right)return u(v,m.right)}function l(v,m,y,E){var T=m(v,E.key);if(T<=0){if(E.left){var C=l(v,m,y,E.left);if(C)return C}var C=y(E.key,E.value);if(C)return C}if(E.right)return l(v,m,y,E.right)}function f(v,m,y,E,T){var C=y(v,T.key),b=y(m,T.key),k;if(C<=0&&(T.left&&(k=f(v,m,y,E,T.left),k)||b>0&&(k=E(T.key,T.value),k)))return k;if(b>0&&T.right)return f(v,m,y,E,T.right)}s.forEach=function(m,y,E){if(this.root)switch(arguments.length){case 1:return u(m,this.root);case 2:return l(y,this._compare,m,this.root);case 3:return this._compare(y,E)>=0?void 0:f(y,E,this._compare,m,this.root)}},Object.defineProperty(s,"begin",{get:function(){for(var v=[],m=this.root;m;)v.push(m),m=m.left;return new c(this,v)}}),Object.defineProperty(s,"end",{get:function(){for(var v=[],m=this.root;m;)v.push(m),m=m.right;return new c(this,v)}}),s.at=function(v){if(v<0)return new c(this,[]);for(var m=this.root,y=[];;){if(y.push(m),m.left){if(v<m.left._count){m=m.left;continue}v-=m.left._count}if(!v)return new c(this,y);if(v-=1,m.right){if(v>=m.right._count)break;m=m.right}else break}return new c(this,[])},s.ge=function(v){for(var m=this._compare,y=this.root,E=[],T=0;y;){var C=m(v,y.key);E.push(y),C<=0&&(T=E.length),C<=0?y=y.left:y=y.right}return E.length=T,new c(this,E)},s.gt=function(v){for(var m=this._compare,y=this.root,E=[],T=0;y;){var C=m(v,y.key);E.push(y),C<0&&(T=E.length),C<0?y=y.left:y=y.right}return E.length=T,new c(this,E)},s.lt=function(v){for(var m=this._compare,y=this.root,E=[],T=0;y;){var C=m(v,y.key);E.push(y),C>0&&(T=E.length),C<=0?y=y.left:y=y.right}return E.length=T,new c(this,E)},s.le=function(v){for(var m=this._compare,y=this.root,E=[],T=0;y;){var C=m(v,y.key);E.push(y),C>=0&&(T=E.length),C<0?y=y.left:y=y.right}return E.length=T,new c(this,E)},s.find=function(v){for(var m=this._compare,y=this.root,E=[];y;){var T=m(v,y.key);if(E.push(y),T===0)return new c(this,E);T<=0?y=y.left:y=y.right}return new c(this,[])},s.remove=function(v){var m=this.find(v);return m?m.remove():this},s.get=function(v){for(var m=this._compare,y=this.root;y;){var E=m(v,y.key);if(E===0)return y.value;E<=0?y=y.left:y=y.right}};function c(v,m){this.tree=v,this._stack=m}var h=c.prototype;Object.defineProperty(h,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(h,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),h.clone=function(){return new c(this.tree,this._stack.slice())};function d(v,m){v.key=m.key,v.value=m.value,v.left=m.left,v.right=m.right,v._color=m._color,v._count=m._count}function p(v){for(var m,y,E,T,C=v.length-1;C>=0;--C){if(m=v[C],C===0){m._color=e;return}if(y=v[C-1],y.left===m){if(E=y.right,E.right&&E.right._color===t){if(E=y.right=n(E),T=E.right=n(E.right),y.right=E.left,E.left=y,E.right=T,E._color=y._color,m._color=e,y._color=e,T._color=e,o(y),o(E),C>1){var b=v[C-2];b.left===y?b.left=E:b.right=E}v[C-1]=E;return}else if(E.left&&E.left._color===t){if(E=y.right=n(E),T=E.left=n(E.left),y.right=T.left,E.left=T.right,T.left=y,T.right=E,T._color=y._color,y._color=e,E._color=e,m._color=e,o(y),o(E),o(T),C>1){var b=v[C-2];b.left===y?b.left=T:b.right=T}v[C-1]=T;return}if(E._color===e)if(y._color===t){y._color=e,y.right=i(t,E);return}else{y.right=i(t,E);continue}else{if(E=n(E),y.right=E.left,E.left=y,E._color=y._color,y._color=t,o(y),o(E),C>1){var b=v[C-2];b.left===y?b.left=E:b.right=E}v[C-1]=E,v[C]=y,C+1<v.length?v[C+1]=m:v.push(m),C=C+2}}else{if(E=y.left,E.left&&E.left._color===t){if(E=y.left=n(E),T=E.left=n(E.left),y.left=E.right,E.right=y,E.left=T,E._color=y._color,m._color=e,y._color=e,T._color=e,o(y),o(E),C>1){var b=v[C-2];b.right===y?b.right=E:b.left=E}v[C-1]=E;return}else if(E.right&&E.right._color===t){if(E=y.left=n(E),T=E.right=n(E.right),y.left=T.right,E.right=T.left,T.right=y,T.left=E,T._color=y._color,y._color=e,E._color=e,m._color=e,o(y),o(E),o(T),C>1){var b=v[C-2];b.right===y?b.right=T:b.left=T}v[C-1]=T;return}if(E._color===e)if(y._color===t){y._color=e,y.left=i(t,E);return}else{y.left=i(t,E);continue}else{if(E=n(E),y.left=E.right,E.right=y,E._color=y._color,y._color=t,o(y),o(E),C>1){var b=v[C-2];b.right===y?b.right=E:b.left=E}v[C-1]=E,v[C]=y,C+1<v.length?v[C+1]=m:v.push(m),C=C+2}}}}h.remove=function(){var v=this._stack;if(v.length===0)return this.tree;var m=new Array(v.length),y=v[v.length-1];m[m.length-1]=new r(y._color,y.key,y.value,y.left,y.right,y._count);for(var E=v.length-2;E>=0;--E){var y=v[E];y.left===v[E+1]?m[E]=new r(y._color,y.key,y.value,m[E+1],y.right,y._count):m[E]=new r(y._color,y.key,y.value,y.left,m[E+1],y._count)}if(y=m[m.length-1],y.left&&y.right){var T=m.length;for(y=y.left;y.right;)m.push(y),y=y.right;var C=m[T-1];m.push(new r(y._color,C.key,C.value,y.left,y.right,y._count)),m[T-1].key=y.key,m[T-1].value=y.value;for(var E=m.length-2;E>=T;--E)y=m[E],m[E]=new r(y._color,y.key,y.value,y.left,m[E+1],y._count);m[T-1].left=m[T]}if(y=m[m.length-1],y._color===t){var b=m[m.length-2];b.left===y?b.left=null:b.right===y&&(b.right=null),m.pop();for(var E=0;E<m.length;++E)m[E]._count--;return new a(this.tree._compare,m[0])}else if(y.left||y.right){y.left?d(y,y.left):y.right&&d(y,y.right),y._color=e;for(var E=0;E<m.length-1;++E)m[E]._count--;return new a(this.tree._compare,m[0])}else{if(m.length===1)return new a(this.tree._compare,null);for(var E=0;E<m.length;++E)m[E]._count--;var k=m[m.length-2];p(m),k.left===y?k.left=null:k.right=null}return new a(this.tree._compare,m[0])},Object.defineProperty(h,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(h,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(h,"index",{get:function(){var v=0,m=this._stack;if(m.length===0){var y=this.tree.root;return y?y._count:0}else m[m.length-1].left&&(v=m[m.length-1].left._count);for(var E=m.length-2;E>=0;--E)m[E+1]===m[E].right&&(++v,m[E].left&&(v+=m[E].left._count));return v},enumerable:!0}),h.next=function(){var v=this._stack;if(v.length!==0){var m=v[v.length-1];if(m.right)for(m=m.right;m;)v.push(m),m=m.left;else for(v.pop();v.length>0&&v[v.length-1].right===m;)m=v[v.length-1],v.pop()}},Object.defineProperty(h,"hasNext",{get:function(){var v=this._stack;if(v.length===0)return!1;if(v[v.length-1].right)return!0;for(var m=v.length-1;m>0;--m)if(v[m-1].left===v[m])return!0;return!1}}),h.update=function(v){var m=this._stack;if(m.length===0)throw new Error("Can't update empty node!");var y=new Array(m.length),E=m[m.length-1];y[y.length-1]=new r(E._color,E.key,v,E.left,E.right,E._count);for(var T=m.length-2;T>=0;--T)E=m[T],E.left===m[T+1]?y[T]=new r(E._color,E.key,E.value,y[T+1],E.right,E._count):y[T]=new r(E._color,E.key,E.value,E.left,y[T+1],E._count);return new a(this.tree._compare,y[0])},h.prev=function(){var v=this._stack;if(v.length!==0){var m=v[v.length-1];if(m.left)for(m=m.left;m;)v.push(m),m=m.right;else for(v.pop();v.length>0&&v[v.length-1].left===m;)m=v[v.length-1],v.pop()}},Object.defineProperty(h,"hasPrev",{get:function(){var v=this._stack;if(v.length===0)return!1;if(v[v.length-1].left)return!0;for(var m=v.length-1;m>0;--m)if(v[m-1].right===v[m])return!0;return!1}});function g(v,m){return v<m?-1:v>m?1:0}function w(v){return new a(v||g,null)}return el}var tl,xg;function aO(){return xg||(xg=1,tl=function(t,e,r){var n=iO(),i=t,o=function(L){i=L,i.guidelinesTolerance==0&&(i.guidelinesTolerance=.001)},a=function(L){var M=L.getBoundingClientRect();return{top:M.top+document.documentElement.scrollTop,left:M.left+document.documentElement.scrollLeft}},s=r(function(){u(),l.height=e.height(),l.width=e.width(),l.style.position="absolute",l.style.top=0,l.style.left=0,l.style.zIndex=i.guidelinesStackOrder,setTimeout(function(){l.height=e.height(),l.width=e.width();var L=a(l),M=a(f);l.style.top=-(L.top-M.top),l.style.left=-(L.left-M.left)},0)},250),u=function(){var L=e.width(),M=e.height();c.clearRect(0,0,L,M)},l=document.createElement("canvas"),f=e.container(),c=l.getContext("2d");f.appendChild(l);var h=function(){l.height=0,l.width=0,l.style.position="absolute",l.style.top=0,l.style.left=0,l.style.zIndex=i.guidelinesStackOrder};h();var d=null,p=null,g,w,v={},m={},y={h:null,v:null};v.getDims=function(L){var M=L.renderedPosition(),R=L.renderedWidth(),V=L.renderedHeight(),U={left:Number(L.renderedStyle("padding-left").replace("px","")),right:Number(L.renderedStyle("padding-right").replace("px","")),top:Number(L.renderedStyle("padding-top").replace("px","")),bottom:Number(L.renderedStyle("padding-bottom").replace("px",""))};return{horizontal:{center:M.x,left:Math.round(M.x-(U.left+R/2)),right:Math.round(M.x+(U.right+R/2))},vertical:{center:M.y,top:Math.round(M.y-(U.top+V/2)),bottom:Math.round(M.y+(U.bottom+V/2))}}},v.init=function(L){d=n(),p=n(),g||(m.x=e.pan("x"),m.y=e.pan("y"),g=L.renderedPosition());var M=e.nodes(":visible");w=L.union(L.ancestors()),w=w.union(L.descendants()),M.not(w).each(function(R,V){typeof R=="number"&&(R=V);var U=v.getDims(R);["left","center","right"].forEach(function(q){var $=U.horizontal[q];p.get($)?p.get($).push(R):p=p.insert($,[R])}),["top","center","bottom"].forEach(function(q){var $=U.vertical[q];d.get($)?d.get($).push(R):d=d.insert($,[R])})}),c.lineWidth=i.lineWidth,v.update(L)},v.destroy=function(){v.clear(),d=null,p=null,g=null,C={},y={h:null,v:null},P&&(P.unlock(),P=void 0)},v.clear=u,v.drawLine=function(L,M,R,V){c.setLineDash(V),c.beginPath(),c.moveTo(L.x,L.y),c.lineTo(M.x,M.y),c.strokeStyle=R,c.stroke()},v.drawArrow=function(L,M){M=="right"?(c.setLineDash([]),c.beginPath(),c.moveTo(L.x-5,L.y-5),c.lineTo(L.x,L.y),c.lineTo(L.x-5,L.y+5),c.stroke()):M=="left"?(c.setLineDash([]),c.beginPath(),c.moveTo(L.x+5,L.y-5),c.lineTo(L.x,L.y),c.lineTo(L.x+5,L.y+5),c.stroke()):M=="top"?(c.setLineDash([]),c.beginPath(),c.moveTo(L.x-5,L.y+5),c.lineTo(L.x,L.y),c.lineTo(L.x+5,L.y+5),c.stroke()):M=="bottom"&&(c.setLineDash([]),c.beginPath(),c.moveTo(L.x-5,L.y-5),c.lineTo(L.x,L.y),c.lineTo(L.x+5,L.y-5),c.stroke())},v.drawCross=function(L){c.setLineDash([]),c.beginPath(),c.moveTo(L.x-5,L.y+5),c.lineTo(L.x+5,L.y-5),c.moveTo(L.x-5,L.y-5),c.lineTo(L.x+5,L.y+5),c.stroke()};var E=function(L,M){for(var R=L[0],V=v.getDims(R)[M].center,U=L[0],q=v.getDims(U)[M].center,$=0;$<L.length;$++){var X=L[$];v.getDims(X)[M].center<V&&(V=v.getDims(X)[M].center,R=X),v.getDims(X)[M].center>q&&(q=v.getDims(X)[M].center,U=X)}if(M=="horizontal")var B=(V+q)/2<v.getDims(L[1])[M].center?q+(.5*U.width()+i.guidelinesStyle.distGuidelineOffset)*e.zoom():V-(.5*R.width()+i.guidelinesStyle.distGuidelineOffset)*e.zoom();else var B=(V+q)/2<v.getDims(L[1])[M].center?q+(.5*U.height()+i.guidelinesStyle.distGuidelineOffset)*e.zoom():V-(.5*R.height()+i.guidelinesStyle.distGuidelineOffset)*e.zoom();return B};v.horizontalDistribution=function(L){var M=null,R=null,V=v.getDims(L),U=V.horizontal.center,q=V.vertical.center;if(p.forEach(function(B,H){for(var j=0;j<H.length;j++){var K=H[j],te=v.getDims(K);if(Math.abs(te.vertical.center-V.vertical.center)<i.guidelinesStyle.range*e.zoom()&&te.horizontal.right==B&&V.horizontal.left-te.horizontal.right>i.guidelinesStyle.minDistRange){var re=Math.round(2*U)-B;p.forEach(function(ue,se){for(var de=0;de<se.length;de++){var be=se[de];Math.abs(v.getDims(be).vertical.center-q)<i.guidelinesStyle.range*e.zoom()&&Math.abs(re-v.getDims(be).horizontal.left)<2*i.guidelinesTolerance&&(M=K,R=be)}},re-i.guidelinesTolerance,re+i.guidelinesTolerance)}}},U-i.guidelinesStyle.range*e.zoom(),U),M){y.hd=U-(v.getDims(R).horizontal.left+v.getDims(M).horizontal.right)/2,(!i.geometricGuideline||y.h==null||Math.abs(y.h)>Math.abs(y.hd))&&(y.h=y.hd);var $=E([M,L,R],"vertical");v.drawLine({x:v.getDims(M).horizontal.right,y:$},{x:V.horizontal.left,y:$},i.guidelinesStyle.horizontalDistColor,i.guidelinesStyle.horizontalDistLine),v.drawLine({x:v.getDims(R).horizontal.left,y:$},{x:V.horizontal.right,y:$},i.guidelinesStyle.horizontalDistColor,i.guidelinesStyle.horizontalDistLine),v.drawLine({x:v.getDims(M).horizontal.right,y:$},{x:v.getDims(M).horizontal.right,y:v.getDims(M).vertical.center},i.guidelinesStyle.horizontalDistColor,i.guidelinesStyle.horizontalDistLine),v.drawLine({x:v.getDims(R).horizontal.left,y:$},{x:v.getDims(R).horizontal.left,y:v.getDims(R).vertical.center},i.guidelinesStyle.horizontalDistColor,i.guidelinesStyle.horizontalDistLine),v.drawLine({x:V.horizontal.left,y:$},{x:V.horizontal.left,y:q},i.guidelinesStyle.horizontalDistColor,i.guidelinesStyle.horizontalDistLine),v.drawLine({x:V.horizontal.right,y:$},{x:V.horizontal.right,y:q},i.guidelinesStyle.horizontalDistColor,i.guidelinesStyle.horizontalDistLine),v.drawArrow({x:v.getDims(M).horizontal.right,y:$},"left"),v.drawArrow({x:V.horizontal.left,y:$},"right"),v.drawArrow({x:V.horizontal.right,y:$},"left"),v.drawArrow({x:v.getDims(R).horizontal.left,y:$},"right")}else{var X=v.horizontalDistributionNext(L,"left");X||v.horizontalDistributionNext(L,"right")}},v.verticalDistribution=function(L){var M=null,R=null,V=v.getDims(L),U=V.horizontal.center,q=V.vertical.center;if(d.forEach(function(B,H){for(var j=0;j<H.length;j++){var K=H[j],te=v.getDims(K);if(Math.abs(te.horizontal.center-V.horizontal.center)<i.guidelinesStyle.range*e.zoom()&&te.vertical.bottom==B&&V.vertical.top-te.vertical.bottom>i.guidelinesStyle.minDistRange){var re=Math.round(2*q-B);d.forEach(function(ue,se){for(var de=0;de<se.length;de++){var be=se[de];Math.abs(v.getDims(be).horizontal.center-U)<i.guidelinesStyle.range*e.zoom()&&Math.abs(re-v.getDims(be).vertical.top)<2*i.guidelinesTolerance&&(M=K,R=be)}},re-i.guidelinesTolerance,re+i.guidelinesTolerance)}}},q-i.guidelinesStyle.range*e.zoom(),q),M){y.vd=q-(v.getDims(M).vertical.bottom+v.getDims(R).vertical.top)/2,(!i.geometricGuideline||y.v==null||Math.abs(y.v)>Math.abs(y.vd))&&(y.v=y.vd);var $=E([M,L,R],"horizontal");v.drawLine({y:v.getDims(M).vertical.bottom,x:$},{y:V.vertical.top,x:$},i.guidelinesStyle.verticalDistColor,i.guidelinesStyle.verticalDistLine),v.drawLine({y:v.getDims(R).vertical.top,x:$},{y:V.vertical.bottom,x:$},i.guidelinesStyle.verticalDistColor,i.guidelinesStyle.verticalDistLine),v.drawLine({y:v.getDims(M).vertical.bottom,x:$},{y:v.getDims(M).vertical.bottom,x:v.getDims(M).horizontal.center},i.guidelinesStyle.verticalDistColor,i.guidelinesStyle.verticalDistLine),v.drawLine({y:v.getDims(R).vertical.top,x:$},{y:v.getDims(R).vertical.top,x:v.getDims(R).horizontal.center},i.guidelinesStyle.verticalDistColor,i.guidelinesStyle.verticalDistLine),v.drawLine({y:V.vertical.bottom,x:$},{y:V.vertical.bottom,x:U},i.guidelinesStyle.verticalDistColor,i.guidelinesStyle.verticalDistLine),v.drawLine({y:V.vertical.top,x:$},{y:V.vertical.top,x:U},i.guidelinesStyle.verticalDistColor,i.guidelinesStyle.verticalDistLine),v.drawArrow({x:$,y:v.getDims(M).vertical.bottom},"top"),v.drawArrow({x:$,y:V.vertical.top},"bottom"),v.drawArrow({x:$,y:v.getDims(R).vertical.top},"bottom"),v.drawArrow({x:$,y:V.vertical.bottom},"top")}else{var X=v.verticalDistributionNext(L,"below");X||v.verticalDistributionNext(L,"above")}},v.searchForLine=function(L,M){var R,V,U,q,$,X,B,H=v.getDims(M)[L],j=Number.MAX_SAFE_INTEGER;L=="horizontal"?(X=p,q="y",$="x",y.h=null):(X=d,q="x",$="y",y.v=null),U=M.renderedPosition(q);for(var K in H)if(R=H[K],X.forEach(function(te,re){for(var ue=0;ue<re.length;ue++){var se=re[ue];if(i.centerToEdgeAlignment||K!="center"&&se.renderedPosition($)!=te||K=="center"&&se.renderedPosition($)==te){var de=Math.abs(U-se.renderedPosition(q));de<j&&de<i.guidelinesStyle.geometricGuidelineRange*e.zoom()&&(V=se,j=de,B=te)}}},R-Number(i.guidelinesTolerance),R+Number(i.guidelinesTolerance)),V){j=v.getDims(M)[L][K],L=="horizontal"?(y.h=j-B,v.drawLine({x:j,y:M.renderedPosition("y")},{x:j,y:V.renderedPosition("y")},i.guidelinesStyle.strokeStyle,i.guidelinesStyle.lineDash)):(y.v=j-B,v.drawLine({x:M.renderedPosition("x"),y:j},{x:V.renderedPosition("x"),y:j},i.guidelinesStyle.strokeStyle,i.guidelinesStyle.lineDash));break}},v.horizontalDistributionNext=function(L,M){var R=null,V=null,U=v.getDims(L),q=U.horizontal.center,$=U.vertical.center,X="right",B="left",H=q;if(M=="left"){X="left",B="right";var H=q-i.guidelinesStyle.range*e.zoom()}var j={left:function(K,te){return te-K>i.guidelinesStyle.minDistRange},right:function(K,te){return K-te>i.guidelinesStyle.minDistRange}};return p.forEach(function(K,te){for(var re=0;re<te.length;re++){var ue=te[re],se=v.getDims(ue);if(Math.abs(se.vertical.center-U.vertical.center)<i.guidelinesStyle.range*e.zoom()&&se.horizontal[B]==K&&j[M](se.horizontal[B],U.horizontal[X])){var de=se.horizontal[X]-(U.horizontal[X]-K);p.forEach(function(be,z){for(var ae=0;ae<z.length;ae++){var Z=z[ae];Math.abs(v.getDims(Z).vertical.center-$)<i.guidelinesStyle.range*e.zoom()&&Math.abs(de-v.getDims(Z).horizontal[B])<2*i.guidelinesTolerance&&(R=ue,V=Z)}},de-i.guidelinesTolerance,de+i.guidelinesTolerance)}}},H,H+i.guidelinesStyle.range*e.zoom()),R?(y.hd=v.getDims(L).horizontal[X]-v.getDims(R).horizontal[B]-(v.getDims(R).horizontal[X]-v.getDims(V).horizontal[B]),(!i.geometricGuideline||y.h==null||Math.abs(y.h)>Math.abs(y.hd))&&(y.h=y.hd),v.drawDH(L,R,V,M),!0):(i.geometricGuideline||(y.h=null),!1)},v.drawDH=function(L,M,R,V){var U=v.getDims(L).vertical.center,q="right",$="left";V=="left"&&(q="left",$="right");var X=E([M,L,R],"vertical");v.drawLine({x:v.getDims(M).horizontal[$],y:X},{x:v.getDims(L).horizontal[q],y:X},i.guidelinesStyle.horizontalDistColor,i.guidelinesStyle.horizontalDistLine),v.drawLine({x:v.getDims(L).horizontal[q],y:X},{x:v.getDims(L).horizontal[q],y:U},i.guidelinesStyle.horizontalDistColor,i.guidelinesStyle.horizontalDistLine),v.drawLine({x:v.getDims(R).horizontal[$],y:X},{x:v.getDims(M).horizontal[q],y:X},i.guidelinesStyle.horizontalDistColor,i.guidelinesStyle.horizontalDistLine),v.drawLine({x:v.getDims(R).horizontal[$],y:X},{x:v.getDims(R).horizontal[$],y:v.getDims(R).vertical.center},i.guidelinesStyle.horizontalDistColor,i.guidelinesStyle.horizontalDistLine),v.drawLine({x:v.getDims(M).horizontal[$],y:X},{x:v.getDims(M).horizontal[$],y:v.getDims(M).vertical.center},i.guidelinesStyle.horizontalDistColor,i.guidelinesStyle.horizontalDistLine),v.drawLine({x:v.getDims(M).horizontal[q],y:X},{x:v.getDims(M).horizontal[q],y:v.getDims(M).vertical.center},i.guidelinesStyle.horizontalDistColor,i.guidelinesStyle.horizontalDistLine),v.drawArrow({x:v.getDims(L).horizontal[q],y:X},$),v.drawArrow({x:v.getDims(M).horizontal[$],y:X},q),v.drawArrow({x:v.getDims(M).horizontal[q],y:X},$),v.drawArrow({x:v.getDims(R).horizontal[$],y:X},q)},v.verticalDistributionNext=function(L,M){var R=null,V=null,U=v.getDims(L),q=U.horizontal.center,$=U.vertical.center,X="top",B="bottom",H=$-i.guidelinesStyle.range*e.zoom();M=="above"&&(X="bottom",B="top",H=$);var j={below:function(K,te){return te-K>i.guidelinesStyle.minDistRange},above:function(K,te){return K-te>i.guidelinesStyle.minDistRange}};return d.forEach(function(K,te){for(var re=0;re<te.length;re++){var ue=te[re],se=v.getDims(ue);if(Math.abs(se.horizontal.center-U.horizontal.center)<i.guidelinesStyle.range*e.zoom()&&se.vertical[B]==K&&j[M](se.vertical[B],U.vertical[X])){var de=se.vertical[X]-(U.vertical[X]-K);d.forEach(function(be,z){for(var ae=0;ae<z.length;ae++){var Z=z[ae];Math.abs(v.getDims(Z).horizontal.center-q)<i.guidelinesStyle.range*e.zoom()&&Math.abs(de-v.getDims(Z).vertical[B])<2*i.guidelinesTolerance&&(R=ue,V=Z)}},de-i.guidelinesTolerance,de+i.guidelinesTolerance)}}},H,H+i.guidelinesStyle.range*e.zoom()),R?(y.vd=v.getDims(L).vertical[X]-v.getDims(R).vertical[B]-(v.getDims(R).vertical[X]-v.getDims(V).vertical[B]),(!i.geometricGuideline||y.v==null||Math.abs(y.v)>Math.abs(y.vd))&&(y.v=y.vd),v.drawDV(L,R,V,M),!0):(i.geometricGuideline||(y.v=null),!1)},v.drawDV=function(L,M,R,V){var U=v.getDims(L),q=U.horizontal.center,$="top",X="bottom";V=="above"&&($="bottom",X="top");var B=E([M,L,R],"horizontal");v.drawLine({x:B,y:U.vertical[$]},{x:B,y:v.getDims(M).vertical[X]},i.guidelinesStyle.verticalDistColor,i.guidelinesStyle.verticalDistLine),v.drawLine({x:B,y:v.getDims(M).vertical[$]},{x:B,y:v.getDims(R).vertical[X]},i.guidelinesStyle.verticalDistColor,i.guidelinesStyle.verticalDistLine),v.drawLine({x:q,y:U.vertical[$]},{x:B,y:U.vertical[$]},i.guidelinesStyle.verticalDistColor,i.guidelinesStyle.verticalDistLine),v.drawLine({x:v.getDims(M).horizontal.center,y:v.getDims(M).vertical[X]},{x:B,y:v.getDims(M).vertical[X]},i.guidelinesStyle.verticalDistColor,i.guidelinesStyle.verticalDistLine),v.drawLine({x:v.getDims(M).horizontal.center,y:v.getDims(M).vertical[$]},{x:B,y:v.getDims(M).vertical[$]},i.guidelinesStyle.verticalDistColor,i.guidelinesStyle.verticalDistLine),v.drawLine({x:B,y:v.getDims(R).vertical[X]},{x:v.getDims(R).horizontal.center,y:v.getDims(R).vertical[X]},i.guidelinesStyle.verticalDistColor,i.guidelinesStyle.verticalDistLine),v.drawArrow({x:B,y:U.vertical[$]},X),v.drawArrow({x:B,y:v.getDims(M).vertical[X]},$),v.drawArrow({x:B,y:v.getDims(M).vertical[$]},X),v.drawArrow({x:B,y:v.getDims(R).vertical[X]},$)},v.update=function(L){v.clear(),i.initPosAlignment&&O(L),L.each(function(M,R){typeof M=="number"&&(M=R),i.geometricGuideline&&(v.searchForLine("horizontal",M),v.searchForLine("vertical",M)),i.distributionGuidelines&&(v.horizontalDistribution(M),v.verticalDistribution(M))})},v.resize=function(){s()};function T(L){for(var M={},R=0;R<L.length;R++)M[L[R].id()]=!0;var V=L.filter(function(U,q){typeof U=="number"&&(U=q);for(var $=U.parent()[0];$!=null;){if(M[$.id()])return!1;$=$.parent()[0]}return!0});return V}var C={},b={},k=function(L){C=L.renderedPosition||L.cyRenderedPosition,b.x=C.x,b.y=C.y},S=function(L){b.x+=L.x-m.x,b.y+=L.y-m.y,m.x=L.x,m.y=L.y},O=function(L){var M=L.renderedPosition();Math.abs(g.y-M.y)<i.guidelinesTolerance?(v.drawLine({x:b.x,y:C.y},{x:M.x,y:C.y},i.guidelinesStyle.initPosAlignmentColor,i.guidelinesStyle.initPosAlignmentLine),C.y==b.y?v.drawCross(b):v.drawCross(C)):Math.abs(g.x-M.x)<i.guidelinesTolerance&&(v.drawLine({x:C.x,y:b.y},{x:C.x,y:M.y},i.guidelinesStyle.initPosAlignmentColor,i.guidelinesStyle.initPosAlignmentLine),C.x==b.x?v.drawCross(b):v.drawCross(C))};function N(L,M){var R=T(M),V=R.union(R.descendants());V.filter(":childless").forEach(function(U,q){typeof U=="number"&&(U=q);var $={x:L.x+U.renderedPosition("x"),y:L.y+U.renderedPosition("y")};U.renderedPosition($)})}var D;e.on("tapstart","node",function(){D=this});var I,x={x:0,y:0};e.on("mousemove",function(L){I=L.renderedPosition||L.cyRenderedPosition,P&&P.each(function(M,R){if(typeof M=="number"&&(M=R),M.locked()&&(Math.abs(I.x-x.x)>2*i.guidelinesTolerance||Math.abs(I.y-x.y)>2*i.guidelinesTolerance)){M.unlock();var V={};V.x=I.x-D.renderedPosition("x"),V.y=I.y-D.renderedPosition("y"),N(V,M)}})});var P;return v.snapToAlignmentLocation=function(L){P=L,L.each(function(M,R){typeof M=="number"&&(M=R);var V=M.renderedPosition();y.h&&(x=I,V.x-=y.h,M.renderedPosition(V)),y.v&&(x=I,V.y-=y.v,M.renderedPosition(V)),(y.v||y.h)&&(y.h=null,y.v=null,P.lock())}),v.update(L)},{changeOptions:o,lines:v,getTopMostNodes:T,getMousePos:k,setMousePos:S,resizeCanvas:s,resetCanvas:h}}),tl}var rl,_g;function oO(){return _g||(_g=1,rl=function(t,e){var r=t,n="_gridParentPadding",i;function o(){e.style().selector("."+n).style("compound-sizing-wrt-labels","exclude").style("padding-left",i).style("padding-right",i).style("padding-top",i).style("padding-bottom",i).update()}function a(u){r=u,i=r.parentSpacing<0?r.gridSpacing:r.parentSpacing,o()}function s(u,l){l?u.addClass(n):u.removeClass(n)}return{changeOptions:a,setPaddingOfParent:s}}),rl}var nl,Cg;function sO(){return Cg||(Cg=1,nl=function(t,e,r){function n(u,l,f){var c=u.union(u.descendants());c.filter(":childless").positions(function(h,d){typeof h=="number"&&(h=d);var p=h.position();return{x:p.x+l,y:p.y+f}})}function i(u){for(var l={},f=0;f<u.length;f++)l[u[f].id()]=!0;var c=u.filter(function(h,d){typeof h=="number"&&(h=d);for(var p=h.parent()[0];p!=null;){if(l[p.id()])return!1;p=p.parent()[0]}return!0});return c}if(r||t("collection","align",function(u,l,f){var c=i(this.nodes(":visible")),h=f||c[0];c=c.not(h),u=u||"none",l=l||"none";var d=0,p=0;l=="left"?d=-1:l=="right"&&(d=1),u=="top"?p=-1:u=="bottom"&&(p=1);for(var g=0;g<c.length;g++){var w=c[g],v=Object.assign({},w.position()),m=Object.assign({},w.position());l!="none"&&(m.x=h.position("x")+d*(h.outerWidth()-w.outerWidth())/2),u!="none"&&(m.y=h.position("y")+p*(h.outerHeight()-w.outerHeight())/2),n(w,m.x-v.x,m.y-v.y)}return this}),e.undoRedo){let u=function(){for(var f={},c=e.nodes(),h=0;h<c.length;h++){var d=c[h];f[d.id()]={x:d.position("x"),y:d.position("y")}}return f},l=function(f){var c={};return e.nodes().not(":parent").positions(function(h,d){typeof h=="number"&&(h=d),c[h.id()]={x:h.position("x"),y:h.position("y")};var p=f[h.id()];return{x:p.x,y:p.y}}),c};var a=u,s=l,o=e.undoRedo(null,!0);o.action("align",function(f){var c;return f.firstTime?(c=u(),f.nodes.align(f.horizontal,f.vertical,f.alignTo)):c=l(f),c},function(f){return l(f)})}}),nl}var il,Tg;function uO(){if(Tg)return il;Tg=1;var t=function(){var e="Expected a function",r=Math.max,n=Date.now,i=n||function(){return new Date().getTime()};function o(s,u,l){var f,c,h,d,p,g,w,v=0,m=!1,y=!0;if(typeof s!="function")throw new TypeError(e);if(u=u<0?0:+u||0,l===!0){var E=!0;y=!1}else a(l)&&(E=!!l.leading,m="maxWait"in l&&r(+l.maxWait||0,u),y="trailing"in l?!!l.trailing:y);function T(){g&&clearTimeout(g),c&&clearTimeout(c),v=0,c=g=w=void 0}function C(O,N){N&&clearTimeout(N),c=g=w=void 0,O&&(v=i(),h=s.apply(p,f),!g&&!c&&(f=p=void 0))}function b(){var O=u-(i()-d);O<=0||O>u?C(w,c):g=setTimeout(b,O)}function k(){C(y,g)}function S(){if(f=arguments,d=i(),p=this,w=y&&(g||!E),m===!1)var O=E&&!g;else{!c&&!E&&(v=d);var N=m-(d-v),D=N<=0||N>m;D?(c&&(c=clearTimeout(c)),v=d,h=s.apply(p,f)):c||(c=setTimeout(k,N))}return D&&g?g=clearTimeout(g):!g&&u!==m&&(g=setTimeout(b,u)),O&&(D=!0,h=s.apply(p,f)),D&&!g&&!c&&(f=p=void 0),h}return S.cancel=T,S}function a(s){var u=typeof s;return!!s&&(u=="object"||u=="function")}return o}();return il=t,il}(function(t){(function(){var e=function(r){if(!r)return;QM();var n=!1,i={snapToGridOnRelease:!0,snapToGridDuringDrag:!1,snapToAlignmentLocationOnRelease:!1,snapToAlignmentLocationDuringDrag:!1,distributionGuidelines:!1,geometricGuideline:!1,initPosAlignment:!1,centerToEdgeAlignment:!1,resize:!1,parentPadding:!1,drawGrid:!0,gridSpacing:20,snapToGridCenter:!0,zoomDash:!0,panGrid:!1,gridStackOrder:-1,gridColor:"#dedede",lineWidth:1,guidelinesStackOrder:4,guidelinesTolerance:2,guidelinesStyle:{strokeStyle:"#8b7d6b",geometricGuidelineRange:400,range:100,minDistRange:10,distGuidelineOffset:10,horizontalDistColor:"#ff0000",verticalDistColor:"#00ff00",initPosAlignmentColor:"#0000ff",lineDash:[0,0],horizontalDistLine:[0,0],verticalDistLine:[0,0],initPosAlignmentLine:[0,0]},parentSpacing:-1},o=JM(),a=eO(),s=tO(),u=rO(),l=nO(),f=aO(),c=oO(),h=sO(),d=uO();function p(g){return g.scratch("_gridGuide")||g.scratch("_gridGuide",{}),g.scratch("_gridGuide")}r("core","gridGuide",function(g){var w=this,v=p(w),m=Object.extend({},v.options||i,g);if(v.options=m,v.initialized){var b=v.eventsController;b.syncWithOptions(m)}else{var y,E,T,C,b,k,S;y=o(w,m.gridSpacing,m.snapToGridCenter),E=u(m.gridSpacing),T=a(w,y),C=s(m,w,d),k=f(m,w,d),S=c(m,w),b=l(w,y,E,T,C,k,S,m),h(r,w,n),n=!0,b.init(m),v.initialized=!0,v.eventsController=b}return this})};t.exports&&(t.exports=e),typeof cytoscape<"u"&&e(cytoscape)})()})(BE);var lO=BE.exports;const fO=qn(lO),ha=[];function cO(t,e){return{subscribe:ai(t,e).subscribe}}function ai(t,e=Lt){let r;const n=new Set;function i(s){if(St(t,s)&&(t=s,r)){const u=!ha.length;for(const l of n)l[1](),ha.push(l,t);if(u){for(let l=0;l<ha.length;l+=2)ha[l][0](ha[l+1]);ha.length=0}}}function o(s){i(s(t))}function a(s,u=Lt){const l=[s,u];return n.add(l),n.size===1&&(r=e(i)||Lt),s(t),()=>{n.delete(l),n.size===0&&r&&(r(),r=null)}}return{set:i,update:o,subscribe:a}}function hO(t,e,r){const n=!Array.isArray(t),i=n?[t]:t,o=e.length<2;return cO(r,a=>{let s=!1;const u=[];let l=0,f=Lt;const c=()=>{if(l)return;f();const d=e(n?u[0]:u,a);o?a(d):f=Gs(d)?d:Lt},h=i.map((d,p)=>Hd(d,g=>{u[p]=g,l&=~(1<<p),s&&c()},()=>{l|=1<<p}));return s=!0,c(),function(){zn(h),f(),s=!1}})}const tr=ai(null),qE=ai(null),ko=ai(null);let sr=ai({meanStruc:"default",intOvFree:!0,intLvFree:!1,view:"est",estimator:"ML",se:"default",missing:"listwise",n_boot:1e3,showLav:!0,showVar:!0,fix_first:!0,fix_single:!0,auto_var:!0,auto_cov_lv_x:!0,auto_cov_y:!0,fixed_x:!0,std:!1}),Qn=ai({lastFitModel:null,lastFitLavFit:null,lastFitData:null}),wt=ai({fitting:!1,loadingMode:!1,runCounter:0,modelEmpty:!0,dataAvail:!1,columnNames:null,loadedFileName:null,ids:null,result:"none",dragged:null,drawing:!1,full:!0,ready:!1,parsedModel:!1,meansModelled:null}),ka=ai(0);const dO=hO(wt,t=>t.columnNames),$E=ai({type:"info",message:"",key:0});function En(t,e){$E.update(r=>({type:t,message:e,key:r.key+1}))}En("info","Greetings");function vO(t){fO(Rn);let e=Ut(tr);var r={snapToGridOnRelease:!1,snapToGridDuringDrag:!1,snapToAlignmentLocationOnRelease:!1,snapToAlignmentLocationDuringDrag:!1,distributionGuidelines:!0,geometricGuideline:!0,initPosAlignment:!1,centerToEdgeAlignment:!1,resize:!1,parentPadding:!1,drawGrid:!1,guidelinesStackOrder:4,guidelinesTolerance:2,guidelinesStyle:{strokeStyle:"#8b7d6b",geometricGuidelineRange:400,range:100,minDistRange:10,distGuidelineOffset:10,horizontalDistColor:"#ff0000",verticalDistColor:"#00ff00",initPosAlignmentColor:"#0000ff",lineDash:[0,0],horizontalDistLine:[0,0],verticalDistLine:[0,0],initPosAlignmentLine:[0,0]},parentSpacing:-1};return Di(()=>{e.gridGuide(r)}),[]}class pO extends At{constructor(e){super(),kt(this,e,vO,null,St,{})}}const GE=[{selector:"node",style:{width:"80",height:"80","background-color":"white","border-color":"grey","border-width":"2px",label:"data(label)","text-valign":"center","text-halign":"center"}},{selector:"node.observed-variable",style:{shape:"rectangle"}},{selector:"node.latent-variable",style:{shape:"ellipse","border-color":"black"}},{selector:"node.constant",style:{shape:"triangle",label:"1","text-valign":"center","text-margin-y":"10px","border-color":"black"}},{selector:"node.linked",style:{"border-color":"black"}},{selector:"edge",style:{width:3,"line-color":"#000","target-arrow-color":"#000","source-arrow-color":"#000","target-arrow-shape":"triangle","curve-style":"bezier","text-valign":"center","text-halign":"center","text-wrap":"wrap","text-max-width":80,"font-size":"14px","z-index":10,color:"#000","text-outline-color":"#fff","text-outline-width":"2px","text-background-color":"#fff","text-background-opacity":1,"text-background-padding":"4px","edge-text-rotation":"autorotate"}},{selector:"edge.loop",style:{"curve-style":"bezier","loop-direction":0,"loop-sweep":.8,"target-arrow-shape":"triangle","source-arrow-shape":"triangle","target-arrow-fill":"filled","source-arrow-fill":"filled","target-arrow-color":"#000","source-arrow-color":"#000","control-point-step-size":60}},{selector:"edge.undirected",style:{"curve-style":"unbundled-bezier","control-point-distances":[-100],"control-point-weights":[.5],"target-arrow-shape":"triangle","source-arrow-shape":"triangle"}},{selector:"edge.undirected.fromLav",style:{"control-point-distances":[100]}},{selector:"edge.label, edge.label",style:{label:function(t){return t.data("label")}}},{selector:"edge.fixed.label",style:{label:function(t){return t.data("label")+"@"+t.data("value")}}},{selector:"edge.fixed.nolabel",style:{label:function(t){return"@"+t.data("value")}}},{selector:"edge.forcefree",style:{"line-color":"blue"}},{selector:"edge.fromLav, edge.byLav",style:{"line-style":"dashed"}},{selector:"edge:selected",style:{"line-color":"red","target-arrow-color":"red","source-arrow-color":"red"}},{selector:"node:selected",style:{"border-color":"red"}}],lo={autoungrabify:!1,autolock:!1,style:GE,minZoom:.2,maxZoom:5},gO={preview:!1,hoverDelay:150,handleNodes:"node",snap:!0,handleColor:"#ff0000",handleSize:10,canConnect:function(t,e){return!cy.elements('edge[source = "'+t.id()+'"][target = "'+e.id()+'"]').length}};var HE={exports:{}},al,Sg;function mO(){if(Sg)return al;Sg=1;var t="Expected a function",e="__lodash_hash_undefined__",r="[object Function]",n="[object GeneratorFunction]",i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,a=typeof It=="object"&&It&&It.Object===Object&&It,s=typeof self=="object"&&self&&self.Object===Object&&self,u=a||s||Function("return this")();function l(Z,W){return Z==null?void 0:Z[W]}function f(Z){var W=!1;if(Z!=null&&typeof Z.toString!="function")try{W=!!(Z+"")}catch{}return W}var c=Array.prototype,h=Function.prototype,d=Object.prototype,p=u["__core-js_shared__"],g=function(){var Z=/[^.]+$/.exec(p&&p.keys&&p.keys.IE_PROTO||"");return Z?"Symbol(src)_1."+Z:""}(),w=h.toString,v=d.hasOwnProperty,m=d.toString,y=RegExp("^"+w.call(v).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),E=c.splice,T=te(u,"Map"),C=te(Object,"create");function b(Z){var W=-1,Y=Z?Z.length:0;for(this.clear();++W<Y;){var ie=Z[W];this.set(ie[0],ie[1])}}function k(){this.__data__=C?C(null):{}}function S(Z){return this.has(Z)&&delete this.__data__[Z]}function O(Z){var W=this.__data__;if(C){var Y=W[Z];return Y===e?void 0:Y}return v.call(W,Z)?W[Z]:void 0}function N(Z){var W=this.__data__;return C?W[Z]!==void 0:v.call(W,Z)}function D(Z,W){var Y=this.__data__;return Y[Z]=C&&W===void 0?e:W,this}b.prototype.clear=k,b.prototype.delete=S,b.prototype.get=O,b.prototype.has=N,b.prototype.set=D;function I(Z){var W=-1,Y=Z?Z.length:0;for(this.clear();++W<Y;){var ie=Z[W];this.set(ie[0],ie[1])}}function x(){this.__data__=[]}function P(Z){var W=this.__data__,Y=H(W,Z);if(Y<0)return!1;var ie=W.length-1;return Y==ie?W.pop():E.call(W,Y,1),!0}function L(Z){var W=this.__data__,Y=H(W,Z);return Y<0?void 0:W[Y][1]}function M(Z){return H(this.__data__,Z)>-1}function R(Z,W){var Y=this.__data__,ie=H(Y,Z);return ie<0?Y.push([Z,W]):Y[ie][1]=W,this}I.prototype.clear=x,I.prototype.delete=P,I.prototype.get=L,I.prototype.has=M,I.prototype.set=R;function V(Z){var W=-1,Y=Z?Z.length:0;for(this.clear();++W<Y;){var ie=Z[W];this.set(ie[0],ie[1])}}function U(){this.__data__={hash:new b,map:new(T||I),string:new b}}function q(Z){return K(this,Z).delete(Z)}function $(Z){return K(this,Z).get(Z)}function X(Z){return K(this,Z).has(Z)}function B(Z,W){return K(this,Z).set(Z,W),this}V.prototype.clear=U,V.prototype.delete=q,V.prototype.get=$,V.prototype.has=X,V.prototype.set=B;function H(Z,W){for(var Y=Z.length;Y--;)if(be(Z[Y][0],W))return Y;return-1}function j(Z){if(!ae(Z)||ue(Z))return!1;var W=z(Z)||f(Z)?y:o;return W.test(se(Z))}function K(Z,W){var Y=Z.__data__;return re(W)?Y[typeof W=="string"?"string":"hash"]:Y.map}function te(Z,W){var Y=l(Z,W);return j(Y)?Y:void 0}function re(Z){var W=typeof Z;return W=="string"||W=="number"||W=="symbol"||W=="boolean"?Z!=="__proto__":Z===null}function ue(Z){return!!g&&g in Z}function se(Z){if(Z!=null){try{return w.call(Z)}catch{}try{return Z+""}catch{}}return""}function de(Z,W){if(typeof Z!="function"||W&&typeof W!="function")throw new TypeError(t);var Y=function(){var ie=arguments,ve=W?W.apply(this,ie):ie[0],me=Y.cache;if(me.has(ve))return me.get(ve);var fe=Z.apply(this,ie);return Y.cache=me.set(ve,fe),fe};return Y.cache=new(de.Cache||V),Y}de.Cache=V;function be(Z,W){return Z===W||Z!==Z&&W!==W}function z(Z){var W=ae(Z)?m.call(Z):"";return W==r||W==n}function ae(Z){var W=typeof Z;return!!Z&&(W=="object"||W=="function")}return al=de,al}var ol,Dg;function yO(){if(Dg)return ol;Dg=1;var t="Expected a function",e=0/0,r="[object Symbol]",n=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt,u=typeof It=="object"&&It&&It.Object===Object&&It,l=typeof self=="object"&&self&&self.Object===Object&&self,f=u||l||Function("return this")(),c=Object.prototype,h=c.toString,d=Math.max,p=Math.min,g=function(){return f.Date.now()};function w(C,b,k){var S,O,N,D,I,x,P=0,L=!1,M=!1,R=!0;if(typeof C!="function")throw new TypeError(t);b=T(b)||0,m(k)&&(L=!!k.leading,M="maxWait"in k,N=M?d(T(k.maxWait)||0,b):N,R="trailing"in k?!!k.trailing:R);function V(te){var re=S,ue=O;return S=O=void 0,P=te,D=C.apply(ue,re),D}function U(te){return P=te,I=setTimeout(X,b),L?V(te):D}function q(te){var re=te-x,ue=te-P,se=b-re;return M?p(se,N-ue):se}function $(te){var re=te-x,ue=te-P;return x===void 0||re>=b||re<0||M&&ue>=N}function X(){var te=g();if($(te))return B(te);I=setTimeout(X,q(te))}function B(te){return I=void 0,R&&S?V(te):(S=O=void 0,D)}function H(){I!==void 0&&clearTimeout(I),P=0,S=x=O=I=void 0}function j(){return I===void 0?D:B(g())}function K(){var te=g(),re=$(te);if(S=arguments,O=this,x=te,re){if(I===void 0)return U(x);if(M)return I=setTimeout(X,b),V(x)}return I===void 0&&(I=setTimeout(X,b)),D}return K.cancel=H,K.flush=j,K}function v(C,b,k){var S=!0,O=!0;if(typeof C!="function")throw new TypeError(t);return m(k)&&(S="leading"in k?!!k.leading:S,O="trailing"in k?!!k.trailing:O),w(C,b,{leading:S,maxWait:b,trailing:O})}function m(C){var b=typeof C;return!!C&&(b=="object"||b=="function")}function y(C){return!!C&&typeof C=="object"}function E(C){return typeof C=="symbol"||y(C)&&h.call(C)==r}function T(C){if(typeof C=="number")return C;if(E(C))return e;if(m(C)){var b=typeof C.valueOf=="function"?C.valueOf():C;C=m(b)?b+"":b}if(typeof C!="string")return C===0?C:+C;C=C.replace(n,"");var k=o.test(C);return k||a.test(C)?s(C.slice(2),k?2:8):i.test(C)?e:+C}return ol=v,ol}(function(t,e){(function(n,i){t.exports=i(mO(),yO())})(It,function(r,n){return function(i){var o={};function a(s){if(o[s])return o[s].exports;var u=o[s]={i:s,l:!1,exports:{}};return i[s].call(u.exports,u,u.exports,a),u.l=!0,u.exports}return a.m=i,a.c=o,a.i=function(s){return s},a.d=function(s,u,l){a.o(s,u)||Object.defineProperty(s,u,{configurable:!1,enumerable:!0,get:l})},a.n=function(s){var u=s&&s.__esModule?function(){return s.default}:function(){return s};return a.d(u,"a",u),u},a.o=function(s,u){return Object.prototype.hasOwnProperty.call(s,u)},a.p="",a(a.s=12)}([function(i,o,a){i.exports=Object.assign!=null?Object.assign.bind(Object):function(s){for(var u=arguments.length,l=Array(u>1?u-1:0),f=1;f<u;f++)l[f-1]=arguments[f];return l.filter(function(c){return c!=null}).forEach(function(c){Object.keys(c).forEach(function(h){return s[h]=c[h]})}),s}},function(i,o,a){var s=a(10),u=a(0);i.exports=function(l){var f=this;return new s(u({cy:f},l))}},function(i,o,a){function s(){if(this.saveGestureState(),this.cy.zoomingEnabled(!1).panningEnabled(!1).boxSelectionEnabled(!1),this.options.disableBrowserGestures){var f=this.windowListenerOptions;window.addEventListener("touchstart",this.preventDefault,f),window.addEventListener("touchmove",this.preventDefault,f),window.addEventListener("wheel",this.preventDefault,f)}return this}function u(){if(this.cy.zoomingEnabled(this.lastZoomingEnabled).panningEnabled(this.lastPanningEnabled).boxSelectionEnabled(this.lastBoxSelectionEnabled),this.options.disableBrowserGestures){var f=this.windowListenerOptions;window.removeEventListener("touchstart",this.preventDefault,f),window.removeEventListener("touchmove",this.preventDefault,f),window.removeEventListener("wheel",this.preventDefault,f)}return this}function l(){var f=this.cy;return this.lastPanningEnabled=f.panningEnabled(),this.lastZoomingEnabled=f.zoomingEnabled(),this.lastBoxSelectionEnabled=f.boxSelectionEnabled(),this}i.exports={disableGestures:s,resetGestures:u,saveGestureState:l}},function(i,o,a){function s(){var u=this,l=this.cy,f=this.options;return this.addListener(l,"drag",function(){return u.grabbingNode=!0}),this.addListener(l,"free",function(){return u.grabbingNode=!1}),this.addListener(l,"tapstart","node",function(c){var h=c.target;u.drawMode&&u.start(h)}),this.addListener(l,"tapdrag",function(c){u.update(c.position)}),this.addListener(l,"tapdragover","node",function(c){f.snap||u.preview(c.target)}),this.addListener(l,"tapdragout","node",function(c){f.snap||u.unpreview(c.target)}),this.addListener(l,"tapend",function(){u.stop()}),this}i.exports={addCytoscapeListeners:s}},function(i,o,a){var s={canConnect:function(l,f){return!l.same(f)},edgeParams:function(l,f){return{}},hoverDelay:150,snap:!0,snapThreshold:50,snapFrequency:15,noEdgeEventsInDraw:!0,disableBrowserGestures:!0};i.exports=s},function(i,o,a){function s(f){var c=this.cy;return this.drawMode=f??!this.drawMode,this.drawMode?(this.prevUngrabifyState=c.autoungrabify(),c.autoungrabify(!0),this.emit("drawon")):(c.autoungrabify(this.prevUngrabifyState),this.emit("drawoff")),this}function u(){return this.toggleDrawMode(!0)}function l(){return this.toggleDrawMode(!1)}i.exports={toggleDrawMode:s,enableDrawMode:u,disableDrawMode:l}},function(i,o,a){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},u=a(0),l=function(m){return(typeof m>"u"?"undefined":s(m))===s("")},f=function(m){return(typeof m>"u"?"undefined":s(m))===s([])&&m.length!=null};function c(v,m,y){var E={};return u(E,m,v),u(E.data,m.data,v.data),l(m.classes)?E.classes=m.classes+" "+y:f(m.classes)?E.classes=m.classes.join(" ")+" "+y:E.classes=y,E}function h(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,m=this.cy;this.options;var y=this.presumptiveTargets,E=this.previewEles,T=this.active,C=this.sourceNode,b=this.targetNode,k=v?"eh-preview":"",S=m.collection(),O=this.canConnect(b);if(T&&O){if(!b||b.size()===0){E.remove(),this.emit("cancel",this.mp(),C,y);return}if(!v){E.removeClass("eh-preview").style("events",""),this.emit("complete",this.mp(),C,b,E);return}var N=m.add(c({group:"edges",data:{source:C.id(),target:b.id()}},this.edgeParams(b),k));return S=S.merge(N),v?(this.previewEles=S,S.style("events","no")):(S.style("events",""),this.emit("complete",this.mp(),C,b,S)),this}}function d(){return this.makeEdges(!0),this}function p(){return this.previewEles.nonempty()&&this.previewEles.inside()}function g(){return this.previewShown()&&this.previewEles.remove(),this}function w(){var v=this,m=this.sourceNode,y=this.ghostNode,E=this.cy,T=this.mx,C=this.my,b=T,k=C,S=void 0,O=void 0;if(m)return(!y||y.length===0||y.removed())&&(O=this.ghostEles=E.collection(),E.batch(function(){y=v.ghostNode=E.add({group:"nodes",classes:"eh-ghost eh-ghost-node",position:{x:0,y:0}}),y.style({"background-color":"blue",width:1e-4,height:1e-4,opacity:0,events:"no"});var N={};S=E.add(u({},N,{group:"edges",data:u({},N.data,{source:m.id(),target:y.id()}),classes:"eh-ghost eh-ghost-edge"})),S.style({events:"no"})}),O.merge(y).merge(S)),y.position({x:b,y:k}),this}i.exports={makeEdges:h,makePreview:d,removePreview:g,previewShown:p,updateEdge:w}},function(i,o,a){function s(){return this.options.noEdgeEventsInDraw&&this.cy.edges().style("events","no"),this}function u(){return this.options.noEdgeEventsInDraw&&this.cy.edges().style("events",""),this}i.exports={disableEdgeEvents:s,enableEdgeEvents:u}},function(i,o,a){function s(){return this.enabled=!0,this.emit("enable"),this}function u(){return this.enabled=!1,this.emit("disable"),this}i.exports={enable:s,disable:u}},function(i,o,a){var s=a(13),u=Math.sqrt(2);function l(m){var y=this.previewEles,E=this.ghostEles,T=function(D){return y.anySame(D)},C=function(D){return E.anySame(D)},b=function(D){return T(D)||C(D)},k=this.enabled,S=this.active,O=this.grabbingNode;return k&&!S&&!O&&m!=null&&m.nonempty()&&!b(m)}function f(m){return this.canStartOn(m)&&this.drawMode}function c(m){return this.canStartOn(m)&&!this.drawMode}function h(m){var y=this;if(this.canStartOn(m)){this.active=!0,this.sourceNode=m,this.sourceNode.addClass("eh-source"),this.disableGestures(),this.disableEdgeEvents();var E=function(C){return C.id()};this.canConnect=s(function(T){return y.options.canConnect(y.sourceNode,T)},E),this.edgeParams=s(function(T){return y.options.edgeParams(y.sourceNode,T)},E),this.emit("start",this.hp(),m)}}function d(m){if(this.active){var y=m;return this.mx=y.x,this.my=y.y,this.updateEdge(),this.throttledSnap(),this}}function p(){if(!this.active||!this.options.snap)return!1;var m=this.cy,y=this.targetNode,E=this.options.snapThreshold,T=this.mp(),C=this.previewEles,b=this.ghostNode,k=function(H){return u*Math.max(H.outerWidth(),H.outerHeight())/2},S=function(H,j,K,te){var re=K-H,ue=te-j;return re*re+ue*ue},O=function(H,j){return S(H.x,H.y,j.x,j.y)},N=function(H){return O(H.position(),T)},D=function(H){var j=k(H),K=j+E;return K*K},I=function(H){return N(H)<=D(H)},x=function(H){var j=H.position(),K=H.outerWidth()/2,te=H.outerHeight()/2,re=j.x,ue=j.y,se=T.x,de=T.y,be=re-K,z=re+K,ae=ue-te,Z=ue+te,W=be<=se&&se<=z,Y=ae<=de&&de<=Z;if(W&&Y)return 0;if(W){var ie=de-ae,ve=de-Z;return Math.min(ie*ie,ve*ve)}else if(Y){var me=se-be,fe=se-z;return Math.min(me*me,fe*fe)}else return se<be&&de<ae?S(se,de,be,ae):se>z&&de<ae?S(se,de,z,ae):se<be&&de>Z?S(se,de,be,Z):S(se,de,z,Z)},P=function(H,j){return x(H)-x(j)},L=P,M=!1,R=function(H){var j=T,K=H.outerWidth(),te=K/2,re=H.outerHeight(),ue=re/2,se=H.position(),de=se.x-te,be=se.x+te,z=se.y-ue,ae=se.y+ue;return de<=j.x&&j.x<=be&&z<=j.y&&j.y<=ae},V=function(H){return H.same(C)||H.same(b)},U=m.nodes(function(B){return!V(B)&&I(B)}).sort(L),q=!1;y.nonempty()&&!I(y)&&this.unpreview(y);for(var $=0;$<U.length;$++){var X=U[$];if(!(X.isParent()&&R(X))&&!(X.isChild()&&!R(X.parent()))&&(X.same(y)||this.preview(X,M))){q=!0;break}}return q}function g(m){var y=this,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,T=this.options,C=this.sourceNode,b=this.ghostNode,k=this.ghostEles,S=this.presumptiveTargets,O=this.previewEles,N=this.active,D=C,I=m.same(b),x=!this.canConnect(m),P=m.same(this.targetNode);if(!N||I||x||P)return!1;this.targetNode.nonempty()&&this.unpreview(this.targetNode),clearTimeout(this.previewTimeout);var L=function(){y.targetNode=m,S.merge(m),m.addClass("eh-presumptive-target"),m.addClass("eh-target"),y.emit("hoverover",y.mp(),D,m),m.addClass("eh-preview"),k.addClass("eh-preview-active"),C.addClass("eh-preview-active"),m.addClass("eh-preview-active"),y.makePreview(),y.emit("previewon",y.mp(),D,m,O)};return E&&T.hoverDelay>0?this.previewTimeout=setTimeout(L,T.hoverDelay):L(),!0}function w(m){if(this.active){var y=this.previewTimeout,E=this.sourceNode,T=this.previewEles,C=this.ghostEles,b=this.cy;clearTimeout(y),this.previewTimeout=null;var k=E;return m.removeClass("eh-preview eh-target eh-presumptive-target eh-preview-active"),C.removeClass("eh-preview-active"),E.removeClass("eh-preview-active"),this.targetNode=b.collection(),this.removePreview(k,m),this.emit("hoverout",this.mp(),k,m),this.emit("previewoff",this.mp(),k,m,T),this}}function v(){if(this.active){var m=this.sourceNode,y=this.targetNode,E=this.ghostEles,T=this.presumptiveTargets;return clearTimeout(this.previewTimeout),m.removeClass("eh-source eh-preview-active"),y.removeClass("eh-target eh-preview eh-hover eh-preview-active"),T.removeClass("eh-presumptive-target"),this.makeEdges(),E.remove(),this.clearCollections(),this.resetGestures(),this.enableEdgeEvents(),this.active=!1,this.emit("stop",this.mp(),m),this}}i.exports={start:h,update:d,preview:g,unpreview:w,stop:v,snap:p,canStartOn:l,canStartDrawModeOn:f,canStartNonDrawModeOn:c}},function(i,o,a){var s=a(4),u=a(0),l=a(14),f=a(2),c=a(3),h=a(5),d=a(6),p=a(8),g=a(9),w=a(11),v=a(7);function m(T){var C=T.cy;this.cy=C,this.listeners=[],this.enabled=!0,this.drawMode=!1,this.active=!1,this.grabbingNode=!1,this.clearCollections(),this.mx=0,this.my=0,this.options=u({},s,T),this.saveGestureState(),this.addListeners(),this.throttledSnap=l(this.snap.bind(this),1e3/T.snapFrequency),this.preventDefault=function(S){return S.preventDefault()},this.canConnect=function(){return!1};var b=!1;try{var k=Object.defineProperty({},"passive",{get:function(){b=!0}});window.addEventListener("test",null,k)}catch{}b?this.windowListenerOptions={capture:!0,passive:!1}:this.windowListenerOptions=!0}var y=m.prototype={},E=function(C){return u(y,C)};y.destroy=function(){this.removeListeners()},y.setOptions=function(T){u(this.options,T)},y.mp=function(){return{x:this.mx,y:this.my}},y.hp=function(){return{x:this.hx,y:this.hy}},y.clearCollections=function(){var T=this.cy;this.previewEles=T.collection(),this.ghostEles=T.collection(),this.ghostNode=T.collection(),this.sourceNode=T.collection(),this.targetNode=T.collection(),this.presumptiveTargets=T.collection()},[f,c,h,d,p,g,w,v].forEach(E),i.exports=m},function(i,o,a){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g};function u(){var g=this;return this.addCytoscapeListeners(),this.addListener(this.cy,"destroy",function(){return g.destroy()}),this}function l(){for(var g=this.listeners.length-1;g>=0;g--){var w=this.listeners[g];this.removeListener(w.target,w.event,w.selector,w.callback,w.options)}return this}function f(g,w,v,m,y){return(typeof v>"u"?"undefined":s(v))!==s("")&&(m=v,y=m,v=null),y==null&&(y=!1),{target:g,event:w,selector:v,callback:m,options:y}}function c(g){return g instanceof Element}function h(g,w,v,m,y){var E=f(g,w,v,m,y);return this.listeners.push(E),c(E.target)?E.target.addEventListener(E.event,E.callback,E.options):E.selector?E.target.addListener(E.event,E.selector,E.callback,E.options):E.target.addListener(E.event,E.callback,E.options),this}function d(g,w,v,m,y){for(var E=f(g,w,v,m,y),T=this.listeners.length-1;T>=0;T--){var C=this.listeners[T];if(E.target===C.target&&E.event===C.event&&(E.selector==null||E.selector===C.selector)&&(E.callback==null||E.callback===C.callback)){this.listeners.splice(T,1),c(E.target)?E.target.removeEventListener(E.event,E.callback,E.options):E.selector?E.target.removeListener(E.event,E.selector,E.callback,E.options):E.target.removeListener(E.event,E.callback,E.options);break}}return this}function p(g,w){for(var v=this.cy,m=arguments.length,y=Array(m>2?m-2:0),E=2;E<m;E++)y[E-2]=arguments[E];return v.emit({type:"eh"+g,position:w},y),this}i.exports={addListener:h,addListeners:u,removeListener:d,removeListeners:l,emit:p}},function(i,o,a){var s=a(1),u=function(f){f&&f("core","edgehandles",s)};typeof cytoscape<"u"&&u(cytoscape),i.exports=u},function(i,o){i.exports=r},function(i,o){i.exports=n}])})})(HE);var bO=HE.exports;const wO=qn(bO);function EO(t){Rn.use(wO);var e=Rn(lo);return e.boxSelectionEnabled(!0),tr.set(e),qE.set(e.edgehandles(gO)),[]}class xO extends At{constructor(e){super(),kt(this,e,EO,null,St,{})}}let ys;const _O=new Uint8Array(16);function CO(){if(!ys&&(ys=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ys))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ys(_O)}const _r=[];for(let t=0;t<256;++t)_r.push((t+256).toString(16).slice(1));function TO(t,e=0){return(_r[t[e+0]]+_r[t[e+1]]+_r[t[e+2]]+_r[t[e+3]]+"-"+_r[t[e+4]]+_r[t[e+5]]+"-"+_r[t[e+6]]+_r[t[e+7]]+"-"+_r[t[e+8]]+_r[t[e+9]]+"-"+_r[t[e+10]]+_r[t[e+11]]+_r[t[e+12]]+_r[t[e+13]]+_r[t[e+14]]+_r[t[e+15]]).toLowerCase()}const SO=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),kg={randomUUID:SO};function DO(t,e,r){if(kg.randomUUID&&!e&&!t)return kg.randomUUID();t=t||{};const n=t.random||(t.rng||CO)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return TO(n)}let UE,VE;function WE(){UE=1,VE=1}WE();function Hi(t,e,r=null){let n=Ut(tr),i=DO(),o;r!==null?o=r:t=="observed-variable"?o="x"+UE++:t=="latent-variable"?o="f"+VE++:o=void 0;let a=Ut(ko);return e?a.do("add",{group:"nodes",data:{id:i,label:o},classes:t,renderedPosition:e}):(e={x:Math.random()*400+50,y:Math.random()*400+50},n.add({group:"nodes",data:{id:i,label:o},classes:t,renderedPosition:e})),i}function Ei(t){const e=NO(t);if(e!=null){const r=AO(t),n=LO(r);let i=OO(n);i=kO(i,n),e.style("loop-direction",`${i}deg`)}}function kO(t,e){const r=[0,90,180,270],n=35,i=r.sort((o,a)=>{const s=Math.min(Math.abs(o-t),360-Math.abs(o-t)),u=Math.min(Math.abs(a-t),360-Math.abs(a-t));return s-u});for(const o of i)if(!e.some(s=>{const u=Math.abs(o-s);return Math.min(u,360-u)<=n}))return o;return t}function AO(t){const e=cy.getElementById(t);if(e.length===0){console.error(`Node with ID ${t} does not exist.`);return}let r=[];return e.connectedEdges().forEach(n=>{const i=n.source(),o=n.target();let a;(i.id()!==e.id()||o.id()!==e.id())&&(i.id()===e.id()?a=Ag(n.sourceEndpoint(),e.position()):a=Ag(n.targetEndpoint(),e.position()),r.push(a))}),r}function Ag(t,e){return Object.keys(t).reduce((r,n)=>{if(e.hasOwnProperty(n))r[n]=t[n]-e[n];else throw new Error(`Key ${n} not found in second object`);return r},{})}function LO(t){let e=[];return t.forEach(r=>{e.push(MO(r))}),e}function MO(t){let e=Math.atan2(t.y,t.x)*180/Math.PI;return e=(e+90)%360,e}function OO(t){let e=-1,r=null;for(let n=0;n<=360;n++){let i=1/0;for(let o=0;o<t.length;o++){let a=Math.abs(t[o]-n);a=Math.min(a,360-a),i=Math.min(i,a)}i>e&&(e=i,r=n)}return r}function NO(t,e){var r=cy.getElementById(t),n=null;return r.connectedEdges().forEach(function(i){var o=i.source(),a=i.target();if(o.id()===t&&a.id()===t){n=i;return}}),n!==null&&r.connectedEdges().length>1&&!n.hasClass("fixDeg")?n:null}function IO(t){let e,r,n;return{c(){e=Ke("div"),Oe(e,"id","cy"),Oe(e,"class","graph svelte-11pj9ut"),Nr(e,"flex-basis",t[1].full?"70%":"100%")},m(i,o){Ue(i,e,o),t[6](e),r||(n=[cr(e,"mouseover",t[2]),cr(e,"mouseout",t[3]),cr(e,"mousemove",t[4]),cr(e,"drop",t[5]),cr(e,"dragover",PO)],r=!0)},p(i,[o]){o&2&&Nr(e,"flex-basis",i[1].full?"70%":"100%")},i:Lt,o:Lt,d(i){i&&He(e),t[6](null),r=!1,zn(n)}}}function PO(t){t.preventDefault()}function RO(t,e,r){let n;jt(t,wt,v=>r(1,n=v));let i=Ut(tr),o=Ut(qE),a,s={x:0,y:0},u=!1;Di(()=>{i.mount(a)});function l(v){if(v.key==="Meta"||v.key,o.enableDrawMode(),Dt(wt,n.drawing=!0,n),v.key==="Shift"&&(u=!0),v.key==="Backspace"&&i.$(":selected").forEach(function(y){(y.isNode()||y.isEdge())&&y.remove()}),["l","o","c"].includes(v.key.toLowerCase())){let m;switch(v.key.toLowerCase()){case"l":m="latent-variable";break;case"o":m="observed-variable";break;case"c":m="constant";break}Hi(m,{...s})}}function f(){i.autoungrabify(!1),i.nodes().grabify()}function c(){event.key==="Meta"||event.key,o.disableDrawMode(),Dt(wt,n.drawing=!1,n),f(),event.key==="Shift"&&(u=!1)}function h(){document.addEventListener("keydown",l),document.addEventListener("keyup",c)}function d(){document.removeEventListener("keydown",l,!1),document.removeEventListener("keyup",c,!1),o.disableDrawMode(),u=!1}function p(v){s.x=v.offsetX,s.y=v.offsetY}i.on("ehcomplete",(v,m,y,E)=>{const T=E,C=m.id(),b=y.id();T.addClass("free"),T.addClass("nolabel"),T.addClass("fromUser"),C!==b?(u?T.addClass("undirected"):T.addClass("directed"),Ei(C),Ei(b)):(T.addClass("loop"),Ei(b)),(T.hasClass("undirected")||T.hasClass("loop"))&&(m.hasClass("constant")||y.hasClass("constant"))&&i.remove(T),T.hasClass("directed")&&y.hasClass("constant")&&i.remove(T),T.hasClass("directed")&&m.hasClass("constant")&&y.connectedEdges(S=>S.source().hasClass("constant")).length>1&&i.remove(T),T.hasClass("directed")&&m.hasClass("constant")?T.data("isMean","1"):T.data("isMean","0")});function g(v){v.preventDefault();const m={x:v.offsetX,y:v.offsetY};Hi(n.dragged,m)}function w(v){Tr[v?"unshift":"push"](()=>{a=v,r(0,a)})}return[a,n,h,d,p,g,w]}class FO extends At{constructor(e){super(),kt(this,e,RO,IO,St,{})}}function zO(t,e,r){let n;jt(t,wt,o=>r(0,n=o));let i=Ut(tr);return i.on("add","node",function(o){const a=o.target;if(a.hasClass("observed-variable")){let s=n.columnNames;s&&s.includes(a.data("label"))&&(a.addClass("linked"),En("success",`Variable ${a.data("label")} linked to data`))}}),i.on("add","edge",function(o){n.modelEmpty&&i.edges().length>0&&Dt(wt,n.modelEmpty=!1,n)}),i.on("remove","edge",function(o){i.edges().length==0&&Dt(wt,n.modelEmpty=!0,n)}),i.on("position","node",function(o){o.target.neighborhood().nodes().forEach(u=>{const l=u.id();Ei(l)})}),[]}class BO extends At{constructor(e){super(),kt(this,e,zO,null,St,{})}}function qO(t){let e;return{c(){e=Ke("span"),e.textContent="No Data loaded",Oe(e,"data-testid","data-info"),Oe(e,"class","svelte-gk4wmp")},m(r,n){Ue(r,e,n)},p:Lt,d(r){r&&He(e)}}}function $O(t){let e,r,n=t[0].loadedFileName+"",i,o;return{c(){e=Ke("span"),r=Ir('Dataset "'),i=Ir(n),o=Ir('" is loaded'),Oe(e,"data-testid","data-info"),Oe(e,"class","svelte-gk4wmp")},m(a,s){Ue(a,e,s),je(e,r),je(e,i),je(e,o)},p(a,s){s&1&&n!==(n=a[0].loadedFileName+"")&&Jn(i,n)},d(a){a&&He(e)}}}function GO(t){let e;function r(o,a){return o[0].dataAvail?$O:qO}let n=r(t),i=n(t);return{c(){e=Ke("div"),i.c(),Oe(e,"id","data")},m(o,a){Ue(o,e,a),i.m(e,null)},p(o,[a]){n===(n=r(o))&&i?i.p(o,a):(i.d(1),i=n(o),i&&(i.c(),i.m(e,null)))},i:Lt,o:Lt,d(o){o&&He(e),i.d()}}}function HO(t,e,r){let n;return jt(t,wt,i=>r(0,n=i)),window.$('[data-toggle="tooltip"]').tooltip(),[n]}class UO extends At{constructor(e){super(),kt(this,e,HO,GO,St,{})}}function Lg(t){let e;function r(o,a){return o[0].meansModelled?WO:VO}let n=r(t),i=n(t);return{c(){e=Ke("div"),i.c(),Oe(e,"id","means")},m(o,a){Ue(o,e,a),i.m(e,null)},p(o,a){n!==(n=r(o))&&(i.d(1),i=n(o),i&&(i.c(),i.m(e,null)))},d(o){o&&He(e),i.d()}}}function VO(t){let e;return{c(){e=Ke("span"),e.textContent="Means are NOT Modelled",Oe(e,"data-testid","data-info"),Oe(e,"class","svelte-2s96cp")},m(r,n){Ue(r,e,n)},d(r){r&&He(e)}}}function WO(t){let e;return{c(){e=Ke("span"),e.textContent="Means are Modelled",Oe(e,"data-testid","data-info"),Oe(e,"class","svelte-2s96cp")},m(r,n){Ue(r,e,n)},d(r){r&&He(e)}}}function YO(t){let e,r,n,i,o,a,s,u,l,f,c,h,d,p,g;c=new UO({});let w=t[0].parsedModel&&Lg(t);return{c(){e=Ke("div"),r=Ke("div"),n=Ke("div"),i=Ke("button"),o=it(),a=Ke("button"),s=it(),u=Ke("button"),l=it(),f=Ke("div"),vt(c.$$.fragment),h=it(),w&&w.c(),Oe(i,"id","add-manifest-variable"),Oe(i,"title","Create Observed Variable"),Oe(i,"draggable","true"),Oe(i,"data-button-type","observed-variable"),Oe(i,"class","svelte-2s96cp"),Oe(a,"id","add-latent-variable"),Oe(a,"title","Create Latent Variable"),Oe(a,"draggable","true"),Oe(a,"data-button-type","latent-variable"),Oe(a,"class","svelte-2s96cp"),Oe(u,"id","add-constant-variable"),Oe(u,"title","Create Constant Variable"),Oe(u,"data-button-type","const"),Oe(u,"draggable","true"),Oe(u,"class","svelte-2s96cp"),Oe(n,"id","buttons"),Oe(n,"class","svelte-2s96cp"),Oe(r,"id","buttonCont"),Oe(r,"class","svelte-2s96cp"),Oe(f,"id","messages"),Oe(f,"class","svelte-2s96cp"),Oe(e,"class","toolbox svelte-2s96cp")},m(v,m){Ue(v,e,m),je(e,r),je(r,n),je(n,i),je(n,o),je(n,a),je(n,s),je(n,u),je(e,l),je(e,f),ct(c,f,null),je(f,h),w&&w.m(f,null),d=!0,p||(g=[cr(i,"dragstart",t[2]),cr(i,"click",t[3]),cr(a,"dragstart",t[4]),cr(a,"click",t[5]),cr(u,"dragstart",t[6]),cr(u,"click",t[7])],p=!0)},p(v,[m]){v[0].parsedModel?w?w.p(v,m):(w=Lg(v),w.c(),w.m(f,null)):w&&(w.d(1),w=null)},i(v){d||(qe(c.$$.fragment,v),d=!0)},o(v){Ve(c.$$.fragment,v),d=!1},d(v){v&&He(e),ht(c),w&&w.d(),p=!1,zn(g)}}}function sl(){bootbox.alert("Drag me on the model window to create a variable")}function XO(t,e,r){let n;jt(t,wt,c=>r(0,n=c)),wt.subscribe(c=>{});function i(c){Dt(wt,n.dragged=c,n)}return[n,i,()=>{i("observed-variable")},()=>{sl()},()=>{i("latent-variable")},()=>{sl()},()=>{i("constant")},()=>{sl()}]}class jO extends At{constructor(e){super(),kt(this,e,XO,YO,St,{})}}function KO(t){let e,r,n,i,o;const a=t[1].default,s=Lo(a,t,t[0],null);return i=new jO({}),{c(){e=Ke("nav"),r=Ke("ul"),s&&s.c(),n=it(),vt(i.$$.fragment),Oe(r,"class","nav navbar-nav navbar-left"),Oe(e,"class","navbar navbar-default navbar-static-top navbar-left svelte-12n5yi9")},m(u,l){Ue(u,e,l),je(e,r),s&&s.m(r,null),je(e,n),ct(i,e,null),o=!0},p(u,[l]){s&&s.p&&(!o||l&1)&&Oo(s,a,u,u[0],o?Mo(a,u[0],l,null):No(u[0]),null)},i(u){o||(qe(s,u),qe(i.$$.fragment,u),o=!0)},o(u){Ve(s,u),Ve(i.$$.fragment,u),o=!1},d(u){u&&He(e),s&&s.d(u),ht(i)}}}function ZO(t,e,r){let{$$slots:n={},$$scope:i}=e;return t.$$set=o=>{"$$scope"in o&&r(0,i=o.$$scope)},[i,n]}class QO extends At{constructor(e){super(),kt(this,e,ZO,KO,St,{})}}function gv(t,e){if(t==null)throw new Error("Columnnames may not be null.");const n=Ut(tr).nodes(function(o){return o.hasClass("observed-variable")});if(n.length>0){let o=!0;for(var i=0;i<n.length;i++){const a=n[i],s=a.data("label");e&&a.removeClass("linked"),t.includes(s)?e&&a.addClass("linked"):o=!1}o&&En("success","All observed variables linked.")}}function Gi(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var YE={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(r){t.exports=r()})(function(){return function r(n,i,o){function a(l,f){if(!i[l]){if(!n[l]){var c=typeof Gi=="function"&&Gi;if(!f&&c)return c(l,!0);if(s)return s(l,!0);var h=new Error("Cannot find module '"+l+"'");throw h.code="MODULE_NOT_FOUND",h}var d=i[l]={exports:{}};n[l][0].call(d.exports,function(p){var g=n[l][1][p];return a(g||p)},d,d.exports,r,n,i,o)}return i[l].exports}for(var s=typeof Gi=="function"&&Gi,u=0;u<o.length;u++)a(o[u]);return a}({1:[function(r,n,i){var o=r("./utils"),a=r("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(u){for(var l,f,c,h,d,p,g,w=[],v=0,m=u.length,y=m,E=o.getTypeOf(u)!=="string";v<u.length;)y=m-v,c=E?(l=u[v++],f=v<m?u[v++]:0,v<m?u[v++]:0):(l=u.charCodeAt(v++),f=v<m?u.charCodeAt(v++):0,v<m?u.charCodeAt(v++):0),h=l>>2,d=(3&l)<<4|f>>4,p=1<y?(15&f)<<2|c>>6:64,g=2<y?63&c:64,w.push(s.charAt(h)+s.charAt(d)+s.charAt(p)+s.charAt(g));return w.join("")},i.decode=function(u){var l,f,c,h,d,p,g=0,w=0,v="data:";if(u.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var m,y=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===s.charAt(64)&&y--,u.charAt(u.length-2)===s.charAt(64)&&y--,y%1!=0)throw new Error("Invalid base64 input, bad content length.");for(m=a.uint8array?new Uint8Array(0|y):new Array(0|y);g<u.length;)l=s.indexOf(u.charAt(g++))<<2|(h=s.indexOf(u.charAt(g++)))>>4,f=(15&h)<<4|(d=s.indexOf(u.charAt(g++)))>>2,c=(3&d)<<6|(p=s.indexOf(u.charAt(g++))),m[w++]=l,d!==64&&(m[w++]=f),p!==64&&(m[w++]=c);return m}},{"./support":30,"./utils":32}],2:[function(r,n,i){var o=r("./external"),a=r("./stream/DataWorker"),s=r("./stream/Crc32Probe"),u=r("./stream/DataLengthProbe");function l(f,c,h,d,p){this.compressedSize=f,this.uncompressedSize=c,this.crc32=h,this.compression=d,this.compressedContent=p}l.prototype={getContentWorker:function(){var f=new a(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),c=this;return f.on("end",function(){if(this.streamInfo.data_length!==c.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new a(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},l.createWorkerFrom=function(f,c,h){return f.pipe(new s).pipe(new u("uncompressedSize")).pipe(c.compressWorker(h)).pipe(new u("compressedSize")).withStreamInfo("compression",c)},n.exports=l},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var o=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var o=r("./utils"),a=function(){for(var s,u=[],l=0;l<256;l++){s=l;for(var f=0;f<8;f++)s=1&s?3988292384^s>>>1:s>>>1;u[l]=s}return u}();n.exports=function(s,u){return s!==void 0&&s.length?o.getTypeOf(s)!=="string"?function(l,f,c,h){var d=a,p=h+c;l^=-1;for(var g=h;g<p;g++)l=l>>>8^d[255&(l^f[g])];return-1^l}(0|u,s,s.length,0):function(l,f,c,h){var d=a,p=h+c;l^=-1;for(var g=h;g<p;g++)l=l>>>8^d[255&(l^f.charCodeAt(g))];return-1^l}(0|u,s,s.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var o=null;o=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:o}},{lie:37}],7:[function(r,n,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=r("pako"),s=r("./utils"),u=r("./stream/GenericWorker"),l=o?"uint8array":"array";function f(c,h){u.call(this,"FlateWorker/"+c),this._pako=null,this._pakoAction=c,this._pakoOptions=h,this.meta={}}i.magic="\b\0",s.inherits(f,u),f.prototype.processChunk=function(c){this.meta=c.meta,this._pako===null&&this._createPako(),this._pako.push(s.transformTo(l,c.data),!1)},f.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var c=this;this._pako.onData=function(h){c.push({data:h,meta:c.meta})}},i.compressWorker=function(c){return new f("Deflate",c)},i.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function o(d,p){var g,w="";for(g=0;g<p;g++)w+=String.fromCharCode(255&d),d>>>=8;return w}function a(d,p,g,w,v,m){var y,E,T=d.file,C=d.compression,b=m!==l.utf8encode,k=s.transformTo("string",m(T.name)),S=s.transformTo("string",l.utf8encode(T.name)),O=T.comment,N=s.transformTo("string",m(O)),D=s.transformTo("string",l.utf8encode(O)),I=S.length!==T.name.length,x=D.length!==O.length,P="",L="",M="",R=T.dir,V=T.date,U={crc32:0,compressedSize:0,uncompressedSize:0};p&&!g||(U.crc32=d.crc32,U.compressedSize=d.compressedSize,U.uncompressedSize=d.uncompressedSize);var q=0;p&&(q|=8),b||!I&&!x||(q|=2048);var $=0,X=0;R&&($|=16),v==="UNIX"?(X=798,$|=function(H,j){var K=H;return H||(K=j?16893:33204),(65535&K)<<16}(T.unixPermissions,R)):(X=20,$|=function(H){return 63&(H||0)}(T.dosPermissions)),y=V.getUTCHours(),y<<=6,y|=V.getUTCMinutes(),y<<=5,y|=V.getUTCSeconds()/2,E=V.getUTCFullYear()-1980,E<<=4,E|=V.getUTCMonth()+1,E<<=5,E|=V.getUTCDate(),I&&(L=o(1,1)+o(f(k),4)+S,P+="up"+o(L.length,2)+L),x&&(M=o(1,1)+o(f(N),4)+D,P+="uc"+o(M.length,2)+M);var B="";return B+=`
\0`,B+=o(q,2),B+=C.magic,B+=o(y,2),B+=o(E,2),B+=o(U.crc32,4),B+=o(U.compressedSize,4),B+=o(U.uncompressedSize,4),B+=o(k.length,2),B+=o(P.length,2),{fileRecord:c.LOCAL_FILE_HEADER+B+k+P,dirRecord:c.CENTRAL_FILE_HEADER+o(X,2)+B+o(N.length,2)+"\0\0\0\0"+o($,4)+o(w,4)+k+P+N}}var s=r("../utils"),u=r("../stream/GenericWorker"),l=r("../utf8"),f=r("../crc32"),c=r("../signature");function h(d,p,g,w){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=g,this.encodeFileName=w,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(h,u),h.prototype.push=function(d){var p=d.meta.percent||0,g=this.entriesCount,w=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,u.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:g?(p+100*(g-w-1))/g:100}}))},h.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var p=this.streamFiles&&!d.file.dir;if(p){var g=a(d,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(d){this.accumulate=!1;var p=this.streamFiles&&!d.file.dir,g=a(d,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),p)this.push({data:function(w){return c.DATA_DESCRIPTOR+o(w.crc32,4)+o(w.compressedSize,4)+o(w.uncompressedSize,4)}(d),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var d=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var g=this.bytesWritten-d,w=function(v,m,y,E,T){var C=s.transformTo("string",T(E));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(v,2)+o(v,2)+o(m,4)+o(y,4)+o(C.length,2)+C}(this.dirRecords.length,g,d,this.zipComment,this.encodeFileName);this.push({data:w,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(d){this._sources.push(d);var p=this;return d.on("data",function(g){p.processChunk(g)}),d.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),d.on("error",function(g){p.error(g)}),this},h.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(d){var p=this._sources;if(!u.prototype.error.call(this,d))return!1;for(var g=0;g<p.length;g++)try{p[g].error(d)}catch{}return!0},h.prototype.lock=function(){u.prototype.lock.call(this);for(var d=this._sources,p=0;p<d.length;p++)d[p].lock()},n.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var o=r("../compressions"),a=r("./ZipFileWorker");i.generateWorker=function(s,u,l){var f=new a(u.streamFiles,l,u.platform,u.encodeFileName),c=0;try{s.forEach(function(h,d){c++;var p=function(m,y){var E=m||y,T=o[E];if(!T)throw new Error(E+" is not a valid compression method !");return T}(d.options.compression,u.compression),g=d.options.compressionOptions||u.compressionOptions||{},w=d.dir,v=d.date;d._compressWorker(p,g).withStreamInfo("file",{name:h,dir:w,date:v,comment:d.comment||"",unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions}).pipe(f)}),f.entriesCount=c}catch(h){f.error(h)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new o;for(var s in this)typeof this[s]!="function"&&(a[s]=this[s]);return a}}(o.prototype=r("./object")).loadAsync=r("./load"),o.support=r("./support"),o.defaults=r("./defaults"),o.version="3.10.1",o.loadAsync=function(a,s){return new o().loadAsync(a,s)},o.external=r("./external"),n.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var o=r("./utils"),a=r("./external"),s=r("./utf8"),u=r("./zipEntries"),l=r("./stream/Crc32Probe"),f=r("./nodejsUtils");function c(h){return new a.Promise(function(d,p){var g=h.decompressed.getContentWorker().pipe(new l);g.on("error",function(w){p(w)}).on("end",function(){g.streamInfo.crc32!==h.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}n.exports=function(h,d){var p=this;return d=o.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),f.isNode&&f.isStream(h)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",h,!0,d.optimizedBinaryString,d.base64).then(function(g){var w=new u(d);return w.load(g),w}).then(function(g){var w=[a.Promise.resolve(g)],v=g.files;if(d.checkCRC32)for(var m=0;m<v.length;m++)w.push(c(v[m]));return a.Promise.all(w)}).then(function(g){for(var w=g.shift(),v=w.files,m=0;m<v.length;m++){var y=v[m],E=y.fileNameStr,T=o.resolve(y.fileNameStr);p.file(T,y.decompressed,{binary:!0,optimizedBinaryString:!0,date:y.date,dir:y.dir,comment:y.fileCommentStr.length?y.fileCommentStr:null,unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions,createFolders:d.createFolders}),y.dir||(p.file(T).unsafeOriginalName=E)}return w.zipComment.length&&(p.comment=w.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var o=r("../utils"),a=r("../stream/GenericWorker");function s(u,l){a.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(l)}o.inherits(s,a),s.prototype._bindStream=function(u){var l=this;(this._stream=u).pause(),u.on("data",function(f){l.push({data:f,meta:{percent:0}})}).on("error",function(f){l.isPaused?this.generatedError=f:l.error(f)}).on("end",function(){l.isPaused?l._upstreamEnded=!0:l.end()})},s.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var o=r("readable-stream").Readable;function a(s,u,l){o.call(this,u),this._helper=s;var f=this;s.on("data",function(c,h){f.push(c)||f._helper.pause(),l&&l(h)}).on("error",function(c){f.emit("error",c)}).on("end",function(){f.push(null)})}r("../utils").inherits(a,o),a.prototype._read=function(){this._helper.resume()},n.exports=a},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,a);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,a)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var a=new Buffer(o);return a.fill(0),a},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(r,n,i){function o(T,C,b){var k,S=s.getTypeOf(C),O=s.extend(b||{},f);O.date=O.date||new Date,O.compression!==null&&(O.compression=O.compression.toUpperCase()),typeof O.unixPermissions=="string"&&(O.unixPermissions=parseInt(O.unixPermissions,8)),O.unixPermissions&&16384&O.unixPermissions&&(O.dir=!0),O.dosPermissions&&16&O.dosPermissions&&(O.dir=!0),O.dir&&(T=v(T)),O.createFolders&&(k=w(T))&&m.call(this,k,!0);var N=S==="string"&&O.binary===!1&&O.base64===!1;b&&b.binary!==void 0||(O.binary=!N),(C instanceof c&&C.uncompressedSize===0||O.dir||!C||C.length===0)&&(O.base64=!1,O.binary=!0,C="",O.compression="STORE",S="string");var D=null;D=C instanceof c||C instanceof u?C:p.isNode&&p.isStream(C)?new g(T,C):s.prepareContent(T,C,O.binary,O.optimizedBinaryString,O.base64);var I=new h(T,D,O);this.files[T]=I}var a=r("./utf8"),s=r("./utils"),u=r("./stream/GenericWorker"),l=r("./stream/StreamHelper"),f=r("./defaults"),c=r("./compressedObject"),h=r("./zipObject"),d=r("./generate"),p=r("./nodejsUtils"),g=r("./nodejs/NodejsStreamInputAdapter"),w=function(T){T.slice(-1)==="/"&&(T=T.substring(0,T.length-1));var C=T.lastIndexOf("/");return 0<C?T.substring(0,C):""},v=function(T){return T.slice(-1)!=="/"&&(T+="/"),T},m=function(T,C){return C=C!==void 0?C:f.createFolders,T=v(T),this.files[T]||o.call(this,T,null,{dir:!0,createFolders:C}),this.files[T]};function y(T){return Object.prototype.toString.call(T)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(T){var C,b,k;for(C in this.files)k=this.files[C],(b=C.slice(this.root.length,C.length))&&C.slice(0,this.root.length)===this.root&&T(b,k)},filter:function(T){var C=[];return this.forEach(function(b,k){T(b,k)&&C.push(k)}),C},file:function(T,C,b){if(arguments.length!==1)return T=this.root+T,o.call(this,T,C,b),this;if(y(T)){var k=T;return this.filter(function(O,N){return!N.dir&&k.test(O)})}var S=this.files[this.root+T];return S&&!S.dir?S:null},folder:function(T){if(!T)return this;if(y(T))return this.filter(function(S,O){return O.dir&&T.test(S)});var C=this.root+T,b=m.call(this,C),k=this.clone();return k.root=b.name,k},remove:function(T){T=this.root+T;var C=this.files[T];if(C||(T.slice(-1)!=="/"&&(T+="/"),C=this.files[T]),C&&!C.dir)delete this.files[T];else for(var b=this.filter(function(S,O){return O.name.slice(0,T.length)===T}),k=0;k<b.length;k++)delete this.files[b[k].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(T){var C,b={};try{if((b=s.extend(T||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=b.type.toLowerCase(),b.compression=b.compression.toUpperCase(),b.type==="binarystring"&&(b.type="string"),!b.type)throw new Error("No output type specified.");s.checkSupport(b.type),b.platform!=="darwin"&&b.platform!=="freebsd"&&b.platform!=="linux"&&b.platform!=="sunos"||(b.platform="UNIX"),b.platform==="win32"&&(b.platform="DOS");var k=b.comment||this.comment||"";C=d.generateWorker(this,b,k)}catch(S){(C=new u("error")).error(S)}return new l(C,b.type||"string",b.mimeType)},generateAsync:function(T,C){return this.generateInternalStream(T).accumulate(C)},generateNodeStream:function(T,C){return(T=T||{}).type||(T.type="nodebuffer"),this.generateInternalStream(T).toNodejsStream(C)}};n.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var o=r("./DataReader");function a(s){o.call(this,s);for(var u=0;u<this.data.length;u++)s[u]=255&s[u]}r("../utils").inherits(a,o),a.prototype.byteAt=function(s){return this.data[this.zero+s]},a.prototype.lastIndexOfSignature=function(s){for(var u=s.charCodeAt(0),l=s.charCodeAt(1),f=s.charCodeAt(2),c=s.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===u&&this.data[h+1]===l&&this.data[h+2]===f&&this.data[h+3]===c)return h-this.zero;return-1},a.prototype.readAndCheckSignature=function(s){var u=s.charCodeAt(0),l=s.charCodeAt(1),f=s.charCodeAt(2),c=s.charCodeAt(3),h=this.readData(4);return u===h[0]&&l===h[1]&&f===h[2]&&c===h[3]},a.prototype.readData=function(s){if(this.checkOffset(s),s===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,u},n.exports=a},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var o=r("../utils");function a(s){this.data=s,this.length=s.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(s){this.checkIndex(this.index+s)},checkIndex:function(s){if(this.length<this.zero+s||s<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+s+"). Corrupted zip ?")},setIndex:function(s){this.checkIndex(s),this.index=s},skip:function(s){this.setIndex(this.index+s)},byteAt:function(){},readInt:function(s){var u,l=0;for(this.checkOffset(s),u=this.index+s-1;u>=this.index;u--)l=(l<<8)+this.byteAt(u);return this.index+=s,l},readString:function(s){return o.transformTo("string",this.readData(s))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var s=this.readInt(4);return new Date(Date.UTC(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1))}},n.exports=a},{"../utils":32}],19:[function(r,n,i){var o=r("./Uint8ArrayReader");function a(s){o.call(this,s)}r("../utils").inherits(a,o),a.prototype.readData=function(s){this.checkOffset(s);var u=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,u},n.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var o=r("./DataReader");function a(s){o.call(this,s)}r("../utils").inherits(a,o),a.prototype.byteAt=function(s){return this.data.charCodeAt(this.zero+s)},a.prototype.lastIndexOfSignature=function(s){return this.data.lastIndexOf(s)-this.zero},a.prototype.readAndCheckSignature=function(s){return s===this.readData(4)},a.prototype.readData=function(s){this.checkOffset(s);var u=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,u},n.exports=a},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var o=r("./ArrayReader");function a(s){o.call(this,s)}r("../utils").inherits(a,o),a.prototype.readData=function(s){if(this.checkOffset(s),s===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+s);return this.index+=s,u},n.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var o=r("../utils"),a=r("../support"),s=r("./ArrayReader"),u=r("./StringReader"),l=r("./NodeBufferReader"),f=r("./Uint8ArrayReader");n.exports=function(c){var h=o.getTypeOf(c);return o.checkSupport(h),h!=="string"||a.uint8array?h==="nodebuffer"?new l(c):a.uint8array?new f(o.transformTo("uint8array",c)):new s(o.transformTo("array",c)):new u(c)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var o=r("./GenericWorker"),a=r("../utils");function s(u){o.call(this,"ConvertWorker to "+u),this.destType=u}a.inherits(s,o),s.prototype.processChunk=function(u){this.push({data:a.transformTo(this.destType,u.data),meta:u.meta})},n.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var o=r("./GenericWorker"),a=r("../crc32");function s(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(s,o),s.prototype.processChunk=function(u){this.streamInfo.crc32=a(u.data,this.streamInfo.crc32||0),this.push(u)},n.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var o=r("../utils"),a=r("./GenericWorker");function s(u){a.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}o.inherits(s,a),s.prototype.processChunk=function(u){if(u){var l=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=l+u.data.length}a.prototype.processChunk.call(this,u)},n.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var o=r("../utils"),a=r("./GenericWorker");function s(u){a.call(this,"DataWorker");var l=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(f){l.dataIsReady=!0,l.data=f,l.max=f&&f.length||0,l.type=o.getTypeOf(f),l.isPaused||l._tickAndRepeat()},function(f){l.error(f)})}o.inherits(s,a),s.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,l=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,l);break;case"uint8array":u=this.data.subarray(this.index,l);break;case"array":case"nodebuffer":u=this.data.slice(this.index,l)}return this.index=l,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function o(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,s){return this._listeners[a].push(s),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,s){if(this._listeners[a])for(var u=0;u<this._listeners[a].length;u++)this._listeners[a][u].call(this,s)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var s=this;return a.on("data",function(u){s.processChunk(u)}),a.on("end",function(){s.end()}),a.on("error",function(u){s.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,s){return this.extraStreamInfo[a]=s,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},n.exports=o},{}],29:[function(r,n,i){var o=r("../utils"),a=r("./ConvertWorker"),s=r("./GenericWorker"),u=r("../base64"),l=r("../support"),f=r("../external"),c=null;if(l.nodestream)try{c=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(p,g){return new f.Promise(function(w,v){var m=[],y=p._internalType,E=p._outputType,T=p._mimeType;p.on("data",function(C,b){m.push(C),g&&g(b)}).on("error",function(C){m=[],v(C)}).on("end",function(){try{var C=function(b,k,S){switch(b){case"blob":return o.newBlob(o.transformTo("arraybuffer",k),S);case"base64":return u.encode(k);default:return o.transformTo(b,k)}}(E,function(b,k){var S,O=0,N=null,D=0;for(S=0;S<k.length;S++)D+=k[S].length;switch(b){case"string":return k.join("");case"array":return Array.prototype.concat.apply([],k);case"uint8array":for(N=new Uint8Array(D),S=0;S<k.length;S++)N.set(k[S],O),O+=k[S].length;return N;case"nodebuffer":return Buffer.concat(k);default:throw new Error("concat : unsupported type '"+b+"'")}}(y,m),T);w(C)}catch(b){v(b)}m=[]}).resume()})}function d(p,g,w){var v=g;switch(g){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=g,this._mimeType=w,o.checkSupport(v),this._worker=p.pipe(new a(v)),p.lock()}catch(m){this._worker=new s("error"),this._worker.error(m)}}d.prototype={accumulate:function(p){return h(this,p)},on:function(p,g){var w=this;return p==="data"?this._worker.on(p,function(v){g.call(w,v.data,v.meta)}):this._worker.on(p,function(){o.delay(g,arguments,w)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:this._outputType!=="nodebuffer"},p)}},n.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var o=new ArrayBuffer(0);try{i.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(o),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var o=r("./utils"),a=r("./support"),s=r("./nodejsUtils"),u=r("./stream/GenericWorker"),l=new Array(256),f=0;f<256;f++)l[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;l[254]=l[254]=1;function c(){u.call(this,"utf-8 decode"),this.leftOver=null}function h(){u.call(this,"utf-8 encode")}i.utf8encode=function(d){return a.nodebuffer?s.newBufferFrom(d,"utf-8"):function(p){var g,w,v,m,y,E=p.length,T=0;for(m=0;m<E;m++)(64512&(w=p.charCodeAt(m)))==55296&&m+1<E&&(64512&(v=p.charCodeAt(m+1)))==56320&&(w=65536+(w-55296<<10)+(v-56320),m++),T+=w<128?1:w<2048?2:w<65536?3:4;for(g=a.uint8array?new Uint8Array(T):new Array(T),m=y=0;y<T;m++)(64512&(w=p.charCodeAt(m)))==55296&&m+1<E&&(64512&(v=p.charCodeAt(m+1)))==56320&&(w=65536+(w-55296<<10)+(v-56320),m++),w<128?g[y++]=w:(w<2048?g[y++]=192|w>>>6:(w<65536?g[y++]=224|w>>>12:(g[y++]=240|w>>>18,g[y++]=128|w>>>12&63),g[y++]=128|w>>>6&63),g[y++]=128|63&w);return g}(d)},i.utf8decode=function(d){return a.nodebuffer?o.transformTo("nodebuffer",d).toString("utf-8"):function(p){var g,w,v,m,y=p.length,E=new Array(2*y);for(g=w=0;g<y;)if((v=p[g++])<128)E[w++]=v;else if(4<(m=l[v]))E[w++]=65533,g+=m-1;else{for(v&=m===2?31:m===3?15:7;1<m&&g<y;)v=v<<6|63&p[g++],m--;1<m?E[w++]=65533:v<65536?E[w++]=v:(v-=65536,E[w++]=55296|v>>10&1023,E[w++]=56320|1023&v)}return E.length!==w&&(E.subarray?E=E.subarray(0,w):E.length=w),o.applyFromCharCode(E)}(d=o.transformTo(a.uint8array?"uint8array":"array",d))},o.inherits(c,u),c.prototype.processChunk=function(d){var p=o.transformTo(a.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var g=p;(p=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),p.set(g,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var w=function(m,y){var E;for((y=y||m.length)>m.length&&(y=m.length),E=y-1;0<=E&&(192&m[E])==128;)E--;return E<0||E===0?y:E+l[m[E]]>y?E:y}(p),v=p;w!==p.length&&(a.uint8array?(v=p.subarray(0,w),this.leftOver=p.subarray(w,p.length)):(v=p.slice(0,w),this.leftOver=p.slice(w,p.length))),this.push({data:i.utf8decode(v),meta:d.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=c,o.inherits(h,u),h.prototype.processChunk=function(d){this.push({data:i.utf8encode(d.data),meta:d.meta})},i.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var o=r("./support"),a=r("./base64"),s=r("./nodejsUtils"),u=r("./external");function l(g){return g}function f(g,w){for(var v=0;v<g.length;++v)w[v]=255&g.charCodeAt(v);return w}r("setimmediate"),i.newBlob=function(g,w){i.checkSupport("blob");try{return new Blob([g],{type:w})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(g),v.getBlob(w)}catch{throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(g,w,v){var m=[],y=0,E=g.length;if(E<=v)return String.fromCharCode.apply(null,g);for(;y<E;)w==="array"||w==="nodebuffer"?m.push(String.fromCharCode.apply(null,g.slice(y,Math.min(y+v,E)))):m.push(String.fromCharCode.apply(null,g.subarray(y,Math.min(y+v,E)))),y+=v;return m.join("")},stringifyByChar:function(g){for(var w="",v=0;v<g.length;v++)w+=String.fromCharCode(g[v]);return w},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,s.allocBuffer(1)).length===1}catch{return!1}}()}};function h(g){var w=65536,v=i.getTypeOf(g),m=!0;if(v==="uint8array"?m=c.applyCanBeUsed.uint8array:v==="nodebuffer"&&(m=c.applyCanBeUsed.nodebuffer),m)for(;1<w;)try{return c.stringifyByChunk(g,v,w)}catch{w=Math.floor(w/2)}return c.stringifyByChar(g)}function d(g,w){for(var v=0;v<g.length;v++)w[v]=g[v];return w}i.applyFromCharCode=h;var p={};p.string={string:l,array:function(g){return f(g,new Array(g.length))},arraybuffer:function(g){return p.string.uint8array(g).buffer},uint8array:function(g){return f(g,new Uint8Array(g.length))},nodebuffer:function(g){return f(g,s.allocBuffer(g.length))}},p.array={string:h,array:l,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return s.newBufferFrom(g)}},p.arraybuffer={string:function(g){return h(new Uint8Array(g))},array:function(g){return d(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:l,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return s.newBufferFrom(new Uint8Array(g))}},p.uint8array={string:h,array:function(g){return d(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:l,nodebuffer:function(g){return s.newBufferFrom(g)}},p.nodebuffer={string:h,array:function(g){return d(g,new Array(g.length))},arraybuffer:function(g){return p.nodebuffer.uint8array(g).buffer},uint8array:function(g){return d(g,new Uint8Array(g.length))},nodebuffer:l},i.transformTo=function(g,w){if(w=w||"",!g)return w;i.checkSupport(g);var v=i.getTypeOf(w);return p[v][g](w)},i.resolve=function(g){for(var w=g.split("/"),v=[],m=0;m<w.length;m++){var y=w[m];y==="."||y===""&&m!==0&&m!==w.length-1||(y===".."?v.pop():v.push(y))}return v.join("/")},i.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":o.nodebuffer&&s.isBuffer(g)?"nodebuffer":o.uint8array&&g instanceof Uint8Array?"uint8array":o.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(g){if(!o[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(g){var w,v,m="";for(v=0;v<(g||"").length;v++)m+="\\x"+((w=g.charCodeAt(v))<16?"0":"")+w.toString(16).toUpperCase();return m},i.delay=function(g,w,v){setImmediate(function(){g.apply(v||null,w||[])})},i.inherits=function(g,w){function v(){}v.prototype=w.prototype,g.prototype=new v},i.extend=function(){var g,w,v={};for(g=0;g<arguments.length;g++)for(w in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],w)&&v[w]===void 0&&(v[w]=arguments[g][w]);return v},i.prepareContent=function(g,w,v,m,y){return u.Promise.resolve(w).then(function(E){return o.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader<"u"?new u.Promise(function(T,C){var b=new FileReader;b.onload=function(k){T(k.target.result)},b.onerror=function(k){C(k.target.error)},b.readAsArrayBuffer(E)}):E}).then(function(E){var T=i.getTypeOf(E);return T?(T==="arraybuffer"?E=i.transformTo("uint8array",E):T==="string"&&(y?E=a.decode(E):v&&m!==!0&&(E=function(C){return f(C,o.uint8array?new Uint8Array(C.length):new Array(C.length))}(E))),E):u.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var o=r("./reader/readerFor"),a=r("./utils"),s=r("./signature"),u=r("./zipEntry"),l=r("./support");function f(c){this.files=[],this.loadOptions=c}f.prototype={checkSignature:function(c){if(!this.reader.readAndCheckSignature(c)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(h)+", expected "+a.pretty(c)+")")}},isSignature:function(c,h){var d=this.reader.index;this.reader.setIndex(c);var p=this.reader.readString(4)===h;return this.reader.setIndex(d),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var c=this.reader.readData(this.zipCommentLength),h=l.uint8array?"uint8array":"array",d=a.transformTo(h,c);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var c,h,d,p=this.zip64EndOfCentralSize-44;0<p;)c=this.reader.readInt(2),h=this.reader.readInt(4),d=this.reader.readData(h),this.zip64ExtensibleData[c]={id:c,length:h,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var c,h;for(c=0;c<this.files.length;c++)h=this.files[c],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var c;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(c=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(c);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var c=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(c<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(c);var h=c;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(c=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(c),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var p=h-d;if(0<p)this.isSignature(h,s.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(c){this.reader=o(c)},load:function(c){this.prepareReader(c),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var o=r("./reader/readerFor"),a=r("./utils"),s=r("./compressedObject"),u=r("./crc32"),l=r("./utf8"),f=r("./compressions"),c=r("./support");function h(d,p){this.options=d,this.loadOptions=p}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(d){var p,g;if(d.skip(22),this.fileNameLength=d.readInt(2),g=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=function(w){for(var v in f)if(Object.prototype.hasOwnProperty.call(f,v)&&f[v].magic===w)return f[v];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,p,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var p=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(p),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),d==0&&(this.dosPermissions=63&this.externalFileAttributes),d==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=o(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var p,g,w,v=d.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});d.index+4<v;)p=d.readInt(2),g=d.readInt(2),w=d.readData(g),this.extraFields[p]={id:p,length:g,value:w};d.setIndex(v)},handleUTF8:function(){var d=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=l.utf8decode(this.fileName),this.fileCommentStr=l.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var g=a.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var w=this.findExtraFieldUnicodeComment();if(w!==null)this.fileCommentStr=w;else{var v=a.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var p=o(d.value);return p.readInt(1)!==1||u(this.fileName)!==p.readInt(4)?null:l.utf8decode(p.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var p=o(d.value);return p.readInt(1)!==1||u(this.fileComment)!==p.readInt(4)?null:l.utf8decode(p.readData(d.length-5))}return null}},n.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function o(p,g,w){this.name=p,this.dir=w.dir,this.date=w.date,this.comment=w.comment,this.unixPermissions=w.unixPermissions,this.dosPermissions=w.dosPermissions,this._data=g,this._dataBinary=w.binary,this.options={compression:w.compression,compressionOptions:w.compressionOptions}}var a=r("./stream/StreamHelper"),s=r("./stream/DataWorker"),u=r("./utf8"),l=r("./compressedObject"),f=r("./stream/GenericWorker");o.prototype={internalStream:function(p){var g=null,w="string";try{if(!p)throw new Error("No output type specified.");var v=(w=p.toLowerCase())==="string"||w==="text";w!=="binarystring"&&w!=="text"||(w="string"),g=this._decompressWorker();var m=!this._dataBinary;m&&!v&&(g=g.pipe(new u.Utf8EncodeWorker)),!m&&v&&(g=g.pipe(new u.Utf8DecodeWorker))}catch(y){(g=new f("error")).error(y)}return new a(g,w,"")},async:function(p,g){return this.internalStream(p).accumulate(g)},nodeStream:function(p,g){return this.internalStream(p||"nodebuffer").toNodejsStream(g)},_compressWorker:function(p,g){if(this._data instanceof l&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var w=this._decompressWorker();return this._dataBinary||(w=w.pipe(new u.Utf8EncodeWorker)),l.createWorkerFrom(w,p,g)},_decompressWorker:function(){return this._data instanceof l?this._data.getContentWorker():this._data instanceof f?this._data:new s(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<c.length;d++)o.prototype[c[d]]=h;n.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(o){var a,s,u=o.MutationObserver||o.WebKitMutationObserver;if(u){var l=0,f=new u(p),c=o.document.createTextNode("");f.observe(c,{characterData:!0}),a=function(){c.data=l=++l%2}}else if(o.setImmediate||o.MessageChannel===void 0)a="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var g=o.document.createElement("script");g.onreadystatechange=function(){p(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},o.document.documentElement.appendChild(g)}:function(){setTimeout(p,0)};else{var h=new o.MessageChannel;h.port1.onmessage=p,a=function(){h.port2.postMessage(0)}}var d=[];function p(){var g,w;s=!0;for(var v=d.length;v;){for(w=d,d=[],g=-1;++g<v;)w[g]();v=d.length}s=!1}n.exports=function(g){d.push(g)!==1||s||a()}}).call(this,typeof It<"u"?It:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var o=r("immediate");function a(){}var s={},u=["REJECTED"],l=["FULFILLED"],f=["PENDING"];function c(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,v!==a&&g(this,v)}function h(v,m,y){this.promise=v,typeof m=="function"&&(this.onFulfilled=m,this.callFulfilled=this.otherCallFulfilled),typeof y=="function"&&(this.onRejected=y,this.callRejected=this.otherCallRejected)}function d(v,m,y){o(function(){var E;try{E=m(y)}catch(T){return s.reject(v,T)}E===v?s.reject(v,new TypeError("Cannot resolve promise with itself")):s.resolve(v,E)})}function p(v){var m=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof m=="function")return function(){m.apply(v,arguments)}}function g(v,m){var y=!1;function E(b){y||(y=!0,s.reject(v,b))}function T(b){y||(y=!0,s.resolve(v,b))}var C=w(function(){m(T,E)});C.status==="error"&&E(C.value)}function w(v,m){var y={};try{y.value=v(m),y.status="success"}catch(E){y.status="error",y.value=E}return y}(n.exports=c).prototype.finally=function(v){if(typeof v!="function")return this;var m=this.constructor;return this.then(function(y){return m.resolve(v()).then(function(){return y})},function(y){return m.resolve(v()).then(function(){throw y})})},c.prototype.catch=function(v){return this.then(null,v)},c.prototype.then=function(v,m){if(typeof v!="function"&&this.state===l||typeof m!="function"&&this.state===u)return this;var y=new this.constructor(a);return this.state!==f?d(y,this.state===l?v:m,this.outcome):this.queue.push(new h(y,v,m)),y},h.prototype.callFulfilled=function(v){s.resolve(this.promise,v)},h.prototype.otherCallFulfilled=function(v){d(this.promise,this.onFulfilled,v)},h.prototype.callRejected=function(v){s.reject(this.promise,v)},h.prototype.otherCallRejected=function(v){d(this.promise,this.onRejected,v)},s.resolve=function(v,m){var y=w(p,m);if(y.status==="error")return s.reject(v,y.value);var E=y.value;if(E)g(v,E);else{v.state=l,v.outcome=m;for(var T=-1,C=v.queue.length;++T<C;)v.queue[T].callFulfilled(m)}return v},s.reject=function(v,m){v.state=u,v.outcome=m;for(var y=-1,E=v.queue.length;++y<E;)v.queue[y].callRejected(m);return v},c.resolve=function(v){return v instanceof this?v:s.resolve(new this(a),v)},c.reject=function(v){var m=new this(a);return s.reject(m,v)},c.all=function(v){var m=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=v.length,E=!1;if(!y)return this.resolve([]);for(var T=new Array(y),C=0,b=-1,k=new this(a);++b<y;)S(v[b],b);return k;function S(O,N){m.resolve(O).then(function(D){T[N]=D,++C!==y||E||(E=!0,s.resolve(k,T))},function(D){E||(E=!0,s.reject(k,D))})}},c.race=function(v){var m=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=v.length,E=!1;if(!y)return this.resolve([]);for(var T=-1,C=new this(a);++T<y;)b=v[T],m.resolve(b).then(function(k){E||(E=!0,s.resolve(C,k))},function(k){E||(E=!0,s.reject(C,k))});var b;return C}},{immediate:36}],38:[function(r,n,i){var o={};(0,r("./lib/utils/common").assign)(o,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var o=r("./zlib/deflate"),a=r("./utils/common"),s=r("./utils/strings"),u=r("./zlib/messages"),l=r("./zlib/zstream"),f=Object.prototype.toString,c=0,h=-1,d=0,p=8;function g(v){if(!(this instanceof g))return new g(v);this.options=a.assign({level:h,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},v||{});var m=this.options;m.raw&&0<m.windowBits?m.windowBits=-m.windowBits:m.gzip&&0<m.windowBits&&m.windowBits<16&&(m.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var y=o.deflateInit2(this.strm,m.level,m.method,m.windowBits,m.memLevel,m.strategy);if(y!==c)throw new Error(u[y]);if(m.header&&o.deflateSetHeader(this.strm,m.header),m.dictionary){var E;if(E=typeof m.dictionary=="string"?s.string2buf(m.dictionary):f.call(m.dictionary)==="[object ArrayBuffer]"?new Uint8Array(m.dictionary):m.dictionary,(y=o.deflateSetDictionary(this.strm,E))!==c)throw new Error(u[y]);this._dict_set=!0}}function w(v,m){var y=new g(m);if(y.push(v,!0),y.err)throw y.msg||u[y.err];return y.result}g.prototype.push=function(v,m){var y,E,T=this.strm,C=this.options.chunkSize;if(this.ended)return!1;E=m===~~m?m:m===!0?4:0,typeof v=="string"?T.input=s.string2buf(v):f.call(v)==="[object ArrayBuffer]"?T.input=new Uint8Array(v):T.input=v,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new a.Buf8(C),T.next_out=0,T.avail_out=C),(y=o.deflate(T,E))!==1&&y!==c)return this.onEnd(y),!(this.ended=!0);T.avail_out!==0&&(T.avail_in!==0||E!==4&&E!==2)||(this.options.to==="string"?this.onData(s.buf2binstring(a.shrinkBuf(T.output,T.next_out))):this.onData(a.shrinkBuf(T.output,T.next_out)))}while((0<T.avail_in||T.avail_out===0)&&y!==1);return E===4?(y=o.deflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===c):E!==2||(this.onEnd(c),!(T.avail_out=0))},g.prototype.onData=function(v){this.chunks.push(v)},g.prototype.onEnd=function(v){v===c&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Deflate=g,i.deflate=w,i.deflateRaw=function(v,m){return(m=m||{}).raw=!0,w(v,m)},i.gzip=function(v,m){return(m=m||{}).gzip=!0,w(v,m)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var o=r("./zlib/inflate"),a=r("./utils/common"),s=r("./utils/strings"),u=r("./zlib/constants"),l=r("./zlib/messages"),f=r("./zlib/zstream"),c=r("./zlib/gzheader"),h=Object.prototype.toString;function d(g){if(!(this instanceof d))return new d(g);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},g||{});var w=this.options;w.raw&&0<=w.windowBits&&w.windowBits<16&&(w.windowBits=-w.windowBits,w.windowBits===0&&(w.windowBits=-15)),!(0<=w.windowBits&&w.windowBits<16)||g&&g.windowBits||(w.windowBits+=32),15<w.windowBits&&w.windowBits<48&&!(15&w.windowBits)&&(w.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var v=o.inflateInit2(this.strm,w.windowBits);if(v!==u.Z_OK)throw new Error(l[v]);this.header=new c,o.inflateGetHeader(this.strm,this.header)}function p(g,w){var v=new d(w);if(v.push(g,!0),v.err)throw v.msg||l[v.err];return v.result}d.prototype.push=function(g,w){var v,m,y,E,T,C,b=this.strm,k=this.options.chunkSize,S=this.options.dictionary,O=!1;if(this.ended)return!1;m=w===~~w?w:w===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof g=="string"?b.input=s.binstring2buf(g):h.call(g)==="[object ArrayBuffer]"?b.input=new Uint8Array(g):b.input=g,b.next_in=0,b.avail_in=b.input.length;do{if(b.avail_out===0&&(b.output=new a.Buf8(k),b.next_out=0,b.avail_out=k),(v=o.inflate(b,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&S&&(C=typeof S=="string"?s.string2buf(S):h.call(S)==="[object ArrayBuffer]"?new Uint8Array(S):S,v=o.inflateSetDictionary(this.strm,C)),v===u.Z_BUF_ERROR&&O===!0&&(v=u.Z_OK,O=!1),v!==u.Z_STREAM_END&&v!==u.Z_OK)return this.onEnd(v),!(this.ended=!0);b.next_out&&(b.avail_out!==0&&v!==u.Z_STREAM_END&&(b.avail_in!==0||m!==u.Z_FINISH&&m!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(y=s.utf8border(b.output,b.next_out),E=b.next_out-y,T=s.buf2string(b.output,y),b.next_out=E,b.avail_out=k-E,E&&a.arraySet(b.output,b.output,y,E,0),this.onData(T)):this.onData(a.shrinkBuf(b.output,b.next_out)))),b.avail_in===0&&b.avail_out===0&&(O=!0)}while((0<b.avail_in||b.avail_out===0)&&v!==u.Z_STREAM_END);return v===u.Z_STREAM_END&&(m=u.Z_FINISH),m===u.Z_FINISH?(v=o.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===u.Z_OK):m!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(b.avail_out=0))},d.prototype.onData=function(g){this.chunks.push(g)},d.prototype.onEnd=function(g){g===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Inflate=d,i.inflate=p,i.inflateRaw=function(g,w){return(w=w||{}).raw=!0,p(g,w)},i.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(u){for(var l=Array.prototype.slice.call(arguments,1);l.length;){var f=l.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var c in f)f.hasOwnProperty(c)&&(u[c]=f[c])}}return u},i.shrinkBuf=function(u,l){return u.length===l?u:u.subarray?u.subarray(0,l):(u.length=l,u)};var a={arraySet:function(u,l,f,c,h){if(l.subarray&&u.subarray)u.set(l.subarray(f,f+c),h);else for(var d=0;d<c;d++)u[h+d]=l[f+d]},flattenChunks:function(u){var l,f,c,h,d,p;for(l=c=0,f=u.length;l<f;l++)c+=u[l].length;for(p=new Uint8Array(c),l=h=0,f=u.length;l<f;l++)d=u[l],p.set(d,h),h+=d.length;return p}},s={arraySet:function(u,l,f,c,h){for(var d=0;d<c;d++)u[h+d]=l[f+d]},flattenChunks:function(u){return[].concat.apply([],u)}};i.setTyped=function(u){u?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,s))},i.setTyped(o)},{}],42:[function(r,n,i){var o=r("./common"),a=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var u=new o.Buf8(256),l=0;l<256;l++)u[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function f(c,h){if(h<65537&&(c.subarray&&s||!c.subarray&&a))return String.fromCharCode.apply(null,o.shrinkBuf(c,h));for(var d="",p=0;p<h;p++)d+=String.fromCharCode(c[p]);return d}u[254]=u[254]=1,i.string2buf=function(c){var h,d,p,g,w,v=c.length,m=0;for(g=0;g<v;g++)(64512&(d=c.charCodeAt(g)))==55296&&g+1<v&&(64512&(p=c.charCodeAt(g+1)))==56320&&(d=65536+(d-55296<<10)+(p-56320),g++),m+=d<128?1:d<2048?2:d<65536?3:4;for(h=new o.Buf8(m),g=w=0;w<m;g++)(64512&(d=c.charCodeAt(g)))==55296&&g+1<v&&(64512&(p=c.charCodeAt(g+1)))==56320&&(d=65536+(d-55296<<10)+(p-56320),g++),d<128?h[w++]=d:(d<2048?h[w++]=192|d>>>6:(d<65536?h[w++]=224|d>>>12:(h[w++]=240|d>>>18,h[w++]=128|d>>>12&63),h[w++]=128|d>>>6&63),h[w++]=128|63&d);return h},i.buf2binstring=function(c){return f(c,c.length)},i.binstring2buf=function(c){for(var h=new o.Buf8(c.length),d=0,p=h.length;d<p;d++)h[d]=c.charCodeAt(d);return h},i.buf2string=function(c,h){var d,p,g,w,v=h||c.length,m=new Array(2*v);for(d=p=0;d<v;)if((g=c[d++])<128)m[p++]=g;else if(4<(w=u[g]))m[p++]=65533,d+=w-1;else{for(g&=w===2?31:w===3?15:7;1<w&&d<v;)g=g<<6|63&c[d++],w--;1<w?m[p++]=65533:g<65536?m[p++]=g:(g-=65536,m[p++]=55296|g>>10&1023,m[p++]=56320|1023&g)}return f(m,p)},i.utf8border=function(c,h){var d;for((h=h||c.length)>c.length&&(h=c.length),d=h-1;0<=d&&(192&c[d])==128;)d--;return d<0||d===0?h:d+u[c[d]]>h?d:h}},{"./common":41}],43:[function(r,n,i){n.exports=function(o,a,s,u){for(var l=65535&o|0,f=o>>>16&65535|0,c=0;s!==0;){for(s-=c=2e3<s?2e3:s;f=f+(l=l+a[u++]|0)|0,--c;);l%=65521,f%=65521}return l|f<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var o=function(){for(var a,s=[],u=0;u<256;u++){a=u;for(var l=0;l<8;l++)a=1&a?3988292384^a>>>1:a>>>1;s[u]=a}return s}();n.exports=function(a,s,u,l){var f=o,c=l+u;a^=-1;for(var h=l;h<c;h++)a=a>>>8^f[255&(a^s[h])];return-1^a}},{}],46:[function(r,n,i){var o,a=r("../utils/common"),s=r("./trees"),u=r("./adler32"),l=r("./crc32"),f=r("./messages"),c=0,h=4,d=0,p=-2,g=-1,w=4,v=2,m=8,y=9,E=286,T=30,C=19,b=2*E+1,k=15,S=3,O=258,N=O+S+1,D=42,I=113,x=1,P=2,L=3,M=4;function R(z,ae){return z.msg=f[ae],ae}function V(z){return(z<<1)-(4<z?9:0)}function U(z){for(var ae=z.length;0<=--ae;)z[ae]=0}function q(z){var ae=z.state,Z=ae.pending;Z>z.avail_out&&(Z=z.avail_out),Z!==0&&(a.arraySet(z.output,ae.pending_buf,ae.pending_out,Z,z.next_out),z.next_out+=Z,ae.pending_out+=Z,z.total_out+=Z,z.avail_out-=Z,ae.pending-=Z,ae.pending===0&&(ae.pending_out=0))}function $(z,ae){s._tr_flush_block(z,0<=z.block_start?z.block_start:-1,z.strstart-z.block_start,ae),z.block_start=z.strstart,q(z.strm)}function X(z,ae){z.pending_buf[z.pending++]=ae}function B(z,ae){z.pending_buf[z.pending++]=ae>>>8&255,z.pending_buf[z.pending++]=255&ae}function H(z,ae){var Z,W,Y=z.max_chain_length,ie=z.strstart,ve=z.prev_length,me=z.nice_match,fe=z.strstart>z.w_size-N?z.strstart-(z.w_size-N):0,le=z.window,ee=z.w_mask,oe=z.prev,ge=z.strstart+O,_e=le[ie+ve-1],we=le[ie+ve];z.prev_length>=z.good_match&&(Y>>=2),me>z.lookahead&&(me=z.lookahead);do if(le[(Z=ae)+ve]===we&&le[Z+ve-1]===_e&&le[Z]===le[ie]&&le[++Z]===le[ie+1]){ie+=2,Z++;do;while(le[++ie]===le[++Z]&&le[++ie]===le[++Z]&&le[++ie]===le[++Z]&&le[++ie]===le[++Z]&&le[++ie]===le[++Z]&&le[++ie]===le[++Z]&&le[++ie]===le[++Z]&&le[++ie]===le[++Z]&&ie<ge);if(W=O-(ge-ie),ie=ge-O,ve<W){if(z.match_start=ae,me<=(ve=W))break;_e=le[ie+ve-1],we=le[ie+ve]}}while((ae=oe[ae&ee])>fe&&--Y!=0);return ve<=z.lookahead?ve:z.lookahead}function j(z){var ae,Z,W,Y,ie,ve,me,fe,le,ee,oe=z.w_size;do{if(Y=z.window_size-z.lookahead-z.strstart,z.strstart>=oe+(oe-N)){for(a.arraySet(z.window,z.window,oe,oe,0),z.match_start-=oe,z.strstart-=oe,z.block_start-=oe,ae=Z=z.hash_size;W=z.head[--ae],z.head[ae]=oe<=W?W-oe:0,--Z;);for(ae=Z=oe;W=z.prev[--ae],z.prev[ae]=oe<=W?W-oe:0,--Z;);Y+=oe}if(z.strm.avail_in===0)break;if(ve=z.strm,me=z.window,fe=z.strstart+z.lookahead,le=Y,ee=void 0,ee=ve.avail_in,le<ee&&(ee=le),Z=ee===0?0:(ve.avail_in-=ee,a.arraySet(me,ve.input,ve.next_in,ee,fe),ve.state.wrap===1?ve.adler=u(ve.adler,me,ee,fe):ve.state.wrap===2&&(ve.adler=l(ve.adler,me,ee,fe)),ve.next_in+=ee,ve.total_in+=ee,ee),z.lookahead+=Z,z.lookahead+z.insert>=S)for(ie=z.strstart-z.insert,z.ins_h=z.window[ie],z.ins_h=(z.ins_h<<z.hash_shift^z.window[ie+1])&z.hash_mask;z.insert&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[ie+S-1])&z.hash_mask,z.prev[ie&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=ie,ie++,z.insert--,!(z.lookahead+z.insert<S)););}while(z.lookahead<N&&z.strm.avail_in!==0)}function K(z,ae){for(var Z,W;;){if(z.lookahead<N){if(j(z),z.lookahead<N&&ae===c)return x;if(z.lookahead===0)break}if(Z=0,z.lookahead>=S&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+S-1])&z.hash_mask,Z=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),Z!==0&&z.strstart-Z<=z.w_size-N&&(z.match_length=H(z,Z)),z.match_length>=S)if(W=s._tr_tally(z,z.strstart-z.match_start,z.match_length-S),z.lookahead-=z.match_length,z.match_length<=z.max_lazy_match&&z.lookahead>=S){for(z.match_length--;z.strstart++,z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+S-1])&z.hash_mask,Z=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart,--z.match_length!=0;);z.strstart++}else z.strstart+=z.match_length,z.match_length=0,z.ins_h=z.window[z.strstart],z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+1])&z.hash_mask;else W=s._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++;if(W&&($(z,!1),z.strm.avail_out===0))return x}return z.insert=z.strstart<S-1?z.strstart:S-1,ae===h?($(z,!0),z.strm.avail_out===0?L:M):z.last_lit&&($(z,!1),z.strm.avail_out===0)?x:P}function te(z,ae){for(var Z,W,Y;;){if(z.lookahead<N){if(j(z),z.lookahead<N&&ae===c)return x;if(z.lookahead===0)break}if(Z=0,z.lookahead>=S&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+S-1])&z.hash_mask,Z=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),z.prev_length=z.match_length,z.prev_match=z.match_start,z.match_length=S-1,Z!==0&&z.prev_length<z.max_lazy_match&&z.strstart-Z<=z.w_size-N&&(z.match_length=H(z,Z),z.match_length<=5&&(z.strategy===1||z.match_length===S&&4096<z.strstart-z.match_start)&&(z.match_length=S-1)),z.prev_length>=S&&z.match_length<=z.prev_length){for(Y=z.strstart+z.lookahead-S,W=s._tr_tally(z,z.strstart-1-z.prev_match,z.prev_length-S),z.lookahead-=z.prev_length-1,z.prev_length-=2;++z.strstart<=Y&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+S-1])&z.hash_mask,Z=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),--z.prev_length!=0;);if(z.match_available=0,z.match_length=S-1,z.strstart++,W&&($(z,!1),z.strm.avail_out===0))return x}else if(z.match_available){if((W=s._tr_tally(z,0,z.window[z.strstart-1]))&&$(z,!1),z.strstart++,z.lookahead--,z.strm.avail_out===0)return x}else z.match_available=1,z.strstart++,z.lookahead--}return z.match_available&&(W=s._tr_tally(z,0,z.window[z.strstart-1]),z.match_available=0),z.insert=z.strstart<S-1?z.strstart:S-1,ae===h?($(z,!0),z.strm.avail_out===0?L:M):z.last_lit&&($(z,!1),z.strm.avail_out===0)?x:P}function re(z,ae,Z,W,Y){this.good_length=z,this.max_lazy=ae,this.nice_length=Z,this.max_chain=W,this.func=Y}function ue(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=m,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*b),this.dyn_dtree=new a.Buf16(2*(2*T+1)),this.bl_tree=new a.Buf16(2*(2*C+1)),U(this.dyn_ltree),U(this.dyn_dtree),U(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(k+1),this.heap=new a.Buf16(2*E+1),U(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*E+1),U(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function se(z){var ae;return z&&z.state?(z.total_in=z.total_out=0,z.data_type=v,(ae=z.state).pending=0,ae.pending_out=0,ae.wrap<0&&(ae.wrap=-ae.wrap),ae.status=ae.wrap?D:I,z.adler=ae.wrap===2?0:1,ae.last_flush=c,s._tr_init(ae),d):R(z,p)}function de(z){var ae=se(z);return ae===d&&function(Z){Z.window_size=2*Z.w_size,U(Z.head),Z.max_lazy_match=o[Z.level].max_lazy,Z.good_match=o[Z.level].good_length,Z.nice_match=o[Z.level].nice_length,Z.max_chain_length=o[Z.level].max_chain,Z.strstart=0,Z.block_start=0,Z.lookahead=0,Z.insert=0,Z.match_length=Z.prev_length=S-1,Z.match_available=0,Z.ins_h=0}(z.state),ae}function be(z,ae,Z,W,Y,ie){if(!z)return p;var ve=1;if(ae===g&&(ae=6),W<0?(ve=0,W=-W):15<W&&(ve=2,W-=16),Y<1||y<Y||Z!==m||W<8||15<W||ae<0||9<ae||ie<0||w<ie)return R(z,p);W===8&&(W=9);var me=new ue;return(z.state=me).strm=z,me.wrap=ve,me.gzhead=null,me.w_bits=W,me.w_size=1<<me.w_bits,me.w_mask=me.w_size-1,me.hash_bits=Y+7,me.hash_size=1<<me.hash_bits,me.hash_mask=me.hash_size-1,me.hash_shift=~~((me.hash_bits+S-1)/S),me.window=new a.Buf8(2*me.w_size),me.head=new a.Buf16(me.hash_size),me.prev=new a.Buf16(me.w_size),me.lit_bufsize=1<<Y+6,me.pending_buf_size=4*me.lit_bufsize,me.pending_buf=new a.Buf8(me.pending_buf_size),me.d_buf=1*me.lit_bufsize,me.l_buf=3*me.lit_bufsize,me.level=ae,me.strategy=ie,me.method=Z,de(z)}o=[new re(0,0,0,0,function(z,ae){var Z=65535;for(Z>z.pending_buf_size-5&&(Z=z.pending_buf_size-5);;){if(z.lookahead<=1){if(j(z),z.lookahead===0&&ae===c)return x;if(z.lookahead===0)break}z.strstart+=z.lookahead,z.lookahead=0;var W=z.block_start+Z;if((z.strstart===0||z.strstart>=W)&&(z.lookahead=z.strstart-W,z.strstart=W,$(z,!1),z.strm.avail_out===0)||z.strstart-z.block_start>=z.w_size-N&&($(z,!1),z.strm.avail_out===0))return x}return z.insert=0,ae===h?($(z,!0),z.strm.avail_out===0?L:M):(z.strstart>z.block_start&&($(z,!1),z.strm.avail_out),x)}),new re(4,4,8,4,K),new re(4,5,16,8,K),new re(4,6,32,32,K),new re(4,4,16,16,te),new re(8,16,32,32,te),new re(8,16,128,128,te),new re(8,32,128,256,te),new re(32,128,258,1024,te),new re(32,258,258,4096,te)],i.deflateInit=function(z,ae){return be(z,ae,m,15,8,0)},i.deflateInit2=be,i.deflateReset=de,i.deflateResetKeep=se,i.deflateSetHeader=function(z,ae){return z&&z.state?z.state.wrap!==2?p:(z.state.gzhead=ae,d):p},i.deflate=function(z,ae){var Z,W,Y,ie;if(!z||!z.state||5<ae||ae<0)return z?R(z,p):p;if(W=z.state,!z.output||!z.input&&z.avail_in!==0||W.status===666&&ae!==h)return R(z,z.avail_out===0?-5:p);if(W.strm=z,Z=W.last_flush,W.last_flush=ae,W.status===D)if(W.wrap===2)z.adler=0,X(W,31),X(W,139),X(W,8),W.gzhead?(X(W,(W.gzhead.text?1:0)+(W.gzhead.hcrc?2:0)+(W.gzhead.extra?4:0)+(W.gzhead.name?8:0)+(W.gzhead.comment?16:0)),X(W,255&W.gzhead.time),X(W,W.gzhead.time>>8&255),X(W,W.gzhead.time>>16&255),X(W,W.gzhead.time>>24&255),X(W,W.level===9?2:2<=W.strategy||W.level<2?4:0),X(W,255&W.gzhead.os),W.gzhead.extra&&W.gzhead.extra.length&&(X(W,255&W.gzhead.extra.length),X(W,W.gzhead.extra.length>>8&255)),W.gzhead.hcrc&&(z.adler=l(z.adler,W.pending_buf,W.pending,0)),W.gzindex=0,W.status=69):(X(W,0),X(W,0),X(W,0),X(W,0),X(W,0),X(W,W.level===9?2:2<=W.strategy||W.level<2?4:0),X(W,3),W.status=I);else{var ve=m+(W.w_bits-8<<4)<<8;ve|=(2<=W.strategy||W.level<2?0:W.level<6?1:W.level===6?2:3)<<6,W.strstart!==0&&(ve|=32),ve+=31-ve%31,W.status=I,B(W,ve),W.strstart!==0&&(B(W,z.adler>>>16),B(W,65535&z.adler)),z.adler=1}if(W.status===69)if(W.gzhead.extra){for(Y=W.pending;W.gzindex<(65535&W.gzhead.extra.length)&&(W.pending!==W.pending_buf_size||(W.gzhead.hcrc&&W.pending>Y&&(z.adler=l(z.adler,W.pending_buf,W.pending-Y,Y)),q(z),Y=W.pending,W.pending!==W.pending_buf_size));)X(W,255&W.gzhead.extra[W.gzindex]),W.gzindex++;W.gzhead.hcrc&&W.pending>Y&&(z.adler=l(z.adler,W.pending_buf,W.pending-Y,Y)),W.gzindex===W.gzhead.extra.length&&(W.gzindex=0,W.status=73)}else W.status=73;if(W.status===73)if(W.gzhead.name){Y=W.pending;do{if(W.pending===W.pending_buf_size&&(W.gzhead.hcrc&&W.pending>Y&&(z.adler=l(z.adler,W.pending_buf,W.pending-Y,Y)),q(z),Y=W.pending,W.pending===W.pending_buf_size)){ie=1;break}ie=W.gzindex<W.gzhead.name.length?255&W.gzhead.name.charCodeAt(W.gzindex++):0,X(W,ie)}while(ie!==0);W.gzhead.hcrc&&W.pending>Y&&(z.adler=l(z.adler,W.pending_buf,W.pending-Y,Y)),ie===0&&(W.gzindex=0,W.status=91)}else W.status=91;if(W.status===91)if(W.gzhead.comment){Y=W.pending;do{if(W.pending===W.pending_buf_size&&(W.gzhead.hcrc&&W.pending>Y&&(z.adler=l(z.adler,W.pending_buf,W.pending-Y,Y)),q(z),Y=W.pending,W.pending===W.pending_buf_size)){ie=1;break}ie=W.gzindex<W.gzhead.comment.length?255&W.gzhead.comment.charCodeAt(W.gzindex++):0,X(W,ie)}while(ie!==0);W.gzhead.hcrc&&W.pending>Y&&(z.adler=l(z.adler,W.pending_buf,W.pending-Y,Y)),ie===0&&(W.status=103)}else W.status=103;if(W.status===103&&(W.gzhead.hcrc?(W.pending+2>W.pending_buf_size&&q(z),W.pending+2<=W.pending_buf_size&&(X(W,255&z.adler),X(W,z.adler>>8&255),z.adler=0,W.status=I)):W.status=I),W.pending!==0){if(q(z),z.avail_out===0)return W.last_flush=-1,d}else if(z.avail_in===0&&V(ae)<=V(Z)&&ae!==h)return R(z,-5);if(W.status===666&&z.avail_in!==0)return R(z,-5);if(z.avail_in!==0||W.lookahead!==0||ae!==c&&W.status!==666){var me=W.strategy===2?function(fe,le){for(var ee;;){if(fe.lookahead===0&&(j(fe),fe.lookahead===0)){if(le===c)return x;break}if(fe.match_length=0,ee=s._tr_tally(fe,0,fe.window[fe.strstart]),fe.lookahead--,fe.strstart++,ee&&($(fe,!1),fe.strm.avail_out===0))return x}return fe.insert=0,le===h?($(fe,!0),fe.strm.avail_out===0?L:M):fe.last_lit&&($(fe,!1),fe.strm.avail_out===0)?x:P}(W,ae):W.strategy===3?function(fe,le){for(var ee,oe,ge,_e,we=fe.window;;){if(fe.lookahead<=O){if(j(fe),fe.lookahead<=O&&le===c)return x;if(fe.lookahead===0)break}if(fe.match_length=0,fe.lookahead>=S&&0<fe.strstart&&(oe=we[ge=fe.strstart-1])===we[++ge]&&oe===we[++ge]&&oe===we[++ge]){_e=fe.strstart+O;do;while(oe===we[++ge]&&oe===we[++ge]&&oe===we[++ge]&&oe===we[++ge]&&oe===we[++ge]&&oe===we[++ge]&&oe===we[++ge]&&oe===we[++ge]&&ge<_e);fe.match_length=O-(_e-ge),fe.match_length>fe.lookahead&&(fe.match_length=fe.lookahead)}if(fe.match_length>=S?(ee=s._tr_tally(fe,1,fe.match_length-S),fe.lookahead-=fe.match_length,fe.strstart+=fe.match_length,fe.match_length=0):(ee=s._tr_tally(fe,0,fe.window[fe.strstart]),fe.lookahead--,fe.strstart++),ee&&($(fe,!1),fe.strm.avail_out===0))return x}return fe.insert=0,le===h?($(fe,!0),fe.strm.avail_out===0?L:M):fe.last_lit&&($(fe,!1),fe.strm.avail_out===0)?x:P}(W,ae):o[W.level].func(W,ae);if(me!==L&&me!==M||(W.status=666),me===x||me===L)return z.avail_out===0&&(W.last_flush=-1),d;if(me===P&&(ae===1?s._tr_align(W):ae!==5&&(s._tr_stored_block(W,0,0,!1),ae===3&&(U(W.head),W.lookahead===0&&(W.strstart=0,W.block_start=0,W.insert=0))),q(z),z.avail_out===0))return W.last_flush=-1,d}return ae!==h?d:W.wrap<=0?1:(W.wrap===2?(X(W,255&z.adler),X(W,z.adler>>8&255),X(W,z.adler>>16&255),X(W,z.adler>>24&255),X(W,255&z.total_in),X(W,z.total_in>>8&255),X(W,z.total_in>>16&255),X(W,z.total_in>>24&255)):(B(W,z.adler>>>16),B(W,65535&z.adler)),q(z),0<W.wrap&&(W.wrap=-W.wrap),W.pending!==0?d:1)},i.deflateEnd=function(z){var ae;return z&&z.state?(ae=z.state.status)!==D&&ae!==69&&ae!==73&&ae!==91&&ae!==103&&ae!==I&&ae!==666?R(z,p):(z.state=null,ae===I?R(z,-3):d):p},i.deflateSetDictionary=function(z,ae){var Z,W,Y,ie,ve,me,fe,le,ee=ae.length;if(!z||!z.state||(ie=(Z=z.state).wrap)===2||ie===1&&Z.status!==D||Z.lookahead)return p;for(ie===1&&(z.adler=u(z.adler,ae,ee,0)),Z.wrap=0,ee>=Z.w_size&&(ie===0&&(U(Z.head),Z.strstart=0,Z.block_start=0,Z.insert=0),le=new a.Buf8(Z.w_size),a.arraySet(le,ae,ee-Z.w_size,Z.w_size,0),ae=le,ee=Z.w_size),ve=z.avail_in,me=z.next_in,fe=z.input,z.avail_in=ee,z.next_in=0,z.input=ae,j(Z);Z.lookahead>=S;){for(W=Z.strstart,Y=Z.lookahead-(S-1);Z.ins_h=(Z.ins_h<<Z.hash_shift^Z.window[W+S-1])&Z.hash_mask,Z.prev[W&Z.w_mask]=Z.head[Z.ins_h],Z.head[Z.ins_h]=W,W++,--Y;);Z.strstart=W,Z.lookahead=S-1,j(Z)}return Z.strstart+=Z.lookahead,Z.block_start=Z.strstart,Z.insert=Z.lookahead,Z.lookahead=0,Z.match_length=Z.prev_length=S-1,Z.match_available=0,z.next_in=me,z.input=fe,z.avail_in=ve,Z.wrap=ie,d},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(o,a){var s,u,l,f,c,h,d,p,g,w,v,m,y,E,T,C,b,k,S,O,N,D,I,x,P;s=o.state,u=o.next_in,x=o.input,l=u+(o.avail_in-5),f=o.next_out,P=o.output,c=f-(a-o.avail_out),h=f+(o.avail_out-257),d=s.dmax,p=s.wsize,g=s.whave,w=s.wnext,v=s.window,m=s.hold,y=s.bits,E=s.lencode,T=s.distcode,C=(1<<s.lenbits)-1,b=(1<<s.distbits)-1;e:do{y<15&&(m+=x[u++]<<y,y+=8,m+=x[u++]<<y,y+=8),k=E[m&C];t:for(;;){if(m>>>=S=k>>>24,y-=S,(S=k>>>16&255)===0)P[f++]=65535&k;else{if(!(16&S)){if(!(64&S)){k=E[(65535&k)+(m&(1<<S)-1)];continue t}if(32&S){s.mode=12;break e}o.msg="invalid literal/length code",s.mode=30;break e}O=65535&k,(S&=15)&&(y<S&&(m+=x[u++]<<y,y+=8),O+=m&(1<<S)-1,m>>>=S,y-=S),y<15&&(m+=x[u++]<<y,y+=8,m+=x[u++]<<y,y+=8),k=T[m&b];r:for(;;){if(m>>>=S=k>>>24,y-=S,!(16&(S=k>>>16&255))){if(!(64&S)){k=T[(65535&k)+(m&(1<<S)-1)];continue r}o.msg="invalid distance code",s.mode=30;break e}if(N=65535&k,y<(S&=15)&&(m+=x[u++]<<y,(y+=8)<S&&(m+=x[u++]<<y,y+=8)),d<(N+=m&(1<<S)-1)){o.msg="invalid distance too far back",s.mode=30;break e}if(m>>>=S,y-=S,(S=f-c)<N){if(g<(S=N-S)&&s.sane){o.msg="invalid distance too far back",s.mode=30;break e}if(I=v,(D=0)===w){if(D+=p-S,S<O){for(O-=S;P[f++]=v[D++],--S;);D=f-N,I=P}}else if(w<S){if(D+=p+w-S,(S-=w)<O){for(O-=S;P[f++]=v[D++],--S;);if(D=0,w<O){for(O-=S=w;P[f++]=v[D++],--S;);D=f-N,I=P}}}else if(D+=w-S,S<O){for(O-=S;P[f++]=v[D++],--S;);D=f-N,I=P}for(;2<O;)P[f++]=I[D++],P[f++]=I[D++],P[f++]=I[D++],O-=3;O&&(P[f++]=I[D++],1<O&&(P[f++]=I[D++]))}else{for(D=f-N;P[f++]=P[D++],P[f++]=P[D++],P[f++]=P[D++],2<(O-=3););O&&(P[f++]=P[D++],1<O&&(P[f++]=P[D++]))}break}}break}}while(u<l&&f<h);u-=O=y>>3,m&=(1<<(y-=O<<3))-1,o.next_in=u,o.next_out=f,o.avail_in=u<l?l-u+5:5-(u-l),o.avail_out=f<h?h-f+257:257-(f-h),s.hold=m,s.bits=y}},{}],49:[function(r,n,i){var o=r("../utils/common"),a=r("./adler32"),s=r("./crc32"),u=r("./inffast"),l=r("./inftrees"),f=1,c=2,h=0,d=-2,p=1,g=852,w=592;function v(D){return(D>>>24&255)+(D>>>8&65280)+((65280&D)<<8)+((255&D)<<24)}function m(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function y(D){var I;return D&&D.state?(I=D.state,D.total_in=D.total_out=I.total=0,D.msg="",I.wrap&&(D.adler=1&I.wrap),I.mode=p,I.last=0,I.havedict=0,I.dmax=32768,I.head=null,I.hold=0,I.bits=0,I.lencode=I.lendyn=new o.Buf32(g),I.distcode=I.distdyn=new o.Buf32(w),I.sane=1,I.back=-1,h):d}function E(D){var I;return D&&D.state?((I=D.state).wsize=0,I.whave=0,I.wnext=0,y(D)):d}function T(D,I){var x,P;return D&&D.state?(P=D.state,I<0?(x=0,I=-I):(x=1+(I>>4),I<48&&(I&=15)),I&&(I<8||15<I)?d:(P.window!==null&&P.wbits!==I&&(P.window=null),P.wrap=x,P.wbits=I,E(D))):d}function C(D,I){var x,P;return D?(P=new m,(D.state=P).window=null,(x=T(D,I))!==h&&(D.state=null),x):d}var b,k,S=!0;function O(D){if(S){var I;for(b=new o.Buf32(512),k=new o.Buf32(32),I=0;I<144;)D.lens[I++]=8;for(;I<256;)D.lens[I++]=9;for(;I<280;)D.lens[I++]=7;for(;I<288;)D.lens[I++]=8;for(l(f,D.lens,0,288,b,0,D.work,{bits:9}),I=0;I<32;)D.lens[I++]=5;l(c,D.lens,0,32,k,0,D.work,{bits:5}),S=!1}D.lencode=b,D.lenbits=9,D.distcode=k,D.distbits=5}function N(D,I,x,P){var L,M=D.state;return M.window===null&&(M.wsize=1<<M.wbits,M.wnext=0,M.whave=0,M.window=new o.Buf8(M.wsize)),P>=M.wsize?(o.arraySet(M.window,I,x-M.wsize,M.wsize,0),M.wnext=0,M.whave=M.wsize):(P<(L=M.wsize-M.wnext)&&(L=P),o.arraySet(M.window,I,x-P,L,M.wnext),(P-=L)?(o.arraySet(M.window,I,x-P,P,0),M.wnext=P,M.whave=M.wsize):(M.wnext+=L,M.wnext===M.wsize&&(M.wnext=0),M.whave<M.wsize&&(M.whave+=L))),0}i.inflateReset=E,i.inflateReset2=T,i.inflateResetKeep=y,i.inflateInit=function(D){return C(D,15)},i.inflateInit2=C,i.inflate=function(D,I){var x,P,L,M,R,V,U,q,$,X,B,H,j,K,te,re,ue,se,de,be,z,ae,Z,W,Y=0,ie=new o.Buf8(4),ve=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!D||!D.state||!D.output||!D.input&&D.avail_in!==0)return d;(x=D.state).mode===12&&(x.mode=13),R=D.next_out,L=D.output,U=D.avail_out,M=D.next_in,P=D.input,V=D.avail_in,q=x.hold,$=x.bits,X=V,B=U,ae=h;e:for(;;)switch(x.mode){case p:if(x.wrap===0){x.mode=13;break}for(;$<16;){if(V===0)break e;V--,q+=P[M++]<<$,$+=8}if(2&x.wrap&&q===35615){ie[x.check=0]=255&q,ie[1]=q>>>8&255,x.check=s(x.check,ie,2,0),$=q=0,x.mode=2;break}if(x.flags=0,x.head&&(x.head.done=!1),!(1&x.wrap)||(((255&q)<<8)+(q>>8))%31){D.msg="incorrect header check",x.mode=30;break}if((15&q)!=8){D.msg="unknown compression method",x.mode=30;break}if($-=4,z=8+(15&(q>>>=4)),x.wbits===0)x.wbits=z;else if(z>x.wbits){D.msg="invalid window size",x.mode=30;break}x.dmax=1<<z,D.adler=x.check=1,x.mode=512&q?10:12,$=q=0;break;case 2:for(;$<16;){if(V===0)break e;V--,q+=P[M++]<<$,$+=8}if(x.flags=q,(255&x.flags)!=8){D.msg="unknown compression method",x.mode=30;break}if(57344&x.flags){D.msg="unknown header flags set",x.mode=30;break}x.head&&(x.head.text=q>>8&1),512&x.flags&&(ie[0]=255&q,ie[1]=q>>>8&255,x.check=s(x.check,ie,2,0)),$=q=0,x.mode=3;case 3:for(;$<32;){if(V===0)break e;V--,q+=P[M++]<<$,$+=8}x.head&&(x.head.time=q),512&x.flags&&(ie[0]=255&q,ie[1]=q>>>8&255,ie[2]=q>>>16&255,ie[3]=q>>>24&255,x.check=s(x.check,ie,4,0)),$=q=0,x.mode=4;case 4:for(;$<16;){if(V===0)break e;V--,q+=P[M++]<<$,$+=8}x.head&&(x.head.xflags=255&q,x.head.os=q>>8),512&x.flags&&(ie[0]=255&q,ie[1]=q>>>8&255,x.check=s(x.check,ie,2,0)),$=q=0,x.mode=5;case 5:if(1024&x.flags){for(;$<16;){if(V===0)break e;V--,q+=P[M++]<<$,$+=8}x.length=q,x.head&&(x.head.extra_len=q),512&x.flags&&(ie[0]=255&q,ie[1]=q>>>8&255,x.check=s(x.check,ie,2,0)),$=q=0}else x.head&&(x.head.extra=null);x.mode=6;case 6:if(1024&x.flags&&(V<(H=x.length)&&(H=V),H&&(x.head&&(z=x.head.extra_len-x.length,x.head.extra||(x.head.extra=new Array(x.head.extra_len)),o.arraySet(x.head.extra,P,M,H,z)),512&x.flags&&(x.check=s(x.check,P,H,M)),V-=H,M+=H,x.length-=H),x.length))break e;x.length=0,x.mode=7;case 7:if(2048&x.flags){if(V===0)break e;for(H=0;z=P[M+H++],x.head&&z&&x.length<65536&&(x.head.name+=String.fromCharCode(z)),z&&H<V;);if(512&x.flags&&(x.check=s(x.check,P,H,M)),V-=H,M+=H,z)break e}else x.head&&(x.head.name=null);x.length=0,x.mode=8;case 8:if(4096&x.flags){if(V===0)break e;for(H=0;z=P[M+H++],x.head&&z&&x.length<65536&&(x.head.comment+=String.fromCharCode(z)),z&&H<V;);if(512&x.flags&&(x.check=s(x.check,P,H,M)),V-=H,M+=H,z)break e}else x.head&&(x.head.comment=null);x.mode=9;case 9:if(512&x.flags){for(;$<16;){if(V===0)break e;V--,q+=P[M++]<<$,$+=8}if(q!==(65535&x.check)){D.msg="header crc mismatch",x.mode=30;break}$=q=0}x.head&&(x.head.hcrc=x.flags>>9&1,x.head.done=!0),D.adler=x.check=0,x.mode=12;break;case 10:for(;$<32;){if(V===0)break e;V--,q+=P[M++]<<$,$+=8}D.adler=x.check=v(q),$=q=0,x.mode=11;case 11:if(x.havedict===0)return D.next_out=R,D.avail_out=U,D.next_in=M,D.avail_in=V,x.hold=q,x.bits=$,2;D.adler=x.check=1,x.mode=12;case 12:if(I===5||I===6)break e;case 13:if(x.last){q>>>=7&$,$-=7&$,x.mode=27;break}for(;$<3;){if(V===0)break e;V--,q+=P[M++]<<$,$+=8}switch(x.last=1&q,$-=1,3&(q>>>=1)){case 0:x.mode=14;break;case 1:if(O(x),x.mode=20,I!==6)break;q>>>=2,$-=2;break e;case 2:x.mode=17;break;case 3:D.msg="invalid block type",x.mode=30}q>>>=2,$-=2;break;case 14:for(q>>>=7&$,$-=7&$;$<32;){if(V===0)break e;V--,q+=P[M++]<<$,$+=8}if((65535&q)!=(q>>>16^65535)){D.msg="invalid stored block lengths",x.mode=30;break}if(x.length=65535&q,$=q=0,x.mode=15,I===6)break e;case 15:x.mode=16;case 16:if(H=x.length){if(V<H&&(H=V),U<H&&(H=U),H===0)break e;o.arraySet(L,P,M,H,R),V-=H,M+=H,U-=H,R+=H,x.length-=H;break}x.mode=12;break;case 17:for(;$<14;){if(V===0)break e;V--,q+=P[M++]<<$,$+=8}if(x.nlen=257+(31&q),q>>>=5,$-=5,x.ndist=1+(31&q),q>>>=5,$-=5,x.ncode=4+(15&q),q>>>=4,$-=4,286<x.nlen||30<x.ndist){D.msg="too many length or distance symbols",x.mode=30;break}x.have=0,x.mode=18;case 18:for(;x.have<x.ncode;){for(;$<3;){if(V===0)break e;V--,q+=P[M++]<<$,$+=8}x.lens[ve[x.have++]]=7&q,q>>>=3,$-=3}for(;x.have<19;)x.lens[ve[x.have++]]=0;if(x.lencode=x.lendyn,x.lenbits=7,Z={bits:x.lenbits},ae=l(0,x.lens,0,19,x.lencode,0,x.work,Z),x.lenbits=Z.bits,ae){D.msg="invalid code lengths set",x.mode=30;break}x.have=0,x.mode=19;case 19:for(;x.have<x.nlen+x.ndist;){for(;re=(Y=x.lencode[q&(1<<x.lenbits)-1])>>>16&255,ue=65535&Y,!((te=Y>>>24)<=$);){if(V===0)break e;V--,q+=P[M++]<<$,$+=8}if(ue<16)q>>>=te,$-=te,x.lens[x.have++]=ue;else{if(ue===16){for(W=te+2;$<W;){if(V===0)break e;V--,q+=P[M++]<<$,$+=8}if(q>>>=te,$-=te,x.have===0){D.msg="invalid bit length repeat",x.mode=30;break}z=x.lens[x.have-1],H=3+(3&q),q>>>=2,$-=2}else if(ue===17){for(W=te+3;$<W;){if(V===0)break e;V--,q+=P[M++]<<$,$+=8}$-=te,z=0,H=3+(7&(q>>>=te)),q>>>=3,$-=3}else{for(W=te+7;$<W;){if(V===0)break e;V--,q+=P[M++]<<$,$+=8}$-=te,z=0,H=11+(127&(q>>>=te)),q>>>=7,$-=7}if(x.have+H>x.nlen+x.ndist){D.msg="invalid bit length repeat",x.mode=30;break}for(;H--;)x.lens[x.have++]=z}}if(x.mode===30)break;if(x.lens[256]===0){D.msg="invalid code -- missing end-of-block",x.mode=30;break}if(x.lenbits=9,Z={bits:x.lenbits},ae=l(f,x.lens,0,x.nlen,x.lencode,0,x.work,Z),x.lenbits=Z.bits,ae){D.msg="invalid literal/lengths set",x.mode=30;break}if(x.distbits=6,x.distcode=x.distdyn,Z={bits:x.distbits},ae=l(c,x.lens,x.nlen,x.ndist,x.distcode,0,x.work,Z),x.distbits=Z.bits,ae){D.msg="invalid distances set",x.mode=30;break}if(x.mode=20,I===6)break e;case 20:x.mode=21;case 21:if(6<=V&&258<=U){D.next_out=R,D.avail_out=U,D.next_in=M,D.avail_in=V,x.hold=q,x.bits=$,u(D,B),R=D.next_out,L=D.output,U=D.avail_out,M=D.next_in,P=D.input,V=D.avail_in,q=x.hold,$=x.bits,x.mode===12&&(x.back=-1);break}for(x.back=0;re=(Y=x.lencode[q&(1<<x.lenbits)-1])>>>16&255,ue=65535&Y,!((te=Y>>>24)<=$);){if(V===0)break e;V--,q+=P[M++]<<$,$+=8}if(re&&!(240&re)){for(se=te,de=re,be=ue;re=(Y=x.lencode[be+((q&(1<<se+de)-1)>>se)])>>>16&255,ue=65535&Y,!(se+(te=Y>>>24)<=$);){if(V===0)break e;V--,q+=P[M++]<<$,$+=8}q>>>=se,$-=se,x.back+=se}if(q>>>=te,$-=te,x.back+=te,x.length=ue,re===0){x.mode=26;break}if(32&re){x.back=-1,x.mode=12;break}if(64&re){D.msg="invalid literal/length code",x.mode=30;break}x.extra=15&re,x.mode=22;case 22:if(x.extra){for(W=x.extra;$<W;){if(V===0)break e;V--,q+=P[M++]<<$,$+=8}x.length+=q&(1<<x.extra)-1,q>>>=x.extra,$-=x.extra,x.back+=x.extra}x.was=x.length,x.mode=23;case 23:for(;re=(Y=x.distcode[q&(1<<x.distbits)-1])>>>16&255,ue=65535&Y,!((te=Y>>>24)<=$);){if(V===0)break e;V--,q+=P[M++]<<$,$+=8}if(!(240&re)){for(se=te,de=re,be=ue;re=(Y=x.distcode[be+((q&(1<<se+de)-1)>>se)])>>>16&255,ue=65535&Y,!(se+(te=Y>>>24)<=$);){if(V===0)break e;V--,q+=P[M++]<<$,$+=8}q>>>=se,$-=se,x.back+=se}if(q>>>=te,$-=te,x.back+=te,64&re){D.msg="invalid distance code",x.mode=30;break}x.offset=ue,x.extra=15&re,x.mode=24;case 24:if(x.extra){for(W=x.extra;$<W;){if(V===0)break e;V--,q+=P[M++]<<$,$+=8}x.offset+=q&(1<<x.extra)-1,q>>>=x.extra,$-=x.extra,x.back+=x.extra}if(x.offset>x.dmax){D.msg="invalid distance too far back",x.mode=30;break}x.mode=25;case 25:if(U===0)break e;if(H=B-U,x.offset>H){if((H=x.offset-H)>x.whave&&x.sane){D.msg="invalid distance too far back",x.mode=30;break}j=H>x.wnext?(H-=x.wnext,x.wsize-H):x.wnext-H,H>x.length&&(H=x.length),K=x.window}else K=L,j=R-x.offset,H=x.length;for(U<H&&(H=U),U-=H,x.length-=H;L[R++]=K[j++],--H;);x.length===0&&(x.mode=21);break;case 26:if(U===0)break e;L[R++]=x.length,U--,x.mode=21;break;case 27:if(x.wrap){for(;$<32;){if(V===0)break e;V--,q|=P[M++]<<$,$+=8}if(B-=U,D.total_out+=B,x.total+=B,B&&(D.adler=x.check=x.flags?s(x.check,L,B,R-B):a(x.check,L,B,R-B)),B=U,(x.flags?q:v(q))!==x.check){D.msg="incorrect data check",x.mode=30;break}$=q=0}x.mode=28;case 28:if(x.wrap&&x.flags){for(;$<32;){if(V===0)break e;V--,q+=P[M++]<<$,$+=8}if(q!==(4294967295&x.total)){D.msg="incorrect length check",x.mode=30;break}$=q=0}x.mode=29;case 29:ae=1;break e;case 30:ae=-3;break e;case 31:return-4;case 32:default:return d}return D.next_out=R,D.avail_out=U,D.next_in=M,D.avail_in=V,x.hold=q,x.bits=$,(x.wsize||B!==D.avail_out&&x.mode<30&&(x.mode<27||I!==4))&&N(D,D.output,D.next_out,B-D.avail_out)?(x.mode=31,-4):(X-=D.avail_in,B-=D.avail_out,D.total_in+=X,D.total_out+=B,x.total+=B,x.wrap&&B&&(D.adler=x.check=x.flags?s(x.check,L,B,D.next_out-B):a(x.check,L,B,D.next_out-B)),D.data_type=x.bits+(x.last?64:0)+(x.mode===12?128:0)+(x.mode===20||x.mode===15?256:0),(X==0&&B===0||I===4)&&ae===h&&(ae=-5),ae)},i.inflateEnd=function(D){if(!D||!D.state)return d;var I=D.state;return I.window&&(I.window=null),D.state=null,h},i.inflateGetHeader=function(D,I){var x;return D&&D.state&&2&(x=D.state).wrap?((x.head=I).done=!1,h):d},i.inflateSetDictionary=function(D,I){var x,P=I.length;return D&&D.state?(x=D.state).wrap!==0&&x.mode!==11?d:x.mode===11&&a(1,I,P,0)!==x.check?-3:N(D,I,P,P)?(x.mode=31,-4):(x.havedict=1,h):d},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var o=r("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(f,c,h,d,p,g,w,v){var m,y,E,T,C,b,k,S,O,N=v.bits,D=0,I=0,x=0,P=0,L=0,M=0,R=0,V=0,U=0,q=0,$=null,X=0,B=new o.Buf16(16),H=new o.Buf16(16),j=null,K=0;for(D=0;D<=15;D++)B[D]=0;for(I=0;I<d;I++)B[c[h+I]]++;for(L=N,P=15;1<=P&&B[P]===0;P--);if(P<L&&(L=P),P===0)return p[g++]=20971520,p[g++]=20971520,v.bits=1,0;for(x=1;x<P&&B[x]===0;x++);for(L<x&&(L=x),D=V=1;D<=15;D++)if(V<<=1,(V-=B[D])<0)return-1;if(0<V&&(f===0||P!==1))return-1;for(H[1]=0,D=1;D<15;D++)H[D+1]=H[D]+B[D];for(I=0;I<d;I++)c[h+I]!==0&&(w[H[c[h+I]]++]=I);if(b=f===0?($=j=w,19):f===1?($=a,X-=257,j=s,K-=257,256):($=u,j=l,-1),D=x,C=g,R=I=q=0,E=-1,T=(U=1<<(M=L))-1,f===1&&852<U||f===2&&592<U)return 1;for(;;){for(k=D-R,O=w[I]<b?(S=0,w[I]):w[I]>b?(S=j[K+w[I]],$[X+w[I]]):(S=96,0),m=1<<D-R,x=y=1<<M;p[C+(q>>R)+(y-=m)]=k<<24|S<<16|O|0,y!==0;);for(m=1<<D-1;q&m;)m>>=1;if(m!==0?(q&=m-1,q+=m):q=0,I++,--B[D]==0){if(D===P)break;D=c[h+w[I]]}if(L<D&&(q&T)!==E){for(R===0&&(R=L),C+=x,V=1<<(M=D-R);M+R<P&&!((V-=B[M+R])<=0);)M++,V<<=1;if(U+=1<<M,f===1&&852<U||f===2&&592<U)return 1;p[E=q&T]=L<<24|M<<16|C-g|0}}return q!==0&&(p[C+q]=D-R<<24|64<<16|0),v.bits=L,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var o=r("../utils/common"),a=0,s=1;function u(Y){for(var ie=Y.length;0<=--ie;)Y[ie]=0}var l=0,f=29,c=256,h=c+1+f,d=30,p=19,g=2*h+1,w=15,v=16,m=7,y=256,E=16,T=17,C=18,b=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],N=new Array(2*(h+2));u(N);var D=new Array(2*d);u(D);var I=new Array(512);u(I);var x=new Array(256);u(x);var P=new Array(f);u(P);var L,M,R,V=new Array(d);function U(Y,ie,ve,me,fe){this.static_tree=Y,this.extra_bits=ie,this.extra_base=ve,this.elems=me,this.max_length=fe,this.has_stree=Y&&Y.length}function q(Y,ie){this.dyn_tree=Y,this.max_code=0,this.stat_desc=ie}function $(Y){return Y<256?I[Y]:I[256+(Y>>>7)]}function X(Y,ie){Y.pending_buf[Y.pending++]=255&ie,Y.pending_buf[Y.pending++]=ie>>>8&255}function B(Y,ie,ve){Y.bi_valid>v-ve?(Y.bi_buf|=ie<<Y.bi_valid&65535,X(Y,Y.bi_buf),Y.bi_buf=ie>>v-Y.bi_valid,Y.bi_valid+=ve-v):(Y.bi_buf|=ie<<Y.bi_valid&65535,Y.bi_valid+=ve)}function H(Y,ie,ve){B(Y,ve[2*ie],ve[2*ie+1])}function j(Y,ie){for(var ve=0;ve|=1&Y,Y>>>=1,ve<<=1,0<--ie;);return ve>>>1}function K(Y,ie,ve){var me,fe,le=new Array(w+1),ee=0;for(me=1;me<=w;me++)le[me]=ee=ee+ve[me-1]<<1;for(fe=0;fe<=ie;fe++){var oe=Y[2*fe+1];oe!==0&&(Y[2*fe]=j(le[oe]++,oe))}}function te(Y){var ie;for(ie=0;ie<h;ie++)Y.dyn_ltree[2*ie]=0;for(ie=0;ie<d;ie++)Y.dyn_dtree[2*ie]=0;for(ie=0;ie<p;ie++)Y.bl_tree[2*ie]=0;Y.dyn_ltree[2*y]=1,Y.opt_len=Y.static_len=0,Y.last_lit=Y.matches=0}function re(Y){8<Y.bi_valid?X(Y,Y.bi_buf):0<Y.bi_valid&&(Y.pending_buf[Y.pending++]=Y.bi_buf),Y.bi_buf=0,Y.bi_valid=0}function ue(Y,ie,ve,me){var fe=2*ie,le=2*ve;return Y[fe]<Y[le]||Y[fe]===Y[le]&&me[ie]<=me[ve]}function se(Y,ie,ve){for(var me=Y.heap[ve],fe=ve<<1;fe<=Y.heap_len&&(fe<Y.heap_len&&ue(ie,Y.heap[fe+1],Y.heap[fe],Y.depth)&&fe++,!ue(ie,me,Y.heap[fe],Y.depth));)Y.heap[ve]=Y.heap[fe],ve=fe,fe<<=1;Y.heap[ve]=me}function de(Y,ie,ve){var me,fe,le,ee,oe=0;if(Y.last_lit!==0)for(;me=Y.pending_buf[Y.d_buf+2*oe]<<8|Y.pending_buf[Y.d_buf+2*oe+1],fe=Y.pending_buf[Y.l_buf+oe],oe++,me===0?H(Y,fe,ie):(H(Y,(le=x[fe])+c+1,ie),(ee=b[le])!==0&&B(Y,fe-=P[le],ee),H(Y,le=$(--me),ve),(ee=k[le])!==0&&B(Y,me-=V[le],ee)),oe<Y.last_lit;);H(Y,y,ie)}function be(Y,ie){var ve,me,fe,le=ie.dyn_tree,ee=ie.stat_desc.static_tree,oe=ie.stat_desc.has_stree,ge=ie.stat_desc.elems,_e=-1;for(Y.heap_len=0,Y.heap_max=g,ve=0;ve<ge;ve++)le[2*ve]!==0?(Y.heap[++Y.heap_len]=_e=ve,Y.depth[ve]=0):le[2*ve+1]=0;for(;Y.heap_len<2;)le[2*(fe=Y.heap[++Y.heap_len]=_e<2?++_e:0)]=1,Y.depth[fe]=0,Y.opt_len--,oe&&(Y.static_len-=ee[2*fe+1]);for(ie.max_code=_e,ve=Y.heap_len>>1;1<=ve;ve--)se(Y,le,ve);for(fe=ge;ve=Y.heap[1],Y.heap[1]=Y.heap[Y.heap_len--],se(Y,le,1),me=Y.heap[1],Y.heap[--Y.heap_max]=ve,Y.heap[--Y.heap_max]=me,le[2*fe]=le[2*ve]+le[2*me],Y.depth[fe]=(Y.depth[ve]>=Y.depth[me]?Y.depth[ve]:Y.depth[me])+1,le[2*ve+1]=le[2*me+1]=fe,Y.heap[1]=fe++,se(Y,le,1),2<=Y.heap_len;);Y.heap[--Y.heap_max]=Y.heap[1],function(we,ze){var Me,Re,Ce,Ee,Se,Ne,ke=ze.dyn_tree,Fe=ze.max_code,Ze=ze.stat_desc.static_tree,Ye=ze.stat_desc.has_stree,Ge=ze.stat_desc.extra_bits,Be=ze.stat_desc.extra_base,Qe=ze.stat_desc.max_length,pt=0;for(Ee=0;Ee<=w;Ee++)we.bl_count[Ee]=0;for(ke[2*we.heap[we.heap_max]+1]=0,Me=we.heap_max+1;Me<g;Me++)Qe<(Ee=ke[2*ke[2*(Re=we.heap[Me])+1]+1]+1)&&(Ee=Qe,pt++),ke[2*Re+1]=Ee,Fe<Re||(we.bl_count[Ee]++,Se=0,Be<=Re&&(Se=Ge[Re-Be]),Ne=ke[2*Re],we.opt_len+=Ne*(Ee+Se),Ye&&(we.static_len+=Ne*(Ze[2*Re+1]+Se)));if(pt!==0){do{for(Ee=Qe-1;we.bl_count[Ee]===0;)Ee--;we.bl_count[Ee]--,we.bl_count[Ee+1]+=2,we.bl_count[Qe]--,pt-=2}while(0<pt);for(Ee=Qe;Ee!==0;Ee--)for(Re=we.bl_count[Ee];Re!==0;)Fe<(Ce=we.heap[--Me])||(ke[2*Ce+1]!==Ee&&(we.opt_len+=(Ee-ke[2*Ce+1])*ke[2*Ce],ke[2*Ce+1]=Ee),Re--)}}(Y,ie),K(le,_e,Y.bl_count)}function z(Y,ie,ve){var me,fe,le=-1,ee=ie[1],oe=0,ge=7,_e=4;for(ee===0&&(ge=138,_e=3),ie[2*(ve+1)+1]=65535,me=0;me<=ve;me++)fe=ee,ee=ie[2*(me+1)+1],++oe<ge&&fe===ee||(oe<_e?Y.bl_tree[2*fe]+=oe:fe!==0?(fe!==le&&Y.bl_tree[2*fe]++,Y.bl_tree[2*E]++):oe<=10?Y.bl_tree[2*T]++:Y.bl_tree[2*C]++,le=fe,_e=(oe=0)===ee?(ge=138,3):fe===ee?(ge=6,3):(ge=7,4))}function ae(Y,ie,ve){var me,fe,le=-1,ee=ie[1],oe=0,ge=7,_e=4;for(ee===0&&(ge=138,_e=3),me=0;me<=ve;me++)if(fe=ee,ee=ie[2*(me+1)+1],!(++oe<ge&&fe===ee)){if(oe<_e)for(;H(Y,fe,Y.bl_tree),--oe!=0;);else fe!==0?(fe!==le&&(H(Y,fe,Y.bl_tree),oe--),H(Y,E,Y.bl_tree),B(Y,oe-3,2)):oe<=10?(H(Y,T,Y.bl_tree),B(Y,oe-3,3)):(H(Y,C,Y.bl_tree),B(Y,oe-11,7));le=fe,_e=(oe=0)===ee?(ge=138,3):fe===ee?(ge=6,3):(ge=7,4)}}u(V);var Z=!1;function W(Y,ie,ve,me){B(Y,(l<<1)+(me?1:0),3),function(fe,le,ee,oe){re(fe),oe&&(X(fe,ee),X(fe,~ee)),o.arraySet(fe.pending_buf,fe.window,le,ee,fe.pending),fe.pending+=ee}(Y,ie,ve,!0)}i._tr_init=function(Y){Z||(function(){var ie,ve,me,fe,le,ee=new Array(w+1);for(fe=me=0;fe<f-1;fe++)for(P[fe]=me,ie=0;ie<1<<b[fe];ie++)x[me++]=fe;for(x[me-1]=fe,fe=le=0;fe<16;fe++)for(V[fe]=le,ie=0;ie<1<<k[fe];ie++)I[le++]=fe;for(le>>=7;fe<d;fe++)for(V[fe]=le<<7,ie=0;ie<1<<k[fe]-7;ie++)I[256+le++]=fe;for(ve=0;ve<=w;ve++)ee[ve]=0;for(ie=0;ie<=143;)N[2*ie+1]=8,ie++,ee[8]++;for(;ie<=255;)N[2*ie+1]=9,ie++,ee[9]++;for(;ie<=279;)N[2*ie+1]=7,ie++,ee[7]++;for(;ie<=287;)N[2*ie+1]=8,ie++,ee[8]++;for(K(N,h+1,ee),ie=0;ie<d;ie++)D[2*ie+1]=5,D[2*ie]=j(ie,5);L=new U(N,b,c+1,h,w),M=new U(D,k,0,d,w),R=new U(new Array(0),S,0,p,m)}(),Z=!0),Y.l_desc=new q(Y.dyn_ltree,L),Y.d_desc=new q(Y.dyn_dtree,M),Y.bl_desc=new q(Y.bl_tree,R),Y.bi_buf=0,Y.bi_valid=0,te(Y)},i._tr_stored_block=W,i._tr_flush_block=function(Y,ie,ve,me){var fe,le,ee=0;0<Y.level?(Y.strm.data_type===2&&(Y.strm.data_type=function(oe){var ge,_e=4093624447;for(ge=0;ge<=31;ge++,_e>>>=1)if(1&_e&&oe.dyn_ltree[2*ge]!==0)return a;if(oe.dyn_ltree[18]!==0||oe.dyn_ltree[20]!==0||oe.dyn_ltree[26]!==0)return s;for(ge=32;ge<c;ge++)if(oe.dyn_ltree[2*ge]!==0)return s;return a}(Y)),be(Y,Y.l_desc),be(Y,Y.d_desc),ee=function(oe){var ge;for(z(oe,oe.dyn_ltree,oe.l_desc.max_code),z(oe,oe.dyn_dtree,oe.d_desc.max_code),be(oe,oe.bl_desc),ge=p-1;3<=ge&&oe.bl_tree[2*O[ge]+1]===0;ge--);return oe.opt_len+=3*(ge+1)+5+5+4,ge}(Y),fe=Y.opt_len+3+7>>>3,(le=Y.static_len+3+7>>>3)<=fe&&(fe=le)):fe=le=ve+5,ve+4<=fe&&ie!==-1?W(Y,ie,ve,me):Y.strategy===4||le===fe?(B(Y,2+(me?1:0),3),de(Y,N,D)):(B(Y,4+(me?1:0),3),function(oe,ge,_e,we){var ze;for(B(oe,ge-257,5),B(oe,_e-1,5),B(oe,we-4,4),ze=0;ze<we;ze++)B(oe,oe.bl_tree[2*O[ze]+1],3);ae(oe,oe.dyn_ltree,ge-1),ae(oe,oe.dyn_dtree,_e-1)}(Y,Y.l_desc.max_code+1,Y.d_desc.max_code+1,ee+1),de(Y,Y.dyn_ltree,Y.dyn_dtree)),te(Y),me&&re(Y)},i._tr_tally=function(Y,ie,ve){return Y.pending_buf[Y.d_buf+2*Y.last_lit]=ie>>>8&255,Y.pending_buf[Y.d_buf+2*Y.last_lit+1]=255&ie,Y.pending_buf[Y.l_buf+Y.last_lit]=255&ve,Y.last_lit++,ie===0?Y.dyn_ltree[2*ve]++:(Y.matches++,ie--,Y.dyn_ltree[2*(x[ve]+c+1)]++,Y.dyn_dtree[2*$(ie)]++),Y.last_lit===Y.lit_bufsize-1},i._tr_align=function(Y){B(Y,2,3),H(Y,y,N),function(ie){ie.bi_valid===16?(X(ie,ie.bi_buf),ie.bi_buf=0,ie.bi_valid=0):8<=ie.bi_valid&&(ie.pending_buf[ie.pending++]=255&ie.bi_buf,ie.bi_buf>>=8,ie.bi_valid-=8)}(Y)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(o){(function(a,s){if(!a.setImmediate){var u,l,f,c,h=1,d={},p=!1,g=a.document,w=Object.getPrototypeOf&&Object.getPrototypeOf(a);w=w&&w.setTimeout?w:a,u={}.toString.call(a.process)==="[object process]"?function(E){process.nextTick(function(){m(E)})}:function(){if(a.postMessage&&!a.importScripts){var E=!0,T=a.onmessage;return a.onmessage=function(){E=!1},a.postMessage("","*"),a.onmessage=T,E}}()?(c="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",y,!1):a.attachEvent("onmessage",y),function(E){a.postMessage(c+E,"*")}):a.MessageChannel?((f=new MessageChannel).port1.onmessage=function(E){m(E.data)},function(E){f.port2.postMessage(E)}):g&&"onreadystatechange"in g.createElement("script")?(l=g.documentElement,function(E){var T=g.createElement("script");T.onreadystatechange=function(){m(E),T.onreadystatechange=null,l.removeChild(T),T=null},l.appendChild(T)}):function(E){setTimeout(m,0,E)},w.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var T=new Array(arguments.length-1),C=0;C<T.length;C++)T[C]=arguments[C+1];var b={callback:E,args:T};return d[h]=b,u(h),h++},w.clearImmediate=v}function v(E){delete d[E]}function m(E){if(p)setTimeout(m,0,E);else{var T=d[E];if(T){p=!0;try{(function(C){var b=C.callback,k=C.args;switch(k.length){case 0:b();break;case 1:b(k[0]);break;case 2:b(k[0],k[1]);break;case 3:b(k[0],k[1],k[2]);break;default:b.apply(s,k)}})(T)}finally{v(E),p=!1}}}}function y(E){E.source===a&&typeof E.data=="string"&&E.data.indexOf(c)===0&&m(+E.data.slice(c.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof It<"u"?It:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(YE);var JO=YE.exports;const eN=qn(JO);function tN(t){let e,r,n,i,o,a,s;const u=t[3].default,l=Lo(u,t,t[2],null);return{c(){e=Ke("li"),r=Ke("a"),n=Ir(t[0]),i=Ke("span"),o=it(),a=Ke("ul"),l&&l.c(),Oe(i,"class","caret"),Oe(r,"href","#"),Oe(r,"class","dropdown-toggle svelte-15zxp6a"),Oe(r,"data-toggle","dropdown"),Oe(r,"role","button"),Oe(r,"aria-haspopup","true"),Oe(r,"aria-expanded","false"),Ms(r,"minimal",t[1]),Oe(a,"class","dropdown-menu"),Oe(e,"class","dropdown")},m(f,c){Ue(f,e,c),je(e,r),je(r,n),je(r,i),je(e,o),je(e,a),l&&l.m(a,null),s=!0},p(f,[c]){(!s||c&1)&&Jn(n,f[0]),(!s||c&2)&&Ms(r,"minimal",f[1]),l&&l.p&&(!s||c&4)&&Oo(l,u,f,f[2],s?Mo(u,f[2],c,null):No(f[2]),null)},i(f){s||(qe(l,f),s=!0)},o(f){Ve(l,f),s=!1},d(f){f&&He(e),l&&l.d(f)}}}function rN(t,e,r){let{$$slots:n={},$$scope:i}=e,{name:o}=e,{minimal:a=!1}=e;return t.$$set=s=>{"name"in s&&r(0,o=s.name),"minimal"in s&&r(1,a=s.minimal),"$$scope"in s&&r(2,i=s.$$scope)},[o,a,i,n]}class Wo extends At{constructor(e){super(),kt(this,e,rN,tN,St,{name:0,minimal:1})}}function Mg(t,e,r){const n=t.slice();return n[3]=e[r],n}function Og(t){let e;return{c(){e=Ke("li"),Oe(e,"class","divider")},m(r,n){Ue(r,e,n)},d(r){r&&He(e)}}}function Ng(t){let e,r,n=t[3].name+"",i,o,a,s,u,l=t[3].divider&&Og();return{c(){e=Ke("li"),r=Ke("a"),i=Ir(n),o=it(),l&&l.c(),a=Bn(),Oe(r,"href","#"),Ms(e,"disabled",t[3].disable)},m(f,c){Ue(f,e,c),je(e,r),je(r,i),Ue(f,o,c),l&&l.m(f,c),Ue(f,a,c),s||(u=cr(r,"click",function(){Gs(t[3].action)&&t[3].action.apply(this,arguments)}),s=!0)},p(f,c){t=f,c&1&&n!==(n=t[3].name+"")&&Jn(i,n),c&1&&Ms(e,"disabled",t[3].disable),t[3].divider?l||(l=Og(),l.c(),l.m(a.parentNode,a)):l&&(l.d(1),l=null)},d(f){f&&He(e),f&&He(o),l&&l.d(f),f&&He(a),s=!1,u()}}}function nN(t){let e,r=t[0],n=[];for(let i=0;i<r.length;i+=1)n[i]=Ng(Mg(t,r,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=Bn()},m(i,o){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(i,o);Ue(i,e,o)},p(i,o){if(o&1){r=i[0];let a;for(a=0;a<r.length;a+=1){const s=Mg(i,r,a);n[a]?n[a].p(s,o):(n[a]=Ng(s),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=r.length}},d(i){hn(n,i),i&&He(e)}}}function iN(t){let e,r;return e=new Wo({props:{minimal:t[2],name:t[1],$$slots:{default:[nN]},$$scope:{ctx:t}}}),{c(){vt(e.$$.fragment)},m(n,i){ct(e,n,i),r=!0},p(n,[i]){const o={};i&4&&(o.minimal=n[2]),i&2&&(o.name=n[1]),i&65&&(o.$$scope={dirty:i,ctx:n}),e.$set(o)},i(n){r||(qe(e.$$.fragment,n),r=!0)},o(n){Ve(e.$$.fragment,n),r=!1},d(n){ht(e,n)}}}function aN(t,e,r){let{menuItems:n}=e,{name:i}=e,{minimal:o}=e;return t.$$set=a=>{"menuItems"in a&&r(0,n=a.menuItems),"name"in a&&r(1,i=a.name),"minimal"in a&&r(2,o=a.minimal)},[n,i,o]}class mv extends At{constructor(e){super(),kt(this,e,aN,iN,St,{menuItems:0,name:1,minimal:2})}}function oN(t){let e,r;return e=new mv({props:{name:"File",menuItems:t[1],minimal:!t[0]}}),{c(){vt(e.$$.fragment)},m(n,i){ct(e,n,i),r=!0},p(n,[i]){const o={};i&2&&(o.menuItems=n[1]),i&1&&(o.minimal=!n[0]),e.$set(o)},i(n){r||(qe(e.$$.fragment,n),r=!0)},o(n){Ve(e.$$.fragment,n),r=!1},d(n){ht(e,n)}}}function sN(t,e){for(let r in e)e.hasOwnProperty(r)&&e[r]!==void 0&&(t[r]=e[r])}function uN(){document.getElementById("fileInput").click()}function Ig(t,e){let r=document.createElement("a");r.href=t,r.download="model."+e,r.click()}function lN(){window.$("#data-modal").modal()}function fN(t,e,r){let n,i,o,a;jt(t,wt,C=>r(2,n=C)),jt(t,ka,C=>r(3,i=C)),jt(t,Qn,C=>r(4,o=C)),jt(t,sr,C=>r(5,a=C));let{full:s=!0}=e;function u(){n.modelEmpty?l():bootbox.confirm("Are you sure you want to create a new model? This will delete the current model.",function(C){C&&l()})}function l(){Ut(tr).elements().remove(),WE(),Dt(wt,n.parsedModel=!1,n),Shiny.setInputValue("show_help",Math.random());for(let b in o)Dt(Qn,o[b]=null,o)}function f(C){l();let b=JSON.parse(C),k=Ut(tr),S;if("model"in b&&"modelOpt"in b){S=JSON.parse(b.model);const O=JSON.parse(b.modelOpt);if(sN(a,O),b.fitCache!=null){const N=JSON.parse(b.fitCache);Dt(Qn,o=N,o)}}else S=b;Dt(wt,n.loadingMode=!0,n),k.json(S),k.style(GE),k.minZoom(lo.minZoom),k.maxZoom(lo.maxZoom),k.autolock(lo.autolock),k.autoungrabify(lo.autoungrabify),n.dataAvail&&gv(n.columnNames,!1)}async function c(){const C=document.createElement("input");C.setAttribute("type","file"),C.setAttribute("accept",".json");const b=await new Promise(S=>{C.addEventListener("change",O=>S(O.target.files[0])),C.click()}),k=await new Promise(S=>{const O=new FileReader;O.readAsText(b,"UTF-8"),O.onload=()=>S(O.result)});f(k)}function h(){n.modelEmpty?c():bootbox.confirm("Are you sure you want to load a model? This will delete the current model.",function(C){C&&c()})}function d(){n.modelEmpty?p():bootbox.confirm("Are you sure you want to load a model? This will delete the current model.",function(C){C&&p()})}function p(){const C=document.createElement("input");C.setAttribute("type","file"),C.setAttribute("accept",".zip"),C.addEventListener("change",function(b){const k=b.target.files[0],S=new FileReader;S.readAsArrayBuffer(k),S.onload=function(){const O=S.result;eN.loadAsync(O).then(function(N){N.file("model.json").async("text").then(function(D){f(D),N.file("data.csv").async("base64").then(function(I){Shiny.setInputValue("fileInput",{content:I})})})})}}),C.click()}function g(){const C=Ut(tr),b=Rn();b.json(C.json()),b.nodes().removeClass("linked");const k=b.json(),S=JSON.stringify(k),O=JSON.stringify(a),N=JSON.stringify(o);return JSON.stringify({model:S,modelOpt:O,fitCache:N})}function w(){const C=g();let b=new Blob([C],{type:"application/json;charset=utf-8"}),k=URL.createObjectURL(b);window.$("<a>").attr({href:k,download:"diagram.json"})[0].click()}function v(){const C=g();Shiny.setInputValue("model",C),Shiny.setInputValue("triggerDownload",Math.random())}function m(){const C=Ut(tr);Dt(wt,n.dataAvail=!1,n),Dt(wt,n.columnNames=null,n),Dt(wt,n.loadedFileName=null,n),Dt(wt,n.ids=null,n),Dt(ka,i=null,i),C.nodes().removeClass("linked")}function y(){const C=Ut(tr);Ig(C.png({bg:"white"}),"png")}function E(){const C=Ut(tr);Ig(C.jpg(),"jpg")}let T;return t.$$set=C=>{"full"in C&&r(0,s=C.full)},t.$$.update=()=>{if(t.$$.dirty&5){let C=[{name:"New Model",action:u},{name:"Load Model",action:h},{name:"Load Data",action:uN},{name:"Load Model and Data",action:d},{name:"Data Editor",action:lN,disable:!n.dataAvail,divider:!0},{name:"Download Model",action:w,disable:n.modelEmpty},{name:"Remove Data",action:m,disable:!n.dataAvail},{name:"Download Model and Data",disable:n.modelEmpty||!n.dataAvail,action:v,divider:!0},{name:"Export Model to PNG",disable:n.modelEmpty,action:y},{name:"Export Model to JPG",disable:n.modelEmpty,action:E}];r(1,T=s?C:C.slice(-2))}},[s,T,n]}class XE extends At{constructor(e){super(),kt(this,e,fN,oN,St,{full:0})}}function cN(t){let e;return{c(){e=Ke("span"),Oe(e,"class","glyphicon glyphicon-ok check-mark invisible"),Oe(e,"aria-hidden","true")},m(r,n){Ue(r,e,n)},d(r){r&&He(e)}}}function hN(t){let e;return{c(){e=Ke("span"),Oe(e,"class","glyphicon glyphicon-ok check-mark"),Oe(e,"aria-hidden","true")},m(r,n){Ue(r,e,n)},d(r){r&&He(e)}}}function dN(t){let e,r,n,i,o,a,s,u,l;function f(d,p){return d[0]?hN:cN}let c=f(t),h=c(t);return{c(){e=Ke("li"),r=Ke("label"),n=Ke("input"),i=it(),h.c(),o=it(),a=Ir(t[1]),Oe(n,"type","checkbox"),Oe(n,"class","check-box svelte-17cge7g"),n.disabled=t[2],Oe(r,"class",s=mi(t[2]?"disabled-label":"")+" svelte-17cge7g"),Oe(e,"class","svelte-17cge7g")},m(d,p){Ue(d,e,p),je(e,r),je(r,n),n.checked=t[0],je(r,i),h.m(r,null),je(r,o),je(r,a),u||(l=cr(n,"change",t[3]),u=!0)},p(d,[p]){p&4&&(n.disabled=d[2]),p&1&&(n.checked=d[0]),c!==(c=f(d))&&(h.d(1),h=c(d),h&&(h.c(),h.m(r,o))),p&2&&Jn(a,d[1]),p&4&&s!==(s=mi(d[2]?"disabled-label":"")+" svelte-17cge7g")&&Oe(r,"class",s)},i:Lt,o:Lt,d(d){d&&He(e),h.d(),u=!1,l()}}}function vN(t,e,r){let{name:n}=e,{checked:i}=e,{disable:o}=e;function a(){i=this.checked,r(0,i)}return t.$$set=s=>{"name"in s&&r(1,n=s.name),"checked"in s&&r(0,i=s.checked),"disable"in s&&r(2,o=s.disable)},[i,n,o,a]}class Ao extends At{constructor(e){super(),kt(this,e,vN,dN,St,{name:1,checked:0,disable:2})}}function pN(t){let e;return{c(){e=Ke("span"),Oe(e,"class","glyphicon glyphicon-ok check-mark invisible"),Oe(e,"aria-hidden","true")},m(r,n){Ue(r,e,n)},d(r){r&&He(e)}}}function gN(t){let e;return{c(){e=Ke("span"),Oe(e,"class","glyphicon glyphicon-ok check-mark"),Oe(e,"aria-hidden","true")},m(r,n){Ue(r,e,n)},d(r){r&&He(e)}}}function mN(t){let e,r,n,i=!1,o,a,s,u,l,f,c,h;function d(w,v){return w[0]===w[2]?gN:pN}let p=d(t),g=p(t);return f=B_(t[5][0]),{c(){e=Ke("div"),r=Ke("label"),n=Ke("input"),o=it(),g.c(),a=it(),s=Ir(t[1]),Oe(n,"type","radio"),Oe(n,"name","meanStruc"),n.__value=t[2],n.value=n.__value,n.disabled=t[3],Oe(n,"class","svelte-lbhkwe"),Oe(r,"class",u=mi(t[3]?"text-muted":"")+" svelte-lbhkwe"),Oe(e,"class",l=mi(t[3]?"radio disabled":"radio")+" svelte-lbhkwe"),f.p(n)},m(w,v){Ue(w,e,v),je(e,r),je(r,n),n.checked=n.__value===t[0],je(r,o),g.m(r,null),je(r,a),je(r,s),c||(h=cr(n,"change",t[4]),c=!0)},p(w,[v]){v&4&&(n.__value=w[2],n.value=n.__value,i=!0),v&8&&(n.disabled=w[3]),(i||v&1)&&(n.checked=n.__value===w[0]),p!==(p=d(w))&&(g.d(1),g=p(w),g&&(g.c(),g.m(r,a))),v&2&&Jn(s,w[1]),v&8&&u!==(u=mi(w[3]?"text-muted":"")+" svelte-lbhkwe")&&Oe(r,"class",u),v&8&&l!==(l=mi(w[3]?"radio disabled":"radio")+" svelte-lbhkwe")&&Oe(e,"class",l)},i:Lt,o:Lt,d(w){w&&He(e),g.d(),f.r(),c=!1,h()}}}function yN(t,e,r){let{name:n}=e,{value:i}=e,{group:o}=e,{isDisabled:a=!1}=e;const s=[[]];function u(){o=this.__value,r(0,o)}return t.$$set=l=>{"name"in l&&r(1,n=l.name),"value"in l&&r(2,i=l.value),"group"in l&&r(0,o=l.group),"isDisabled"in l&&r(3,a=l.isDisabled)},[o,n,i,a,u,s]}class Yo extends At{constructor(e){super(),kt(this,e,yN,mN,St,{name:1,value:2,group:0,isDisabled:3})}}const $d=[{name:"Arrows Created by Lavaan",modelSlot:"showLav",class:"fromLav"},{name:"Variance Arrows",modelSlot:"showVar",class:"loop"}];let Pg=[{name:"Estimate",value:"est"},{name:"Confidence Interval",value:"ci"},{name:"Estimate + p-value (stars)",value:"estPVal"},{name:"Estimate + Standard Error",value:"estSE"}];function bN(t,e){const r=Ut(tr),n=e?"_std":"",i=jE(t,n);r.style().selector("edge.hasEst").style({label:i}).update();const o=xN(t,n);r.style().selector("edge.hasEst.label").style({label:o}).update()}function wN(t,e){const r=Ut(tr);t.showLav&&t.showVar?(r.elements("."+e[0].class).show(),r.elements("."+e[1].class).show()):t.showLav&&!t.showVar?(r.elements("."+e[0].class).show(),r.elements("."+e[1].class).hide()):!t.showLav&&t.showVar?(r.elements("."+e[1].class).show(),r.elements("."+e[0].class).hide()):(r.elements("."+e[1].class).hide(),r.elements("."+e[0].class).hide())}function EN(t){return t<.001?"***":t<.01?"**":t<.05?"*":""}function jE(t,e){switch(t){case"est":return r=>r.data("estimates")["est"+e];case"ci":return r=>`[${r.data("estimates")["ciLow"+e]}, ${r.data("estimates")["ciHigh"+e]}]`;case"estPVal":return r=>`${r.data("estimates")["est"+e]}${EN(r.data("estimates").p_value)}`;case"estSE":return r=>`${r.data("estimates")["est"+e]} (${r.data("estimates")["se"+e]})`;default:return r=>""}}function xN(t,e){const r=jE(t,e);return n=>`${n.data("label")} = ${r(n)}`}function Rg(t,e,r){const n=t.slice();return n[7]=e[r],n}function Fg(t,e,r){const n=t.slice();return n[7]=e[r],n[10]=e,n[11]=r,n}function zg(t){let e,r,n,i;function o(u){t[3](u,t[7])}function a(u){t[4](u,t[7])}let s={disable:!1};return t[7].name!==void 0&&(s.name=t[7].name),t[2][t[7].modelSlot]!==void 0&&(s.checked=t[2][t[7].modelSlot]),e=new Ao({props:s}),Tr.push(()=>Qr(e,"name",o)),Tr.push(()=>Qr(e,"checked",a)),{c(){vt(e.$$.fragment)},m(u,l){ct(e,u,l),i=!0},p(u,l){t=u;const f={};!r&&l&2&&(r=!0,f.name=t[7].name,Zr(()=>r=!1)),!n&&l&6&&(n=!0,f.checked=t[2][t[7].modelSlot],Zr(()=>n=!1)),e.$set(f)},i(u){i||(qe(e.$$.fragment,u),i=!0)},o(u){Ve(e.$$.fragment,u),i=!1},d(u){ht(e,u)}}}function Bg(t){let e,r,n;function i(a){t[6](a)}let o={name:t[7].name,value:t[7].value};return t[2].view!==void 0&&(o.group=t[2].view),e=new Yo({props:o}),Tr.push(()=>Qr(e,"group",i)),{c(){vt(e.$$.fragment)},m(a,s){ct(e,a,s),n=!0},p(a,s){const u={};!r&&s&4&&(r=!0,u.group=a[2].view,Zr(()=>r=!1)),e.$set(u)},i(a){n||(qe(e.$$.fragment,a),n=!0)},o(a){Ve(e.$$.fragment,a),n=!1},d(a){ht(e,a)}}}function _N(t){let e,r,n,i,o,a,s,u,l,f,c=t[1],h=[];for(let y=0;y<c.length;y+=1)h[y]=zg(Fg(t,c,y));const d=y=>Ve(h[y],1,1,()=>{h[y]=null});function p(y){t[5](y)}let g={name:"Standardized Estimates",disable:!1};t[2].std!==void 0&&(g.checked=t[2].std),i=new Ao({props:g}),Tr.push(()=>Qr(i,"checked",p));let w=Pg,v=[];for(let y=0;y<w.length;y+=1)v[y]=Bg(Rg(t,w,y));const m=y=>Ve(v[y],1,1,()=>{v[y]=null});return{c(){for(let y=0;y<h.length;y+=1)h[y].c();e=it(),r=Ke("li"),n=it(),vt(i.$$.fragment),a=it(),s=Ke("li"),u=it();for(let y=0;y<v.length;y+=1)v[y].c();l=Bn(),Oe(r,"class","divider"),Oe(s,"class","divider")},m(y,E){for(let T=0;T<h.length;T+=1)h[T]&&h[T].m(y,E);Ue(y,e,E),Ue(y,r,E),Ue(y,n,E),ct(i,y,E),Ue(y,a,E),Ue(y,s,E),Ue(y,u,E);for(let T=0;T<v.length;T+=1)v[T]&&v[T].m(y,E);Ue(y,l,E),f=!0},p(y,E){if(E&6){c=y[1];let C;for(C=0;C<c.length;C+=1){const b=Fg(y,c,C);h[C]?(h[C].p(b,E),qe(h[C],1)):(h[C]=zg(b),h[C].c(),qe(h[C],1),h[C].m(e.parentNode,e))}for(dn(),C=c.length;C<h.length;C+=1)d(C);vn()}const T={};if(!o&&E&4&&(o=!0,T.checked=y[2].std,Zr(()=>o=!1)),i.$set(T),E&4){w=Pg;let C;for(C=0;C<w.length;C+=1){const b=Rg(y,w,C);v[C]?(v[C].p(b,E),qe(v[C],1)):(v[C]=Bg(b),v[C].c(),qe(v[C],1),v[C].m(l.parentNode,l))}for(dn(),C=w.length;C<v.length;C+=1)m(C);vn()}},i(y){if(!f){for(let E=0;E<c.length;E+=1)qe(h[E]);qe(i.$$.fragment,y);for(let E=0;E<w.length;E+=1)qe(v[E]);f=!0}},o(y){h=h.filter(Boolean);for(let E=0;E<h.length;E+=1)Ve(h[E]);Ve(i.$$.fragment,y),v=v.filter(Boolean);for(let E=0;E<v.length;E+=1)Ve(v[E]);f=!1},d(y){hn(h,y),y&&He(e),y&&He(r),y&&He(n),ht(i,y),y&&He(a),y&&He(s),y&&He(u),hn(v,y),y&&He(l)}}}function CN(t){let e,r;return e=new Wo({props:{name:"View",minimal:t[0],$$slots:{default:[_N]},$$scope:{ctx:t}}}),{c(){vt(e.$$.fragment)},m(n,i){ct(e,n,i),r=!0},p(n,[i]){const o={};i&1&&(o.minimal=n[0]),i&4102&&(o.$$scope={dirty:i,ctx:n}),e.$set(o)},i(n){r||(qe(e.$$.fragment,n),r=!0)},o(n){Ve(e.$$.fragment,n),r=!1},d(n){ht(e,n)}}}function TN(t,e,r){let n;jt(t,sr,l=>r(2,n=l));let{minimal:i=!1}=e;function o(l,f){t.$$.not_equal(f.name,l)&&(f.name=l,r(1,$d))}function a(l,f){t.$$.not_equal(n[f.modelSlot],l)&&(n[f.modelSlot]=l,sr.set(n))}function s(l){t.$$.not_equal(n.std,l)&&(n.std=l,sr.set(n))}function u(l){t.$$.not_equal(n.view,l)&&(n.view=l,sr.set(n))}return t.$$set=l=>{"minimal"in l&&r(0,i=l.minimal)},[i,$d,n,o,a,s,u]}class KE extends At{constructor(e){super(),kt(this,e,TN,CN,St,{minimal:0})}}function qg(t,e,r){const n=t.slice();return n[8]=e[r],n}function $g(t){let e,r,n;function i(a){t[3](a)}let o={name:t[8].name,value:t[8].value};return t[0].meanStruc!==void 0&&(o.group=t[0].meanStruc),e=new Yo({props:o}),Tr.push(()=>Qr(e,"group",i)),{c(){vt(e.$$.fragment)},m(a,s){ct(e,a,s),n=!0},p(a,s){const u={};!r&&s&1&&(r=!0,u.group=a[0].meanStruc,Zr(()=>r=!1)),e.$set(u)},i(a){n||(qe(e.$$.fragment,a),n=!0)},o(a){Ve(e.$$.fragment,a),n=!1},d(a){ht(e,a)}}}function SN(t){let e,r,n,i,o,a,s,u,l,f,c,h,d,p=t[2],g=[];for(let b=0;b<p.length;b+=1)g[b]=$g(qg(t,p,b));const w=b=>Ve(g[b],1,1,()=>{g[b]=null});function v(b){t[4](b)}function m(b){t[5](b)}let y={name:"Add Intercepts for all Observed Variables"};t[0].intOvFree!==void 0&&(y.checked=t[0].intOvFree),t[1]!==void 0&&(y.disable=t[1]),a=new Ao({props:y}),Tr.push(()=>Qr(a,"checked",v)),Tr.push(()=>Qr(a,"disable",m));function E(b){t[6](b)}function T(b){t[7](b)}let C={name:"Add Intercepts for all Latent Variables"};return t[0].intLvFree!==void 0&&(C.checked=t[0].intLvFree),t[1]!==void 0&&(C.disable=t[1]),f=new Ao({props:C}),Tr.push(()=>Qr(f,"checked",E)),Tr.push(()=>Qr(f,"disable",T)),{c(){e=Ke("li"),r=Ke("a"),r.textContent="Model Means?",n=it(),i=Ke("ul");for(let b=0;b<g.length;b+=1)g[b].c();o=it(),vt(a.$$.fragment),l=it(),vt(f.$$.fragment),Oe(r,"tabindex","-1"),Oe(r,"href","#"),Oe(r,"class","svelte-143y7r6"),Oe(i,"class","dropdown-menu svelte-143y7r6"),Oe(e,"class","dropdown-submenu svelte-143y7r6")},m(b,k){Ue(b,e,k),je(e,r),je(e,n),je(e,i);for(let S=0;S<g.length;S+=1)g[S]&&g[S].m(i,null);Ue(b,o,k),ct(a,b,k),Ue(b,l,k),ct(f,b,k),d=!0},p(b,k){if(k&5){p=b[2];let N;for(N=0;N<p.length;N+=1){const D=qg(b,p,N);g[N]?(g[N].p(D,k),qe(g[N],1)):(g[N]=$g(D),g[N].c(),qe(g[N],1),g[N].m(i,null))}for(dn(),N=p.length;N<g.length;N+=1)w(N);vn()}const S={};!s&&k&1&&(s=!0,S.checked=b[0].intOvFree,Zr(()=>s=!1)),!u&&k&2&&(u=!0,S.disable=b[1],Zr(()=>u=!1)),a.$set(S);const O={};!c&&k&1&&(c=!0,O.checked=b[0].intLvFree,Zr(()=>c=!1)),!h&&k&2&&(h=!0,O.disable=b[1],Zr(()=>h=!1)),f.$set(O)},i(b){if(!d){for(let k=0;k<p.length;k+=1)qe(g[k]);qe(a.$$.fragment,b),qe(f.$$.fragment,b),d=!0}},o(b){g=g.filter(Boolean);for(let k=0;k<g.length;k+=1)Ve(g[k]);Ve(a.$$.fragment,b),Ve(f.$$.fragment,b),d=!1},d(b){b&&He(e),hn(g,b),b&&He(o),ht(a,b),b&&He(l),ht(f,b)}}}function DN(t){let e,r;return e=new Wo({props:{name:kN,$$slots:{default:[SN]},$$scope:{ctx:t}}}),{c(){vt(e.$$.fragment)},m(n,i){ct(e,n,i),r=!0},p(n,[i]){const o={};i&2051&&(o.$$scope={dirty:i,ctx:n}),e.$set(o)},i(n){r||(qe(e.$$.fragment,n),r=!0)},o(n){Ve(e.$$.fragment,n),r=!1},d(n){ht(e,n)}}}let kN="Mean Options";function AN(t,e,r){let n,i;jt(t,sr,c=>r(0,i=c));let o=[{name:"Automatic",value:"default"},{name:"Yes",value:"true"},{name:"No",value:"false"}];function a(c){t.$$.not_equal(i.meanStruc,c)&&(i.meanStruc=c,sr.set(i))}function s(c){t.$$.not_equal(i.intOvFree,c)&&(i.intOvFree=c,sr.set(i))}function u(c){n=c,r(1,n),r(0,i)}function l(c){t.$$.not_equal(i.intLvFree,c)&&(i.intLvFree=c,sr.set(i))}function f(c){n=c,r(1,n),r(0,i)}return t.$$.update=()=>{t.$$.dirty&1&&r(1,n=i.meanStruc==="false")},[i,n,o,a,s,u,l,f]}class LN extends At{constructor(e){super(),kt(this,e,AN,DN,St,{})}}function Gg(t,e,r){const n=t.slice();return n[9]=e[r],n}function Hg(t,e,r){const n=t.slice();return n[9]=e[r],n}function Ug(t,e,r){const n=t.slice();return n[9]=e[r],n}function Vg(t){let e,r,n;function i(a){t[6](a)}let o={name:t[9].name,value:t[9].value};return t[0].estimator!==void 0&&(o.group=t[0].estimator),e=new Yo({props:o}),Tr.push(()=>Qr(e,"group",i)),{c(){vt(e.$$.fragment)},m(a,s){ct(e,a,s),n=!0},p(a,s){const u={};!r&&s&1&&(r=!0,u.group=a[0].estimator,Zr(()=>r=!1)),e.$set(u)},i(a){n||(qe(e.$$.fragment,a),n=!0)},o(a){Ve(e.$$.fragment,a),n=!1},d(a){ht(e,a)}}}function Wg(t){let e,r,n;function i(a){t[7](a)}let o={name:t[9].name,value:t[9].value,isDisabled:t[9].value=="robust"&&!t[3].includes(t[0].estimator)};return t[0].se!==void 0&&(o.group=t[0].se),e=new Yo({props:o}),Tr.push(()=>Qr(e,"group",i)),{c(){vt(e.$$.fragment)},m(a,s){ct(e,a,s),n=!0},p(a,s){const u={};s&1&&(u.isDisabled=a[9].value=="robust"&&!a[3].includes(a[0].estimator)),!r&&s&1&&(r=!0,u.group=a[0].se,Zr(()=>r=!1)),e.$set(u)},i(a){n||(qe(e.$$.fragment,a),n=!0)},o(a){Ve(e.$$.fragment,a),n=!1},d(a){ht(e,a)}}}function Yg(t){let e,r,n;function i(a){t[8](a)}let o={name:t[9].name,value:t[9].value,isDisabled:t[9].value=="ml"&&!t[5].includes(t[0].estimator)};return t[0].missing!==void 0&&(o.group=t[0].missing),e=new Yo({props:o}),Tr.push(()=>Qr(e,"group",i)),{c(){vt(e.$$.fragment)},m(a,s){ct(e,a,s),n=!0},p(a,s){const u={};s&1&&(u.isDisabled=a[9].value=="ml"&&!a[5].includes(a[0].estimator)),!r&&s&1&&(r=!0,u.group=a[0].missing,Zr(()=>r=!1)),e.$set(u)},i(a){n||(qe(e.$$.fragment,a),n=!0)},o(a){Ve(e.$$.fragment,a),n=!1},d(a){ht(e,a)}}}function MN(t){let e,r,n,i,o,a,s,u,l,f,c,h,d,p,g,w=t[1],v=[];for(let S=0;S<w.length;S+=1)v[S]=Vg(Ug(t,w,S));const m=S=>Ve(v[S],1,1,()=>{v[S]=null});let y=t[2],E=[];for(let S=0;S<y.length;S+=1)E[S]=Wg(Hg(t,y,S));const T=S=>Ve(E[S],1,1,()=>{E[S]=null});let C=t[4],b=[];for(let S=0;S<C.length;S+=1)b[S]=Yg(Gg(t,C,S));const k=S=>Ve(b[S],1,1,()=>{b[S]=null});return{c(){e=Ke("li"),r=Ke("a"),r.textContent="Estimator",n=it(),i=Ke("ul");for(let S=0;S<v.length;S+=1)v[S].c();o=it(),a=Ke("li"),s=Ke("a"),s.textContent="Standard Error",u=it(),l=Ke("ul");for(let S=0;S<E.length;S+=1)E[S].c();f=it(),c=Ke("li"),h=Ke("a"),h.textContent="Missing Values",d=it(),p=Ke("ul");for(let S=0;S<b.length;S+=1)b[S].c();Oe(r,"tabindex","-1"),Oe(r,"href","#"),Oe(r,"class","svelte-143y7r6"),Oe(i,"class","dropdown-menu svelte-143y7r6"),Oe(e,"class","dropdown-submenu svelte-143y7r6"),Oe(s,"tabindex","-1"),Oe(s,"href","#"),Oe(s,"class","svelte-143y7r6"),Oe(l,"class","dropdown-menu svelte-143y7r6"),Oe(a,"class","dropdown-submenu svelte-143y7r6"),Oe(h,"tabindex","-1"),Oe(h,"href","#"),Oe(h,"class","svelte-143y7r6"),Oe(p,"class","dropdown-menu svelte-143y7r6"),Oe(c,"class","dropdown-submenu svelte-143y7r6")},m(S,O){Ue(S,e,O),je(e,r),je(e,n),je(e,i);for(let N=0;N<v.length;N+=1)v[N]&&v[N].m(i,null);Ue(S,o,O),Ue(S,a,O),je(a,s),je(a,u),je(a,l);for(let N=0;N<E.length;N+=1)E[N]&&E[N].m(l,null);Ue(S,f,O),Ue(S,c,O),je(c,h),je(c,d),je(c,p);for(let N=0;N<b.length;N+=1)b[N]&&b[N].m(p,null);g=!0},p(S,O){if(O&3){w=S[1];let N;for(N=0;N<w.length;N+=1){const D=Ug(S,w,N);v[N]?(v[N].p(D,O),qe(v[N],1)):(v[N]=Vg(D),v[N].c(),qe(v[N],1),v[N].m(i,null))}for(dn(),N=w.length;N<v.length;N+=1)m(N);vn()}if(O&13){y=S[2];let N;for(N=0;N<y.length;N+=1){const D=Hg(S,y,N);E[N]?(E[N].p(D,O),qe(E[N],1)):(E[N]=Wg(D),E[N].c(),qe(E[N],1),E[N].m(l,null))}for(dn(),N=y.length;N<E.length;N+=1)T(N);vn()}if(O&49){C=S[4];let N;for(N=0;N<C.length;N+=1){const D=Gg(S,C,N);b[N]?(b[N].p(D,O),qe(b[N],1)):(b[N]=Yg(D),b[N].c(),qe(b[N],1),b[N].m(p,null))}for(dn(),N=C.length;N<b.length;N+=1)k(N);vn()}},i(S){if(!g){for(let O=0;O<w.length;O+=1)qe(v[O]);for(let O=0;O<y.length;O+=1)qe(E[O]);for(let O=0;O<C.length;O+=1)qe(b[O]);g=!0}},o(S){v=v.filter(Boolean);for(let O=0;O<v.length;O+=1)Ve(v[O]);E=E.filter(Boolean);for(let O=0;O<E.length;O+=1)Ve(E[O]);b=b.filter(Boolean);for(let O=0;O<b.length;O+=1)Ve(b[O]);g=!1},d(S){S&&He(e),hn(v,S),S&&He(o),S&&He(a),hn(E,S),S&&He(f),S&&He(c),hn(b,S)}}}function ON(t){let e,r;return e=new Wo({props:{name:NN,$$slots:{default:[MN]},$$scope:{ctx:t}}}),{c(){vt(e.$$.fragment)},m(n,i){ct(e,n,i),r=!0},p(n,[i]){const o={};i&65537&&(o.$$scope={dirty:i,ctx:n}),e.$set(o)},i(n){r||(qe(e.$$.fragment,n),r=!0)},o(n){Ve(e.$$.fragment,n),r=!1},d(n){ht(e,n)}}}const NN="Estimation";function IN(t,e,r){let n;jt(t,sr,h=>r(0,n=h));const i=[{value:"ML",name:"Maximum Likelihood (ML)"},{value:"GLS",name:"Generalized Least Squares (GLS)"},{value:"WLS",name:"Weighted Least Squares (WLS)"},{value:"ULS",name:"Unweighted Least Squares (ULS)"},{value:"DLS",name:"Distributionally-weighted Least Squares (DLW)"}],o=[{value:"default",name:"Default"},{value:"robust",name:"Robust"}],a=["ML","ULS","DWLS"],s=[{value:"listwise",name:"Listwise"},{value:"ml",name:"Full Information Maximum Likelihood (FIML)"}],u=["ML"];function l(h){t.$$.not_equal(n.estimator,h)&&(n.estimator=h,sr.set(n))}function f(h){t.$$.not_equal(n.se,h)&&(n.se=h,sr.set(n))}function c(h){t.$$.not_equal(n.missing,h)&&(n.missing=h,sr.set(n))}return t.$$.update=()=>{t.$$.dirty&1&&n.se=="robust"&&!a.includes(n.estimator)&&(Dt(sr,n.se="default",n),bootbox.alert("Standard error reset to Default because selected estimator does not support robust standad errors.")),t.$$.dirty&1&&n.missing=="ml"&&!u.includes(n.estimator)&&(Dt(sr,n.missing="listwise",n),bootbox.alert("Missing values set back to listwise. Only the maximum likelihood estimator supports Full information maximum likelihood."))},[n,i,o,a,s,u,l,f,c]}class PN extends At{constructor(e){super(),kt(this,e,IN,ON,St,{})}}var ZE={exports:{}},ul,Xg;function RN(){if(Xg)return ul;Xg=1;var t=Vs;function e(){this.__data__=new t,this.size=0}return ul=e,ul}var ll,jg;function FN(){if(jg)return ll;jg=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return ll=t,ll}var fl,Kg;function zN(){if(Kg)return fl;Kg=1;function t(e){return this.__data__.get(e)}return fl=t,fl}var cl,Zg;function BN(){if(Zg)return cl;Zg=1;function t(e){return this.__data__.has(e)}return cl=t,cl}var hl,Qg;function qN(){if(Qg)return hl;Qg=1;var t=Vs,e=Vd,r=Wd,n=200;function i(o,a){var s=this.__data__;if(s instanceof t){var u=s.__data__;if(!e||u.length<n-1)return u.push([o,a]),this.size=++s.size,this;s=this.__data__=new r(u)}return s.set(o,a),this.size=s.size,this}return hl=i,hl}var dl,Jg;function hu(){if(Jg)return dl;Jg=1;var t=Vs,e=RN(),r=FN(),n=zN(),i=BN(),o=qN();function a(s){var u=this.__data__=new t(s);this.size=u.size}return a.prototype.clear=e,a.prototype.delete=r,a.prototype.get=n,a.prototype.has=i,a.prototype.set=o,dl=a,dl}var vl,em;function yv(){if(em)return vl;em=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i&&r(e[n],n,e)!==!1;);return e}return vl=t,vl}var pl,tm;function Xo(){if(tm)return pl;tm=1;var t=Ks,e=js;function r(n,i,o,a){var s=!o;o||(o={});for(var u=-1,l=i.length;++u<l;){var f=i[u],c=a?a(o[f],n[f],f,o,n):void 0;c===void 0&&(c=n[f]),s?e(o,f,c):t(o,f,c)}return o}return pl=r,pl}var gl,rm;function $N(){if(rm)return gl;rm=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return gl=t,gl}var ml,nm;function GN(){if(nm)return ml;nm=1;var t=Ki,e=$n,r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return ml=n,ml}var yl,im;function jo(){if(im)return yl;im=1;var t=GN(),e=$n,r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,o=t(function(){return arguments}())?t:function(a){return e(a)&&n.call(a,"callee")&&!i.call(a,"callee")};return yl=o,yl}var fo={exports:{}},bl,am;function HN(){if(am)return bl;am=1;function t(){return!1}return bl=t,bl}fo.exports;var om;function Ga(){return om||(om=1,function(t,e){var r=Cn,n=HN(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?r.Buffer:void 0,u=s?s.isBuffer:void 0,l=u||n;t.exports=l}(fo,fo.exports)),fo.exports}var wl,sm;function bv(){if(sm)return wl;sm=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return wl=e,wl}var El,um;function UN(){if(um)return El;um=1;var t=Ki,e=bv(),r=$n,n="[object Arguments]",i="[object Array]",o="[object Boolean]",a="[object Date]",s="[object Error]",u="[object Function]",l="[object Map]",f="[object Number]",c="[object Object]",h="[object RegExp]",d="[object Set]",p="[object String]",g="[object WeakMap]",w="[object ArrayBuffer]",v="[object DataView]",m="[object Float32Array]",y="[object Float64Array]",E="[object Int8Array]",T="[object Int16Array]",C="[object Int32Array]",b="[object Uint8Array]",k="[object Uint8ClampedArray]",S="[object Uint16Array]",O="[object Uint32Array]",N={};N[m]=N[y]=N[E]=N[T]=N[C]=N[b]=N[k]=N[S]=N[O]=!0,N[n]=N[i]=N[w]=N[o]=N[v]=N[a]=N[s]=N[u]=N[l]=N[f]=N[c]=N[h]=N[d]=N[p]=N[g]=!1;function D(I){return r(I)&&e(I.length)&&!!N[t(I)]}return El=D,El}var xl,lm;function du(){if(lm)return xl;lm=1;function t(e){return function(r){return e(r)}}return xl=t,xl}var co={exports:{}};co.exports;var fm;function wv(){return fm||(fm=1,function(t,e){var r=tw,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===n,a=o&&r.process,s=function(){try{var u=i&&i.require&&i.require("util").types;return u||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s}(co,co.exports)),co.exports}var _l,cm;function Ko(){if(cm)return _l;cm=1;var t=UN(),e=du(),r=wv(),n=r&&r.isTypedArray,i=n?e(n):t;return _l=i,_l}var Cl,hm;function QE(){if(hm)return Cl;hm=1;var t=$N(),e=jo(),r=vr,n=Ga(),i=Zs,o=Ko(),a=Object.prototype,s=a.hasOwnProperty;function u(l,f){var c=r(l),h=!c&&e(l),d=!c&&!h&&n(l),p=!c&&!h&&!d&&o(l),g=c||h||d||p,w=g?t(l.length,String):[],v=w.length;for(var m in l)(f||s.call(l,m))&&!(g&&(m=="length"||d&&(m=="offset"||m=="parent")||p&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||i(m,v)))&&w.push(m);return w}return Cl=u,Cl}var Tl,dm;function vu(){if(dm)return Tl;dm=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return Tl=e,Tl}var Sl,vm;function JE(){if(vm)return Sl;vm=1;function t(e,r){return function(n){return e(r(n))}}return Sl=t,Sl}var Dl,pm;function VN(){if(pm)return Dl;pm=1;var t=JE(),e=t(Object.keys,Object);return Dl=e,Dl}var kl,gm;function Ev(){if(gm)return kl;gm=1;var t=vu(),e=VN(),r=Object.prototype,n=r.hasOwnProperty;function i(o){if(!t(o))return e(o);var a=[];for(var s in Object(o))n.call(o,s)&&s!="constructor"&&a.push(s);return a}return kl=i,kl}var Al,mm;function oi(){if(mm)return Al;mm=1;var t=Io,e=bv();function r(n){return n!=null&&e(n.length)&&!t(n)}return Al=r,Al}var Ll,ym;function Li(){if(ym)return Ll;ym=1;var t=QE(),e=Ev(),r=oi();function n(i){return r(i)?t(i):e(i)}return Ll=n,Ll}var Ml,bm;function WN(){if(bm)return Ml;bm=1;var t=Xo(),e=Li();function r(n,i){return n&&t(i,e(i),n)}return Ml=r,Ml}var Ol,wm;function YN(){if(wm)return Ol;wm=1;function t(e){var r=[];if(e!=null)for(var n in Object(e))r.push(n);return r}return Ol=t,Ol}var Nl,Em;function XN(){if(Em)return Nl;Em=1;var t=rn,e=vu(),r=YN(),n=Object.prototype,i=n.hasOwnProperty;function o(a){if(!t(a))return r(a);var s=e(a),u=[];for(var l in a)l=="constructor"&&(s||!i.call(a,l))||u.push(l);return u}return Nl=o,Nl}var Il,xm;function ta(){if(xm)return Il;xm=1;var t=QE(),e=XN(),r=oi();function n(i){return r(i)?t(i,!0):e(i)}return Il=n,Il}var Pl,_m;function jN(){if(_m)return Pl;_m=1;var t=Xo(),e=ta();function r(n,i){return n&&t(i,e(i),n)}return Pl=r,Pl}var ho={exports:{}};ho.exports;var Cm;function ex(){return Cm||(Cm=1,function(t,e){var r=Cn,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===n,a=o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;function u(l,f){if(f)return l.slice();var c=l.length,h=s?s(c):new l.constructor(c);return l.copy(h),h}t.exports=u}(ho,ho.exports)),ho.exports}var Rl,Tm;function tx(){if(Tm)return Rl;Tm=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,o=0,a=[];++n<i;){var s=e[n];r(s,n,e)&&(a[o++]=s)}return a}return Rl=t,Rl}var Fl,Sm;function rx(){if(Sm)return Fl;Sm=1;function t(){return[]}return Fl=t,Fl}var zl,Dm;function xv(){if(Dm)return zl;Dm=1;var t=tx(),e=rx(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(a){return a==null?[]:(a=Object(a),t(i(a),function(s){return n.call(a,s)}))}:e;return zl=o,zl}var Bl,km;function KN(){if(km)return Bl;km=1;var t=Xo(),e=xv();function r(n,i){return t(n,e(n),i)}return Bl=r,Bl}var ql,Am;function _v(){if(Am)return ql;Am=1;function t(e,r){for(var n=-1,i=r.length,o=e.length;++n<i;)e[o+n]=r[n];return e}return ql=t,ql}var $l,Lm;function pu(){if(Lm)return $l;Lm=1;var t=JE(),e=t(Object.getPrototypeOf,Object);return $l=e,$l}var Gl,Mm;function nx(){if(Mm)return Gl;Mm=1;var t=_v(),e=pu(),r=xv(),n=rx(),i=Object.getOwnPropertySymbols,o=i?function(a){for(var s=[];a;)t(s,r(a)),a=e(a);return s}:n;return Gl=o,Gl}var Hl,Om;function ZN(){if(Om)return Hl;Om=1;var t=Xo(),e=nx();function r(n,i){return t(n,e(n),i)}return Hl=r,Hl}var Ul,Nm;function ix(){if(Nm)return Ul;Nm=1;var t=_v(),e=vr;function r(n,i,o){var a=i(n);return e(n)?a:t(a,o(n))}return Ul=r,Ul}var Vl,Im;function ax(){if(Im)return Vl;Im=1;var t=ix(),e=xv(),r=Li();function n(i){return t(i,r,e)}return Vl=n,Vl}var Wl,Pm;function QN(){if(Pm)return Wl;Pm=1;var t=ix(),e=nx(),r=ta();function n(i){return t(i,r,e)}return Wl=n,Wl}var Yl,Rm;function JN(){if(Rm)return Yl;Rm=1;var t=Qi,e=Cn,r=t(e,"DataView");return Yl=r,Yl}var Xl,Fm;function eI(){if(Fm)return Xl;Fm=1;var t=Qi,e=Cn,r=t(e,"Promise");return Xl=r,Xl}var jl,zm;function ox(){if(zm)return jl;zm=1;var t=Qi,e=Cn,r=t(e,"Set");return jl=r,jl}var Kl,Bm;function tI(){if(Bm)return Kl;Bm=1;var t=Qi,e=Cn,r=t(e,"WeakMap");return Kl=r,Kl}var Zl,qm;function Ha(){if(qm)return Zl;qm=1;var t=JN(),e=Vd,r=eI(),n=ox(),i=tI(),o=Ki,a=ow,s="[object Map]",u="[object Object]",l="[object Promise]",f="[object Set]",c="[object WeakMap]",h="[object DataView]",d=a(t),p=a(e),g=a(r),w=a(n),v=a(i),m=o;return(t&&m(new t(new ArrayBuffer(1)))!=h||e&&m(new e)!=s||r&&m(r.resolve())!=l||n&&m(new n)!=f||i&&m(new i)!=c)&&(m=function(y){var E=o(y),T=E==u?y.constructor:void 0,C=T?a(T):"";if(C)switch(C){case d:return h;case p:return s;case g:return l;case w:return f;case v:return c}return E}),Zl=m,Zl}var Ql,$m;function rI(){if($m)return Ql;$m=1;var t=Object.prototype,e=t.hasOwnProperty;function r(n){var i=n.length,o=new n.constructor(i);return i&&typeof n[0]=="string"&&e.call(n,"index")&&(o.index=n.index,o.input=n.input),o}return Ql=r,Ql}var Jl,Gm;function sx(){if(Gm)return Jl;Gm=1;var t=Cn,e=t.Uint8Array;return Jl=e,Jl}var ef,Hm;function Cv(){if(Hm)return ef;Hm=1;var t=sx();function e(r){var n=new r.constructor(r.byteLength);return new t(n).set(new t(r)),n}return ef=e,ef}var tf,Um;function nI(){if(Um)return tf;Um=1;var t=Cv();function e(r,n){var i=n?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.byteLength)}return tf=e,tf}var rf,Vm;function iI(){if(Vm)return rf;Vm=1;var t=/\w*$/;function e(r){var n=new r.constructor(r.source,t.exec(r));return n.lastIndex=r.lastIndex,n}return rf=e,rf}var nf,Wm;function aI(){if(Wm)return nf;Wm=1;var t=Aa,e=t?t.prototype:void 0,r=e?e.valueOf:void 0;function n(i){return r?Object(r.call(i)):{}}return nf=n,nf}var af,Ym;function ux(){if(Ym)return af;Ym=1;var t=Cv();function e(r,n){var i=n?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.length)}return af=e,af}var of,Xm;function oI(){if(Xm)return of;Xm=1;var t=Cv(),e=nI(),r=iI(),n=aI(),i=ux(),o="[object Boolean]",a="[object Date]",s="[object Map]",u="[object Number]",l="[object RegExp]",f="[object Set]",c="[object String]",h="[object Symbol]",d="[object ArrayBuffer]",p="[object DataView]",g="[object Float32Array]",w="[object Float64Array]",v="[object Int8Array]",m="[object Int16Array]",y="[object Int32Array]",E="[object Uint8Array]",T="[object Uint8ClampedArray]",C="[object Uint16Array]",b="[object Uint32Array]";function k(S,O,N){var D=S.constructor;switch(O){case d:return t(S);case o:case a:return new D(+S);case p:return e(S,N);case g:case w:case v:case m:case y:case E:case T:case C:case b:return i(S,N);case s:return new D;case u:case c:return new D(S);case l:return r(S);case f:return new D;case h:return n(S)}}return of=k,of}var sf,jm;function lx(){if(jm)return sf;jm=1;var t=rn,e=Object.create,r=function(){function n(){}return function(i){if(!t(i))return{};if(e)return e(i);n.prototype=i;var o=new n;return n.prototype=void 0,o}}();return sf=r,sf}var uf,Km;function fx(){if(Km)return uf;Km=1;var t=lx(),e=pu(),r=vu();function n(i){return typeof i.constructor=="function"&&!r(i)?t(e(i)):{}}return uf=n,uf}var lf,Zm;function sI(){if(Zm)return lf;Zm=1;var t=Ha(),e=$n,r="[object Map]";function n(i){return e(i)&&t(i)==r}return lf=n,lf}var ff,Qm;function uI(){if(Qm)return ff;Qm=1;var t=sI(),e=du(),r=wv(),n=r&&r.isMap,i=n?e(n):t;return ff=i,ff}var cf,Jm;function lI(){if(Jm)return cf;Jm=1;var t=Ha(),e=$n,r="[object Set]";function n(i){return e(i)&&t(i)==r}return cf=n,cf}var hf,ey;function fI(){if(ey)return hf;ey=1;var t=lI(),e=du(),r=wv(),n=r&&r.isSet,i=n?e(n):t;return hf=i,hf}var df,ty;function cx(){if(ty)return df;ty=1;var t=hu(),e=yv(),r=Ks,n=WN(),i=jN(),o=ex(),a=jd,s=KN(),u=ZN(),l=ax(),f=QN(),c=Ha(),h=rI(),d=oI(),p=fx(),g=vr,w=Ga(),v=uI(),m=rn,y=fI(),E=Li(),T=ta(),C=1,b=2,k=4,S="[object Arguments]",O="[object Array]",N="[object Boolean]",D="[object Date]",I="[object Error]",x="[object Function]",P="[object GeneratorFunction]",L="[object Map]",M="[object Number]",R="[object Object]",V="[object RegExp]",U="[object Set]",q="[object String]",$="[object Symbol]",X="[object WeakMap]",B="[object ArrayBuffer]",H="[object DataView]",j="[object Float32Array]",K="[object Float64Array]",te="[object Int8Array]",re="[object Int16Array]",ue="[object Int32Array]",se="[object Uint8Array]",de="[object Uint8ClampedArray]",be="[object Uint16Array]",z="[object Uint32Array]",ae={};ae[S]=ae[O]=ae[B]=ae[H]=ae[N]=ae[D]=ae[j]=ae[K]=ae[te]=ae[re]=ae[ue]=ae[L]=ae[M]=ae[R]=ae[V]=ae[U]=ae[q]=ae[$]=ae[se]=ae[de]=ae[be]=ae[z]=!0,ae[I]=ae[x]=ae[X]=!1;function Z(W,Y,ie,ve,me,fe){var le,ee=Y&C,oe=Y&b,ge=Y&k;if(ie&&(le=me?ie(W,ve,me,fe):ie(W)),le!==void 0)return le;if(!m(W))return W;var _e=g(W);if(_e){if(le=h(W),!ee)return a(W,le)}else{var we=c(W),ze=we==x||we==P;if(w(W))return o(W,ee);if(we==R||we==S||ze&&!me){if(le=oe||ze?{}:p(W),!ee)return oe?u(W,i(le,W)):s(W,n(le,W))}else{if(!ae[we])return me?W:{};le=d(W,we,ee)}}fe||(fe=new t);var Me=fe.get(W);if(Me)return Me;fe.set(W,le),y(W)?W.forEach(function(Ee){le.add(Z(Ee,Y,ie,Ee,W,fe))}):v(W)&&W.forEach(function(Ee,Se){le.set(Se,Z(Ee,Y,ie,Se,W,fe))});var Re=ge?oe?f:l:oe?T:E,Ce=_e?void 0:Re(W);return e(Ce||W,function(Ee,Se){Ce&&(Se=Ee,Ee=W[Se]),r(le,Se,Z(Ee,Y,ie,Se,W,fe))}),le}return df=Z,df}var vf,ry;function cI(){if(ry)return vf;ry=1;var t=cx(),e=4;function r(n){return t(n,e)}return vf=r,vf}var pf,ny;function Tv(){if(ny)return pf;ny=1;function t(e){return function(){return e}}return pf=t,pf}var gf,iy;function hI(){if(iy)return gf;iy=1;function t(e){return function(r,n,i){for(var o=-1,a=Object(r),s=i(r),u=s.length;u--;){var l=s[e?u:++o];if(n(a[l],l,a)===!1)break}return r}}return gf=t,gf}var mf,ay;function Sv(){if(ay)return mf;ay=1;var t=hI(),e=t();return mf=e,mf}var yf,oy;function Dv(){if(oy)return yf;oy=1;var t=Sv(),e=Li();function r(n,i){return n&&t(n,i,e)}return yf=r,yf}var bf,sy;function dI(){if(sy)return bf;sy=1;var t=oi();function e(r,n){return function(i,o){if(i==null)return i;if(!t(i))return r(i,o);for(var a=i.length,s=n?a:-1,u=Object(i);(n?s--:++s<a)&&o(u[s],s,u)!==!1;);return i}}return bf=e,bf}var wf,uy;function gu(){if(uy)return wf;uy=1;var t=Dv(),e=dI(),r=e(t);return wf=r,wf}var Ef,ly;function ra(){if(ly)return Ef;ly=1;function t(e){return e}return Ef=t,Ef}var xf,fy;function hx(){if(fy)return xf;fy=1;var t=ra();function e(r){return typeof r=="function"?r:t}return xf=e,xf}var _f,hy;function dx(){if(hy)return _f;hy=1;var t=yv(),e=gu(),r=hx(),n=vr;function i(o,a){var s=n(o)?t:e;return s(o,r(a))}return _f=i,_f}var Cf,dy;function vx(){return dy||(dy=1,Cf=dx()),Cf}var Tf,vy;function vI(){if(vy)return Tf;vy=1;var t=gu();function e(r,n){var i=[];return t(r,function(o,a,s){n(o,a,s)&&i.push(o)}),i}return Tf=e,Tf}var Sf,py;function pI(){if(py)return Sf;py=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return Sf=e,Sf}var Df,gy;function gI(){if(gy)return Df;gy=1;function t(e){return this.__data__.has(e)}return Df=t,Df}var kf,my;function px(){if(my)return kf;my=1;var t=Wd,e=pI(),r=gI();function n(i){var o=-1,a=i==null?0:i.length;for(this.__data__=new t;++o<a;)this.add(i[o])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,kf=n,kf}var Af,yy;function mI(){if(yy)return Af;yy=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return Af=t,Af}var Lf,by;function gx(){if(by)return Lf;by=1;function t(e,r){return e.has(r)}return Lf=t,Lf}var Mf,wy;function mx(){if(wy)return Mf;wy=1;var t=px(),e=mI(),r=gx(),n=1,i=2;function o(a,s,u,l,f,c){var h=u&n,d=a.length,p=s.length;if(d!=p&&!(h&&p>d))return!1;var g=c.get(a),w=c.get(s);if(g&&w)return g==s&&w==a;var v=-1,m=!0,y=u&i?new t:void 0;for(c.set(a,s),c.set(s,a);++v<d;){var E=a[v],T=s[v];if(l)var C=h?l(T,E,v,s,a,c):l(E,T,v,a,s,c);if(C!==void 0){if(C)continue;m=!1;break}if(y){if(!e(s,function(b,k){if(!r(y,k)&&(E===b||f(E,b,u,l,c)))return y.push(k)})){m=!1;break}}else if(!(E===T||f(E,T,u,l,c))){m=!1;break}}return c.delete(a),c.delete(s),m}return Mf=o,Mf}var Of,Ey;function yI(){if(Ey)return Of;Ey=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,o){n[++r]=[o,i]}),n}return Of=t,Of}var Nf,xy;function kv(){if(xy)return Nf;xy=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return Nf=t,Nf}var If,_y;function bI(){if(_y)return If;_y=1;var t=Aa,e=sx(),r=Ma,n=mx(),i=yI(),o=kv(),a=1,s=2,u="[object Boolean]",l="[object Date]",f="[object Error]",c="[object Map]",h="[object Number]",d="[object RegExp]",p="[object Set]",g="[object String]",w="[object Symbol]",v="[object ArrayBuffer]",m="[object DataView]",y=t?t.prototype:void 0,E=y?y.valueOf:void 0;function T(C,b,k,S,O,N,D){switch(k){case m:if(C.byteLength!=b.byteLength||C.byteOffset!=b.byteOffset)return!1;C=C.buffer,b=b.buffer;case v:return!(C.byteLength!=b.byteLength||!N(new e(C),new e(b)));case u:case l:case h:return r(+C,+b);case f:return C.name==b.name&&C.message==b.message;case d:case g:return C==b+"";case c:var I=i;case p:var x=S&a;if(I||(I=o),C.size!=b.size&&!x)return!1;var P=D.get(C);if(P)return P==b;S|=s,D.set(C,b);var L=n(I(C),I(b),S,O,N,D);return D.delete(C),L;case w:if(E)return E.call(C)==E.call(b)}return!1}return If=T,If}var Pf,Cy;function wI(){if(Cy)return Pf;Cy=1;var t=ax(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(o,a,s,u,l,f){var c=s&e,h=t(o),d=h.length,p=t(a),g=p.length;if(d!=g&&!c)return!1;for(var w=d;w--;){var v=h[w];if(!(c?v in a:n.call(a,v)))return!1}var m=f.get(o),y=f.get(a);if(m&&y)return m==a&&y==o;var E=!0;f.set(o,a),f.set(a,o);for(var T=c;++w<d;){v=h[w];var C=o[v],b=a[v];if(u)var k=c?u(b,C,v,a,o,f):u(C,b,v,o,a,f);if(!(k===void 0?C===b||l(C,b,s,u,f):k)){E=!1;break}T||(T=v=="constructor")}if(E&&!T){var S=o.constructor,O=a.constructor;S!=O&&"constructor"in o&&"constructor"in a&&!(typeof S=="function"&&S instanceof S&&typeof O=="function"&&O instanceof O)&&(E=!1)}return f.delete(o),f.delete(a),E}return Pf=i,Pf}var Rf,Ty;function EI(){if(Ty)return Rf;Ty=1;var t=hu(),e=mx(),r=bI(),n=wI(),i=Ha(),o=vr,a=Ga(),s=Ko(),u=1,l="[object Arguments]",f="[object Array]",c="[object Object]",h=Object.prototype,d=h.hasOwnProperty;function p(g,w,v,m,y,E){var T=o(g),C=o(w),b=T?f:i(g),k=C?f:i(w);b=b==l?c:b,k=k==l?c:k;var S=b==c,O=k==c,N=b==k;if(N&&a(g)){if(!a(w))return!1;T=!0,S=!1}if(N&&!S)return E||(E=new t),T||s(g)?e(g,w,v,m,y,E):r(g,w,b,v,m,y,E);if(!(v&u)){var D=S&&d.call(g,"__wrapped__"),I=O&&d.call(w,"__wrapped__");if(D||I){var x=D?g.value():g,P=I?w.value():w;return E||(E=new t),y(x,P,v,m,E)}}return N?(E||(E=new t),n(g,w,v,m,y,E)):!1}return Rf=p,Rf}var Ff,Sy;function yx(){if(Sy)return Ff;Sy=1;var t=EI(),e=$n;function r(n,i,o,a,s){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,o,a,r,s)}return Ff=r,Ff}var zf,Dy;function xI(){if(Dy)return zf;Dy=1;var t=hu(),e=yx(),r=1,n=2;function i(o,a,s,u){var l=s.length,f=l,c=!u;if(o==null)return!f;for(o=Object(o);l--;){var h=s[l];if(c&&h[2]?h[1]!==o[h[0]]:!(h[0]in o))return!1}for(;++l<f;){h=s[l];var d=h[0],p=o[d],g=h[1];if(c&&h[2]){if(p===void 0&&!(d in o))return!1}else{var w=new t;if(u)var v=u(p,g,d,o,a,w);if(!(v===void 0?e(g,p,r|n,u,w):v))return!1}}return!0}return zf=i,zf}var Bf,ky;function bx(){if(ky)return Bf;ky=1;var t=rn;function e(r){return r===r&&!t(r)}return Bf=e,Bf}var qf,Ay;function _I(){if(Ay)return qf;Ay=1;var t=bx(),e=Li();function r(n){for(var i=e(n),o=i.length;o--;){var a=i[o],s=n[a];i[o]=[a,s,t(s)]}return i}return qf=r,qf}var $f,Ly;function wx(){if(Ly)return $f;Ly=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return $f=t,$f}var Gf,My;function CI(){if(My)return Gf;My=1;var t=xI(),e=_I(),r=wx();function n(i){var o=e(i);return o.length==1&&o[0][2]?r(o[0][0],o[0][1]):function(a){return a===i||t(a,i,o)}}return Gf=n,Gf}var Hf,Oy;function TI(){if(Oy)return Hf;Oy=1;function t(e,r){return e!=null&&r in Object(e)}return Hf=t,Hf}var Uf,Ny;function Ex(){if(Ny)return Uf;Ny=1;var t=Ys,e=jo(),r=vr,n=Zs,i=bv(),o=Ia;function a(s,u,l){u=t(u,s);for(var f=-1,c=u.length,h=!1;++f<c;){var d=o(u[f]);if(!(h=s!=null&&l(s,d)))break;s=s[d]}return h||++f!=c?h:(c=s==null?0:s.length,!!c&&i(c)&&n(d,c)&&(r(s)||e(s)))}return Uf=a,Uf}var Vf,Iy;function xx(){if(Iy)return Vf;Iy=1;var t=TI(),e=Ex();function r(n,i){return n!=null&&e(n,i,t)}return Vf=r,Vf}var Wf,Py;function SI(){if(Py)return Wf;Py=1;var t=yx(),e=fw,r=xx(),n=Ud,i=bx(),o=wx(),a=Ia,s=1,u=2;function l(f,c){return n(f)&&i(c)?o(a(f),c):function(h){var d=e(h,f);return d===void 0&&d===c?r(h,f):t(c,d,s|u)}}return Wf=l,Wf}var Yf,Ry;function _x(){if(Ry)return Yf;Ry=1;function t(e){return function(r){return r==null?void 0:r[e]}}return Yf=t,Yf}var Xf,Fy;function DI(){if(Fy)return Xf;Fy=1;var t=Xs;function e(r){return function(n){return t(n,r)}}return Xf=e,Xf}var jf,zy;function kI(){if(zy)return jf;zy=1;var t=_x(),e=DI(),r=Ud,n=Ia;function i(o){return r(o)?t(n(o)):e(o)}return jf=i,jf}var Kf,By;function si(){if(By)return Kf;By=1;var t=CI(),e=SI(),r=ra(),n=vr,i=kI();function o(a){return typeof a=="function"?a:a==null?r:typeof a=="object"?n(a)?e(a[0],a[1]):t(a):i(a)}return Kf=o,Kf}var Zf,qy;function Cx(){if(qy)return Zf;qy=1;var t=tx(),e=vI(),r=si(),n=vr;function i(o,a){var s=n(o)?t:e;return s(o,r(a,3))}return Zf=i,Zf}var Qf,$y;function AI(){if($y)return Qf;$y=1;var t=Object.prototype,e=t.hasOwnProperty;function r(n,i){return n!=null&&e.call(n,i)}return Qf=r,Qf}var Jf,Gy;function Tx(){if(Gy)return Jf;Gy=1;var t=AI(),e=Ex();function r(n,i){return n!=null&&e(n,i,t)}return Jf=r,Jf}var ec,Hy;function LI(){if(Hy)return ec;Hy=1;var t=Ev(),e=Ha(),r=jo(),n=vr,i=oi(),o=Ga(),a=vu(),s=Ko(),u="[object Map]",l="[object Set]",f=Object.prototype,c=f.hasOwnProperty;function h(d){if(d==null)return!0;if(i(d)&&(n(d)||typeof d=="string"||typeof d.splice=="function"||o(d)||s(d)||r(d)))return!d.length;var p=e(d);if(p==u||p==l)return!d.size;if(a(d))return!t(d).length;for(var g in d)if(c.call(d,g))return!1;return!0}return ec=h,ec}var tc,Uy;function Sx(){if(Uy)return tc;Uy=1;function t(e){return e===void 0}return tc=t,tc}var rc,Vy;function Dx(){if(Vy)return rc;Vy=1;var t=gu(),e=oi();function r(n,i){var o=-1,a=e(n)?Array(n.length):[];return t(n,function(s,u,l){a[++o]=i(s,u,l)}),a}return rc=r,rc}var nc,Wy;function kx(){if(Wy)return nc;Wy=1;var t=Po,e=si(),r=Dx(),n=vr;function i(o,a){var s=n(o)?t:r;return s(o,e(a,3))}return nc=i,nc}var ic,Yy;function MI(){if(Yy)return ic;Yy=1;function t(e,r,n,i){var o=-1,a=e==null?0:e.length;for(i&&a&&(n=e[++o]);++o<a;)n=r(n,e[o],o,e);return n}return ic=t,ic}var ac,Xy;function OI(){if(Xy)return ac;Xy=1;function t(e,r,n,i,o){return o(e,function(a,s,u){n=i?(i=!1,a):r(n,a,s,u)}),n}return ac=t,ac}var oc,jy;function Ax(){if(jy)return oc;jy=1;var t=MI(),e=gu(),r=si(),n=OI(),i=vr;function o(a,s,u){var l=i(a)?t:n,f=arguments.length<3;return l(a,r(s,4),u,f,e)}return oc=o,oc}var sc,Ky;function NI(){if(Ky)return sc;Ky=1;var t=Ki,e=vr,r=$n,n="[object String]";function i(o){return typeof o=="string"||!e(o)&&r(o)&&t(o)==n}return sc=i,sc}var uc,Zy;function II(){if(Zy)return uc;Zy=1;var t=_x(),e=t("length");return uc=e,uc}var lc,Qy;function PI(){if(Qy)return lc;Qy=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,o="\\ufe0e\\ufe0f",a="\\u200d",s=RegExp("["+a+t+i+o+"]");function u(l){return s.test(l)}return lc=u,lc}var fc,Jy;function RI(){if(Jy)return fc;Jy=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,o="\\ufe0e\\ufe0f",a="["+t+"]",s="["+i+"]",u="\\ud83c[\\udffb-\\udfff]",l="(?:"+s+"|"+u+")",f="[^"+t+"]",c="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",d="\\u200d",p=l+"?",g="["+o+"]?",w="(?:"+d+"(?:"+[f,c,h].join("|")+")"+g+p+")*",v=g+p+w,m="(?:"+[f+s+"?",s,c,h,a].join("|")+")",y=RegExp(u+"(?="+u+")|"+m+v,"g");function E(T){for(var C=y.lastIndex=0;y.test(T);)++C;return C}return fc=E,fc}var cc,e0;function FI(){if(e0)return cc;e0=1;var t=II(),e=PI(),r=RI();function n(i){return e(i)?r(i):t(i)}return cc=n,cc}var hc,t0;function zI(){if(t0)return hc;t0=1;var t=Ev(),e=Ha(),r=oi(),n=NI(),i=FI(),o="[object Map]",a="[object Set]";function s(u){if(u==null)return 0;if(r(u))return n(u)?i(u):u.length;var l=e(u);return l==o||l==a?u.size:t(u).length}return hc=s,hc}var dc,r0;function BI(){if(r0)return dc;r0=1;var t=yv(),e=lx(),r=Dv(),n=si(),i=pu(),o=vr,a=Ga(),s=Io,u=rn,l=Ko();function f(c,h,d){var p=o(c),g=p||a(c)||l(c);if(h=n(h,4),d==null){var w=c&&c.constructor;g?d=p?new w:[]:u(c)?d=s(w)?e(i(c)):{}:d={}}return(g?t:r)(c,function(v,m,y){return h(d,v,m,y)}),d}return dc=f,dc}var vc,n0;function qI(){if(n0)return vc;n0=1;var t=Aa,e=jo(),r=vr,n=t?t.isConcatSpreadable:void 0;function i(o){return r(o)||e(o)||!!(n&&o&&o[n])}return vc=i,vc}var pc,i0;function Av(){if(i0)return pc;i0=1;var t=_v(),e=qI();function r(n,i,o,a,s){var u=-1,l=n.length;for(o||(o=e),s||(s=[]);++u<l;){var f=n[u];i>0&&o(f)?i>1?r(f,i-1,o,a,s):t(s,f):a||(s[s.length]=f)}return s}return pc=r,pc}var gc,a0;function $I(){if(a0)return gc;a0=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return gc=t,gc}var mc,o0;function Lx(){if(o0)return mc;o0=1;var t=$I(),e=Math.max;function r(n,i,o){return i=e(i===void 0?n.length-1:i,0),function(){for(var a=arguments,s=-1,u=e(a.length-i,0),l=Array(u);++s<u;)l[s]=a[i+s];s=-1;for(var f=Array(i+1);++s<i;)f[s]=a[s];return f[i]=o(l),t(n,this,f)}}return mc=r,mc}var yc,s0;function GI(){if(s0)return yc;s0=1;var t=Tv(),e=cw,r=ra(),n=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:r;return yc=n,yc}var bc,u0;function HI(){if(u0)return bc;u0=1;var t=800,e=16,r=Date.now;function n(i){var o=0,a=0;return function(){var s=r(),u=e-(s-a);if(a=s,u>0){if(++o>=t)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return bc=n,bc}var wc,l0;function Mx(){if(l0)return wc;l0=1;var t=GI(),e=HI(),r=e(t);return wc=r,wc}var Ec,f0;function mu(){if(f0)return Ec;f0=1;var t=ra(),e=Lx(),r=Mx();function n(i,o){return r(e(i,o,t),i+"")}return Ec=n,Ec}var xc,c0;function Ox(){if(c0)return xc;c0=1;function t(e,r,n,i){for(var o=e.length,a=n+(i?1:-1);i?a--:++a<o;)if(r(e[a],a,e))return a;return-1}return xc=t,xc}var _c,h0;function UI(){if(h0)return _c;h0=1;function t(e){return e!==e}return _c=t,_c}var Cc,d0;function VI(){if(d0)return Cc;d0=1;function t(e,r,n){for(var i=n-1,o=e.length;++i<o;)if(e[i]===r)return i;return-1}return Cc=t,Cc}var Tc,v0;function WI(){if(v0)return Tc;v0=1;var t=Ox(),e=UI(),r=VI();function n(i,o,a){return o===o?r(i,o,a):t(i,e,a)}return Tc=n,Tc}var Sc,p0;function YI(){if(p0)return Sc;p0=1;var t=WI();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return Sc=e,Sc}var Dc,g0;function XI(){if(g0)return Dc;g0=1;function t(e,r,n){for(var i=-1,o=e==null?0:e.length;++i<o;)if(n(r,e[i]))return!0;return!1}return Dc=t,Dc}var kc,m0;function jI(){if(m0)return kc;m0=1;function t(){}return kc=t,kc}var Ac,y0;function KI(){if(y0)return Ac;y0=1;var t=ox(),e=jI(),r=kv(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(o){return new t(o)}:e;return Ac=i,Ac}var Lc,b0;function ZI(){if(b0)return Lc;b0=1;var t=px(),e=YI(),r=XI(),n=gx(),i=KI(),o=kv(),a=200;function s(u,l,f){var c=-1,h=e,d=u.length,p=!0,g=[],w=g;if(f)p=!1,h=r;else if(d>=a){var v=l?null:i(u);if(v)return o(v);p=!1,h=n,w=new t}else w=l?[]:g;e:for(;++c<d;){var m=u[c],y=l?l(m):m;if(m=f||m!==0?m:0,p&&y===y){for(var E=w.length;E--;)if(w[E]===y)continue e;l&&w.push(y),g.push(m)}else h(w,y,f)||(w!==g&&w.push(y),g.push(m))}return g}return Lc=s,Lc}var Mc,w0;function Nx(){if(w0)return Mc;w0=1;var t=oi(),e=$n;function r(n){return e(n)&&t(n)}return Mc=r,Mc}var Oc,E0;function QI(){if(E0)return Oc;E0=1;var t=Av(),e=mu(),r=ZI(),n=Nx(),i=e(function(o){return r(t(o,1,n,!0))});return Oc=i,Oc}var Nc,x0;function JI(){if(x0)return Nc;x0=1;var t=Po;function e(r,n){return t(n,function(i){return r[i]})}return Nc=e,Nc}var Ic,_0;function Ix(){if(_0)return Ic;_0=1;var t=JI(),e=Li();function r(n){return n==null?[]:t(n,e(n))}return Ic=r,Ic}var Pc,C0;function pn(){if(C0)return Pc;C0=1;var t;if(typeof Gi=="function")try{t={clone:cI(),constant:Tv(),each:vx(),filter:Cx(),has:Tx(),isArray:vr,isEmpty:LI(),isFunction:Io,isUndefined:Sx(),keys:Li(),map:kx(),reduce:Ax(),size:zI(),transform:BI(),union:QI(),values:Ix()}}catch{}return t||(t=window._),Pc=t,Pc}var Rc,T0;function Lv(){if(T0)return Rc;T0=1;var t=pn();Rc=i;var e="\0",r="\0",n="";function i(f){this._isDirected=t.has(f,"directed")?f.directed:!0,this._isMultigraph=t.has(f,"multigraph")?f.multigraph:!1,this._isCompound=t.has(f,"compound")?f.compound:!1,this._label=void 0,this._defaultNodeLabelFn=t.constant(void 0),this._defaultEdgeLabelFn=t.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[r]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(f){return this._label=f,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(f){return t.isFunction(f)||(f=t.constant(f)),this._defaultNodeLabelFn=f,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return t.keys(this._nodes)},i.prototype.sources=function(){var f=this;return t.filter(this.nodes(),function(c){return t.isEmpty(f._in[c])})},i.prototype.sinks=function(){var f=this;return t.filter(this.nodes(),function(c){return t.isEmpty(f._out[c])})},i.prototype.setNodes=function(f,c){var h=arguments,d=this;return t.each(f,function(p){h.length>1?d.setNode(p,c):d.setNode(p)}),this},i.prototype.setNode=function(f,c){return t.has(this._nodes,f)?(arguments.length>1&&(this._nodes[f]=c),this):(this._nodes[f]=arguments.length>1?c:this._defaultNodeLabelFn(f),this._isCompound&&(this._parent[f]=r,this._children[f]={},this._children[r][f]=!0),this._in[f]={},this._preds[f]={},this._out[f]={},this._sucs[f]={},++this._nodeCount,this)},i.prototype.node=function(f){return this._nodes[f]},i.prototype.hasNode=function(f){return t.has(this._nodes,f)},i.prototype.removeNode=function(f){var c=this;if(t.has(this._nodes,f)){var h=function(d){c.removeEdge(c._edgeObjs[d])};delete this._nodes[f],this._isCompound&&(this._removeFromParentsChildList(f),delete this._parent[f],t.each(this.children(f),function(d){c.setParent(d)}),delete this._children[f]),t.each(t.keys(this._in[f]),h),delete this._in[f],delete this._preds[f],t.each(t.keys(this._out[f]),h),delete this._out[f],delete this._sucs[f],--this._nodeCount}return this},i.prototype.setParent=function(f,c){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(t.isUndefined(c))c=r;else{c+="";for(var h=c;!t.isUndefined(h);h=this.parent(h))if(h===f)throw new Error("Setting "+c+" as parent of "+f+" would create a cycle");this.setNode(c)}return this.setNode(f),this._removeFromParentsChildList(f),this._parent[f]=c,this._children[c][f]=!0,this},i.prototype._removeFromParentsChildList=function(f){delete this._children[this._parent[f]][f]},i.prototype.parent=function(f){if(this._isCompound){var c=this._parent[f];if(c!==r)return c}},i.prototype.children=function(f){if(t.isUndefined(f)&&(f=r),this._isCompound){var c=this._children[f];if(c)return t.keys(c)}else{if(f===r)return this.nodes();if(this.hasNode(f))return[]}},i.prototype.predecessors=function(f){var c=this._preds[f];if(c)return t.keys(c)},i.prototype.successors=function(f){var c=this._sucs[f];if(c)return t.keys(c)},i.prototype.neighbors=function(f){var c=this.predecessors(f);if(c)return t.union(c,this.successors(f))},i.prototype.isLeaf=function(f){var c;return this.isDirected()?c=this.successors(f):c=this.neighbors(f),c.length===0},i.prototype.filterNodes=function(f){var c=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});c.setGraph(this.graph());var h=this;t.each(this._nodes,function(g,w){f(w)&&c.setNode(w,g)}),t.each(this._edgeObjs,function(g){c.hasNode(g.v)&&c.hasNode(g.w)&&c.setEdge(g,h.edge(g))});var d={};function p(g){var w=h.parent(g);return w===void 0||c.hasNode(w)?(d[g]=w,w):w in d?d[w]:p(w)}return this._isCompound&&t.each(c.nodes(),function(g){c.setParent(g,p(g))}),c},i.prototype.setDefaultEdgeLabel=function(f){return t.isFunction(f)||(f=t.constant(f)),this._defaultEdgeLabelFn=f,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return t.values(this._edgeObjs)},i.prototype.setPath=function(f,c){var h=this,d=arguments;return t.reduce(f,function(p,g){return d.length>1?h.setEdge(p,g,c):h.setEdge(p,g),g}),this},i.prototype.setEdge=function(){var f,c,h,d,p=!1,g=arguments[0];typeof g=="object"&&g!==null&&"v"in g?(f=g.v,c=g.w,h=g.name,arguments.length===2&&(d=arguments[1],p=!0)):(f=g,c=arguments[1],h=arguments[3],arguments.length>2&&(d=arguments[2],p=!0)),f=""+f,c=""+c,t.isUndefined(h)||(h=""+h);var w=s(this._isDirected,f,c,h);if(t.has(this._edgeLabels,w))return p&&(this._edgeLabels[w]=d),this;if(!t.isUndefined(h)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(f),this.setNode(c),this._edgeLabels[w]=p?d:this._defaultEdgeLabelFn(f,c,h);var v=u(this._isDirected,f,c,h);return f=v.v,c=v.w,Object.freeze(v),this._edgeObjs[w]=v,o(this._preds[c],f),o(this._sucs[f],c),this._in[c][w]=v,this._out[f][w]=v,this._edgeCount++,this},i.prototype.edge=function(f,c,h){var d=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,f,c,h);return this._edgeLabels[d]},i.prototype.hasEdge=function(f,c,h){var d=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,f,c,h);return t.has(this._edgeLabels,d)},i.prototype.removeEdge=function(f,c,h){var d=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,f,c,h),p=this._edgeObjs[d];return p&&(f=p.v,c=p.w,delete this._edgeLabels[d],delete this._edgeObjs[d],a(this._preds[c],f),a(this._sucs[f],c),delete this._in[c][d],delete this._out[f][d],this._edgeCount--),this},i.prototype.inEdges=function(f,c){var h=this._in[f];if(h){var d=t.values(h);return c?t.filter(d,function(p){return p.v===c}):d}},i.prototype.outEdges=function(f,c){var h=this._out[f];if(h){var d=t.values(h);return c?t.filter(d,function(p){return p.w===c}):d}},i.prototype.nodeEdges=function(f,c){var h=this.inEdges(f,c);if(h)return h.concat(this.outEdges(f,c))};function o(f,c){f[c]?f[c]++:f[c]=1}function a(f,c){--f[c]||delete f[c]}function s(f,c,h,d){var p=""+c,g=""+h;if(!f&&p>g){var w=p;p=g,g=w}return p+n+g+n+(t.isUndefined(d)?e:d)}function u(f,c,h,d){var p=""+c,g=""+h;if(!f&&p>g){var w=p;p=g,g=w}var v={v:p,w:g};return d&&(v.name=d),v}function l(f,c){return s(f,c.v,c.w,c.name)}return Rc}var Fc,S0;function eP(){return S0||(S0=1,Fc="2.1.8"),Fc}var zc,D0;function tP(){return D0||(D0=1,zc={Graph:Lv(),version:eP()}),zc}var Bc,k0;function rP(){if(k0)return Bc;k0=1;var t=pn(),e=Lv();Bc={write:r,read:o};function r(a){var s={options:{directed:a.isDirected(),multigraph:a.isMultigraph(),compound:a.isCompound()},nodes:n(a),edges:i(a)};return t.isUndefined(a.graph())||(s.value=t.clone(a.graph())),s}function n(a){return t.map(a.nodes(),function(s){var u=a.node(s),l=a.parent(s),f={v:s};return t.isUndefined(u)||(f.value=u),t.isUndefined(l)||(f.parent=l),f})}function i(a){return t.map(a.edges(),function(s){var u=a.edge(s),l={v:s.v,w:s.w};return t.isUndefined(s.name)||(l.name=s.name),t.isUndefined(u)||(l.value=u),l})}function o(a){var s=new e(a.options).setGraph(a.value);return t.each(a.nodes,function(u){s.setNode(u.v,u.value),u.parent&&s.setParent(u.v,u.parent)}),t.each(a.edges,function(u){s.setEdge({v:u.v,w:u.w,name:u.name},u.value)}),s}return Bc}var qc,A0;function nP(){if(A0)return qc;A0=1;var t=pn();qc=e;function e(r){var n={},i=[],o;function a(s){t.has(n,s)||(n[s]=!0,o.push(s),t.each(r.successors(s),a),t.each(r.predecessors(s),a))}return t.each(r.nodes(),function(s){o=[],a(s),o.length&&i.push(o)}),i}return qc}var $c,L0;function Px(){if(L0)return $c;L0=1;var t=pn();$c=e;function e(){this._arr=[],this._keyIndices={}}return e.prototype.size=function(){return this._arr.length},e.prototype.keys=function(){return this._arr.map(function(r){return r.key})},e.prototype.has=function(r){return t.has(this._keyIndices,r)},e.prototype.priority=function(r){var n=this._keyIndices[r];if(n!==void 0)return this._arr[n].priority},e.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},e.prototype.add=function(r,n){var i=this._keyIndices;if(r=String(r),!t.has(i,r)){var o=this._arr,a=o.length;return i[r]=a,o.push({key:r,priority:n}),this._decrease(a),!0}return!1},e.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var r=this._arr.pop();return delete this._keyIndices[r.key],this._heapify(0),r.key},e.prototype.decrease=function(r,n){var i=this._keyIndices[r];if(n>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+r+" Old: "+this._arr[i].priority+" New: "+n);this._arr[i].priority=n,this._decrease(i)},e.prototype._heapify=function(r){var n=this._arr,i=2*r,o=i+1,a=r;i<n.length&&(a=n[i].priority<n[a].priority?i:a,o<n.length&&(a=n[o].priority<n[a].priority?o:a),a!==r&&(this._swap(r,a),this._heapify(a)))},e.prototype._decrease=function(r){for(var n=this._arr,i=n[r].priority,o;r!==0&&(o=r>>1,!(n[o].priority<i));)this._swap(r,o),r=o},e.prototype._swap=function(r,n){var i=this._arr,o=this._keyIndices,a=i[r],s=i[n];i[r]=s,i[n]=a,o[s.key]=r,o[a.key]=n},$c}var Gc,M0;function Rx(){if(M0)return Gc;M0=1;var t=pn(),e=Px();Gc=n;var r=t.constant(1);function n(o,a,s,u){return i(o,String(a),s||r,u||function(l){return o.outEdges(l)})}function i(o,a,s,u){var l={},f=new e,c,h,d=function(p){var g=p.v!==c?p.v:p.w,w=l[g],v=s(p),m=h.distance+v;if(v<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+p+" Weight: "+v);m<w.distance&&(w.distance=m,w.predecessor=c,f.decrease(g,m))};for(o.nodes().forEach(function(p){var g=p===a?0:Number.POSITIVE_INFINITY;l[p]={distance:g},f.add(p,g)});f.size()>0&&(c=f.removeMin(),h=l[c],h.distance!==Number.POSITIVE_INFINITY);)u(c).forEach(d);return l}return Gc}var Hc,O0;function iP(){if(O0)return Hc;O0=1;var t=Rx(),e=pn();Hc=r;function r(n,i,o){return e.transform(n.nodes(),function(a,s){a[s]=t(n,s,i,o)},{})}return Hc}var Uc,N0;function Fx(){if(N0)return Uc;N0=1;var t=pn();Uc=e;function e(r){var n=0,i=[],o={},a=[];function s(u){var l=o[u]={onStack:!0,lowlink:n,index:n++};if(i.push(u),r.successors(u).forEach(function(h){t.has(o,h)?o[h].onStack&&(l.lowlink=Math.min(l.lowlink,o[h].index)):(s(h),l.lowlink=Math.min(l.lowlink,o[h].lowlink))}),l.lowlink===l.index){var f=[],c;do c=i.pop(),o[c].onStack=!1,f.push(c);while(u!==c);a.push(f)}}return r.nodes().forEach(function(u){t.has(o,u)||s(u)}),a}return Uc}var Vc,I0;function aP(){if(I0)return Vc;I0=1;var t=pn(),e=Fx();Vc=r;function r(n){return t.filter(e(n),function(i){return i.length>1||i.length===1&&n.hasEdge(i[0],i[0])})}return Vc}var Wc,P0;function oP(){if(P0)return Wc;P0=1;var t=pn();Wc=r;var e=t.constant(1);function r(i,o,a){return n(i,o||e,a||function(s){return i.outEdges(s)})}function n(i,o,a){var s={},u=i.nodes();return u.forEach(function(l){s[l]={},s[l][l]={distance:0},u.forEach(function(f){l!==f&&(s[l][f]={distance:Number.POSITIVE_INFINITY})}),a(l).forEach(function(f){var c=f.v===l?f.w:f.v,h=o(f);s[l][c]={distance:h,predecessor:l}})}),u.forEach(function(l){var f=s[l];u.forEach(function(c){var h=s[c];u.forEach(function(d){var p=h[l],g=f[d],w=h[d],v=p.distance+g.distance;v<w.distance&&(w.distance=v,w.predecessor=g.predecessor)})})}),s}return Wc}var Yc,R0;function zx(){if(R0)return Yc;R0=1;var t=pn();Yc=e,e.CycleException=r;function e(n){var i={},o={},a=[];function s(u){if(t.has(o,u))throw new r;t.has(i,u)||(o[u]=!0,i[u]=!0,t.each(n.predecessors(u),s),delete o[u],a.push(u))}if(t.each(n.sinks(),s),t.size(i)!==n.nodeCount())throw new r;return a}function r(){}return r.prototype=new Error,Yc}var Xc,F0;function sP(){if(F0)return Xc;F0=1;var t=zx();Xc=e;function e(r){try{t(r)}catch(n){if(n instanceof t.CycleException)return!1;throw n}return!0}return Xc}var jc,z0;function Bx(){if(z0)return jc;z0=1;var t=pn();jc=e;function e(n,i,o){t.isArray(i)||(i=[i]);var a=(n.isDirected()?n.successors:n.neighbors).bind(n),s=[],u={};return t.each(i,function(l){if(!n.hasNode(l))throw new Error("Graph does not have node: "+l);r(n,l,o==="post",u,a,s)}),s}function r(n,i,o,a,s,u){t.has(a,i)||(a[i]=!0,o||u.push(i),t.each(s(i),function(l){r(n,l,o,a,s,u)}),o&&u.push(i))}return jc}var Kc,B0;function uP(){if(B0)return Kc;B0=1;var t=Bx();Kc=e;function e(r,n){return t(r,n,"post")}return Kc}var Zc,q0;function lP(){if(q0)return Zc;q0=1;var t=Bx();Zc=e;function e(r,n){return t(r,n,"pre")}return Zc}var Qc,$0;function fP(){if($0)return Qc;$0=1;var t=pn(),e=Lv(),r=Px();Qc=n;function n(i,o){var a=new e,s={},u=new r,l;function f(h){var d=h.v===l?h.w:h.v,p=u.priority(d);if(p!==void 0){var g=o(h);g<p&&(s[d]=l,u.decrease(d,g))}}if(i.nodeCount()===0)return a;t.each(i.nodes(),function(h){u.add(h,Number.POSITIVE_INFINITY),a.setNode(h)}),u.decrease(i.nodes()[0],0);for(var c=!1;u.size()>0;){if(l=u.removeMin(),t.has(s,l))a.setEdge(l,s[l]);else{if(c)throw new Error("Input graph is not connected: "+i);c=!0}i.nodeEdges(l).forEach(f)}return a}return Qc}var Jc,G0;function cP(){return G0||(G0=1,Jc={components:nP(),dijkstra:Rx(),dijkstraAll:iP(),findCycles:aP(),floydWarshall:oP(),isAcyclic:sP(),postorder:uP(),preorder:lP(),prim:fP(),tarjan:Fx(),topsort:zx()}),Jc}var eh,H0;function hP(){if(H0)return eh;H0=1;var t=tP();return eh={Graph:t.Graph,json:rP(),alg:cP(),version:t.version},eh}var th,U0;function _n(){if(U0)return th;U0=1;var t;if(typeof Gi=="function")try{t=hP()}catch{}return t||(t=window.graphlib),th=t,th}var rh,V0;function dP(){if(V0)return rh;V0=1;var t=cx(),e=1,r=4;function n(i){return t(i,e|r)}return rh=n,rh}var nh,W0;function yu(){if(W0)return nh;W0=1;var t=Ma,e=oi(),r=Zs,n=rn;function i(o,a,s){if(!n(s))return!1;var u=typeof a;return(u=="number"?e(s)&&r(a,s.length):u=="string"&&a in s)?t(s[a],o):!1}return nh=i,nh}var ih,Y0;function vP(){if(Y0)return ih;Y0=1;var t=mu(),e=Ma,r=yu(),n=ta(),i=Object.prototype,o=i.hasOwnProperty,a=t(function(s,u){s=Object(s);var l=-1,f=u.length,c=f>2?u[2]:void 0;for(c&&r(u[0],u[1],c)&&(f=1);++l<f;)for(var h=u[l],d=n(h),p=-1,g=d.length;++p<g;){var w=d[p],v=s[w];(v===void 0||e(v,i[w])&&!o.call(s,w))&&(s[w]=h[w])}return s});return ih=a,ih}var ah,X0;function pP(){if(X0)return ah;X0=1;var t=si(),e=oi(),r=Li();function n(i){return function(o,a,s){var u=Object(o);if(!e(o)){var l=t(a,3);o=r(o),a=function(c){return l(u[c],c,u)}}var f=i(o,a,s);return f>-1?u[l?o[f]:f]:void 0}}return ah=n,ah}var oh,j0;function qx(){if(j0)return oh;j0=1;var t=iw,e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var o=i<0?-1:1;return o*r}return i===i?i:0}return oh=n,oh}var sh,K0;function gP(){if(K0)return sh;K0=1;var t=qx();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return sh=e,sh}var uh,Z0;function mP(){if(Z0)return uh;Z0=1;var t=Ox(),e=si(),r=gP(),n=Math.max;function i(o,a,s){var u=o==null?0:o.length;if(!u)return-1;var l=s==null?0:r(s);return l<0&&(l=n(u+l,0)),t(o,e(a,3),l)}return uh=i,uh}var lh,Q0;function yP(){if(Q0)return lh;Q0=1;var t=pP(),e=mP(),r=t(e);return lh=r,lh}var fh,J0;function $x(){if(J0)return fh;J0=1;var t=Av();function e(r){var n=r==null?0:r.length;return n?t(r,1):[]}return fh=e,fh}var ch,eb;function bP(){if(eb)return ch;eb=1;var t=Sv(),e=hx(),r=ta();function n(i,o){return i==null?i:t(i,e(o),r)}return ch=n,ch}var hh,tb;function wP(){if(tb)return hh;tb=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return hh=t,hh}var dh,rb;function EP(){if(rb)return dh;rb=1;var t=js,e=Dv(),r=si();function n(i,o){var a={};return o=r(o,3),e(i,function(s,u,l){t(a,u,o(s,u,l))}),a}return dh=n,dh}var vh,nb;function Mv(){if(nb)return vh;nb=1;var t=Zi;function e(r,n,i){for(var o=-1,a=r.length;++o<a;){var s=r[o],u=n(s);if(u!=null&&(l===void 0?u===u&&!t(u):i(u,l)))var l=u,f=s}return f}return vh=e,vh}var ph,ib;function xP(){if(ib)return ph;ib=1;function t(e,r){return e>r}return ph=t,ph}var gh,ab;function _P(){if(ab)return gh;ab=1;var t=Mv(),e=xP(),r=ra();function n(i){return i&&i.length?t(i,r,e):void 0}return gh=n,gh}var mh,ob;function Gx(){if(ob)return mh;ob=1;var t=js,e=Ma;function r(n,i,o){(o!==void 0&&!e(n[i],o)||o===void 0&&!(i in n))&&t(n,i,o)}return mh=r,mh}var yh,sb;function CP(){if(sb)return yh;sb=1;var t=Ki,e=pu(),r=$n,n="[object Object]",i=Function.prototype,o=Object.prototype,a=i.toString,s=o.hasOwnProperty,u=a.call(Object);function l(f){if(!r(f)||t(f)!=n)return!1;var c=e(f);if(c===null)return!0;var h=s.call(c,"constructor")&&c.constructor;return typeof h=="function"&&h instanceof h&&a.call(h)==u}return yh=l,yh}var bh,ub;function Hx(){if(ub)return bh;ub=1;function t(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}return bh=t,bh}var wh,lb;function TP(){if(lb)return wh;lb=1;var t=Xo(),e=ta();function r(n){return t(n,e(n))}return wh=r,wh}var Eh,fb;function SP(){if(fb)return Eh;fb=1;var t=Gx(),e=ex(),r=ux(),n=jd,i=fx(),o=jo(),a=vr,s=Nx(),u=Ga(),l=Io,f=rn,c=CP(),h=Ko(),d=Hx(),p=TP();function g(w,v,m,y,E,T,C){var b=d(w,m),k=d(v,m),S=C.get(k);if(S){t(w,m,S);return}var O=T?T(b,k,m+"",w,v,C):void 0,N=O===void 0;if(N){var D=a(k),I=!D&&u(k),x=!D&&!I&&h(k);O=k,D||I||x?a(b)?O=b:s(b)?O=n(b):I?(N=!1,O=e(k,!0)):x?(N=!1,O=r(k,!0)):O=[]:c(k)||o(k)?(O=b,o(b)?O=p(b):(!f(b)||l(b))&&(O=i(k))):N=!1}N&&(C.set(k,O),E(O,k,y,T,C),C.delete(k)),t(w,m,O)}return Eh=g,Eh}var xh,cb;function DP(){if(cb)return xh;cb=1;var t=hu(),e=Gx(),r=Sv(),n=SP(),i=rn,o=ta(),a=Hx();function s(u,l,f,c,h){u!==l&&r(l,function(d,p){if(h||(h=new t),i(d))n(u,l,p,f,s,c,h);else{var g=c?c(a(u,p),d,p+"",u,l,h):void 0;g===void 0&&(g=d),e(u,p,g)}},o)}return xh=s,xh}var _h,hb;function kP(){if(hb)return _h;hb=1;var t=mu(),e=yu();function r(n){return t(function(i,o){var a=-1,s=o.length,u=s>1?o[s-1]:void 0,l=s>2?o[2]:void 0;for(u=n.length>3&&typeof u=="function"?(s--,u):void 0,l&&e(o[0],o[1],l)&&(u=s<3?void 0:u,s=1),i=Object(i);++a<s;){var f=o[a];f&&n(i,f,a,u)}return i})}return _h=r,_h}var Ch,db;function AP(){if(db)return Ch;db=1;var t=DP(),e=kP(),r=e(function(n,i,o){t(n,i,o)});return Ch=r,Ch}var Th,vb;function Ux(){if(vb)return Th;vb=1;function t(e,r){return e<r}return Th=t,Th}var Sh,pb;function LP(){if(pb)return Sh;pb=1;var t=Mv(),e=Ux(),r=ra();function n(i){return i&&i.length?t(i,r,e):void 0}return Sh=n,Sh}var Dh,gb;function MP(){if(gb)return Dh;gb=1;var t=Mv(),e=si(),r=Ux();function n(i,o){return i&&i.length?t(i,e(o,2),r):void 0}return Dh=n,Dh}var kh,mb;function OP(){if(mb)return kh;mb=1;var t=Xs,e=hw,r=Ys;function n(i,o,a){for(var s=-1,u=o.length,l={};++s<u;){var f=o[s],c=t(i,f);a(c,f)&&e(l,r(f,i),c)}return l}return kh=n,kh}var Ah,yb;function NP(){if(yb)return Ah;yb=1;var t=OP(),e=xx();function r(n,i){return t(n,i,function(o,a){return e(n,a)})}return Ah=r,Ah}var Lh,bb;function IP(){if(bb)return Lh;bb=1;var t=$x(),e=Lx(),r=Mx();function n(i){return r(e(i,void 0,t),i+"")}return Lh=n,Lh}var Mh,wb;function PP(){if(wb)return Mh;wb=1;var t=NP(),e=IP(),r=e(function(n,i){return n==null?{}:t(n,i)});return Mh=r,Mh}var Oh,Eb;function RP(){if(Eb)return Oh;Eb=1;var t=Math.ceil,e=Math.max;function r(n,i,o,a){for(var s=-1,u=e(t((i-n)/(o||1)),0),l=Array(u);u--;)l[a?u:++s]=n,n+=o;return l}return Oh=r,Oh}var Nh,xb;function FP(){if(xb)return Nh;xb=1;var t=RP(),e=yu(),r=qx();function n(i){return function(o,a,s){return s&&typeof s!="number"&&e(o,a,s)&&(a=s=void 0),o=r(o),a===void 0?(a=o,o=0):a=r(a),s=s===void 0?o<a?1:-1:r(s),t(o,a,s,i)}}return Nh=n,Nh}var Ih,_b;function zP(){if(_b)return Ih;_b=1;var t=FP(),e=t();return Ih=e,Ih}var Ph,Cb;function BP(){if(Cb)return Ph;Cb=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return Ph=t,Ph}var Rh,Tb;function qP(){if(Tb)return Rh;Tb=1;var t=Zi;function e(r,n){if(r!==n){var i=r!==void 0,o=r===null,a=r===r,s=t(r),u=n!==void 0,l=n===null,f=n===n,c=t(n);if(!l&&!c&&!s&&r>n||s&&u&&f&&!l&&!c||o&&u&&f||!i&&f||!a)return 1;if(!o&&!s&&!c&&r<n||c&&i&&a&&!o&&!s||l&&i&&a||!u&&a||!f)return-1}return 0}return Rh=e,Rh}var Fh,Sb;function $P(){if(Sb)return Fh;Sb=1;var t=qP();function e(r,n,i){for(var o=-1,a=r.criteria,s=n.criteria,u=a.length,l=i.length;++o<u;){var f=t(a[o],s[o]);if(f){if(o>=l)return f;var c=i[o];return f*(c=="desc"?-1:1)}}return r.index-n.index}return Fh=e,Fh}var zh,Db;function GP(){if(Db)return zh;Db=1;var t=Po,e=Xs,r=si(),n=Dx(),i=BP(),o=du(),a=$P(),s=ra(),u=vr;function l(f,c,h){c.length?c=t(c,function(g){return u(g)?function(w){return e(w,g.length===1?g[0]:g)}:g}):c=[s];var d=-1;c=t(c,o(r));var p=n(f,function(g,w,v){var m=t(c,function(y){return y(g)});return{criteria:m,index:++d,value:g}});return i(p,function(g,w){return a(g,w,h)})}return zh=l,zh}var Bh,kb;function HP(){if(kb)return Bh;kb=1;var t=Av(),e=GP(),r=mu(),n=yu(),i=r(function(o,a){if(o==null)return[];var s=a.length;return s>1&&n(o,a[0],a[1])?a=[]:s>2&&n(a[0],a[1],a[2])&&(a=[a[0]]),e(o,t(a,1),[])});return Bh=i,Bh}var qh,Ab;function UP(){if(Ab)return qh;Ab=1;var t=Xd,e=0;function r(n){var i=++e;return t(n)+i}return qh=r,qh}var $h,Lb;function VP(){if(Lb)return $h;Lb=1;function t(e,r,n){for(var i=-1,o=e.length,a=r.length,s={};++i<o;){var u=i<a?r[i]:void 0;n(s,e[i],u)}return s}return $h=t,$h}var Gh,Mb;function WP(){if(Mb)return Gh;Mb=1;var t=Ks,e=VP();function r(n,i){return e(n||[],i||[],t)}return Gh=r,Gh}var Hh,Ob;function or(){if(Ob)return Hh;Ob=1;var t;if(typeof Gi=="function")try{t={cloneDeep:dP(),constant:Tv(),defaults:vP(),each:vx(),filter:Cx(),find:yP(),flatten:$x(),forEach:dx(),forIn:bP(),has:Tx(),isUndefined:Sx(),last:wP(),map:kx(),mapValues:EP(),max:_P(),merge:AP(),min:LP(),minBy:MP(),now:rw,pick:PP(),range:zP(),reduce:Ax(),sortBy:HP(),uniqueId:UP(),values:Ix(),zipObject:WP()}}catch{}return t||(t=window._),Hh=t,Hh}var Uh,Nb;function YP(){if(Nb)return Uh;Nb=1,Uh=t;function t(){var n={};n._next=n._prev=n,this._sentinel=n}t.prototype.dequeue=function(){var n=this._sentinel,i=n._prev;if(i!==n)return e(i),i},t.prototype.enqueue=function(n){var i=this._sentinel;n._prev&&n._next&&e(n),n._next=i._next,i._next._prev=n,i._next=n,n._prev=i},t.prototype.toString=function(){for(var n=[],i=this._sentinel,o=i._prev;o!==i;)n.push(JSON.stringify(o,r)),o=o._prev;return"["+n.join(", ")+"]"};function e(n){n._prev._next=n._next,n._next._prev=n._prev,delete n._next,delete n._prev}function r(n,i){if(n!=="_next"&&n!=="_prev")return i}return Uh}var Vh,Ib;function XP(){if(Ib)return Vh;Ib=1;var t=or(),e=_n().Graph,r=YP();Vh=i;var n=t.constant(1);function i(l,f){if(l.nodeCount()<=1)return[];var c=s(l,f||n),h=o(c.graph,c.buckets,c.zeroIdx);return t.flatten(t.map(h,function(d){return l.outEdges(d.v,d.w)}),!0)}function o(l,f,c){for(var h=[],d=f[f.length-1],p=f[0],g;l.nodeCount();){for(;g=p.dequeue();)a(l,f,c,g);for(;g=d.dequeue();)a(l,f,c,g);if(l.nodeCount()){for(var w=f.length-2;w>0;--w)if(g=f[w].dequeue(),g){h=h.concat(a(l,f,c,g,!0));break}}}return h}function a(l,f,c,h,d){var p=d?[]:void 0;return t.forEach(l.inEdges(h.v),function(g){var w=l.edge(g),v=l.node(g.v);d&&p.push({v:g.v,w:g.w}),v.out-=w,u(f,c,v)}),t.forEach(l.outEdges(h.v),function(g){var w=l.edge(g),v=g.w,m=l.node(v);m.in-=w,u(f,c,m)}),l.removeNode(h.v),p}function s(l,f){var c=new e,h=0,d=0;t.forEach(l.nodes(),function(w){c.setNode(w,{v:w,in:0,out:0})}),t.forEach(l.edges(),function(w){var v=c.edge(w.v,w.w)||0,m=f(w),y=v+m;c.setEdge(w.v,w.w,y),d=Math.max(d,c.node(w.v).out+=m),h=Math.max(h,c.node(w.w).in+=m)});var p=t.range(d+h+3).map(function(){return new r}),g=h+1;return t.forEach(c.nodes(),function(w){u(p,g,c.node(w))}),{graph:c,buckets:p,zeroIdx:g}}function u(l,f,c){c.out?c.in?l[c.out-c.in+f].enqueue(c):l[l.length-1].enqueue(c):l[0].enqueue(c)}return Vh}var Wh,Pb;function jP(){if(Pb)return Wh;Pb=1;var t=or(),e=XP();Wh={run:r,undo:i};function r(o){var a=o.graph().acyclicer==="greedy"?e(o,s(o)):n(o);t.forEach(a,function(u){var l=o.edge(u);o.removeEdge(u),l.forwardName=u.name,l.reversed=!0,o.setEdge(u.w,u.v,l,t.uniqueId("rev"))});function s(u){return function(l){return u.edge(l).weight}}}function n(o){var a=[],s={},u={};function l(f){t.has(u,f)||(u[f]=!0,s[f]=!0,t.forEach(o.outEdges(f),function(c){t.has(s,c.w)?a.push(c):l(c.w)}),delete s[f])}return t.forEach(o.nodes(),l),a}function i(o){t.forEach(o.edges(),function(a){var s=o.edge(a);if(s.reversed){o.removeEdge(a);var u=s.forwardName;delete s.reversed,delete s.forwardName,o.setEdge(a.w,a.v,s,u)}})}return Wh}var Yh,Rb;function Jr(){if(Rb)return Yh;Rb=1;var t=or(),e=_n().Graph;Yh={addDummyNode:r,simplify:n,asNonCompoundGraph:i,successorWeights:o,predecessorWeights:a,intersectRect:s,buildLayerMatrix:u,normalizeRanks:l,removeEmptyRanks:f,addBorderNode:c,maxRank:h,partition:d,time:p,notime:g};function r(w,v,m,y){var E;do E=t.uniqueId(y);while(w.hasNode(E));return m.dummy=v,w.setNode(E,m),E}function n(w){var v=new e().setGraph(w.graph());return t.forEach(w.nodes(),function(m){v.setNode(m,w.node(m))}),t.forEach(w.edges(),function(m){var y=v.edge(m.v,m.w)||{weight:0,minlen:1},E=w.edge(m);v.setEdge(m.v,m.w,{weight:y.weight+E.weight,minlen:Math.max(y.minlen,E.minlen)})}),v}function i(w){var v=new e({multigraph:w.isMultigraph()}).setGraph(w.graph());return t.forEach(w.nodes(),function(m){w.children(m).length||v.setNode(m,w.node(m))}),t.forEach(w.edges(),function(m){v.setEdge(m,w.edge(m))}),v}function o(w){var v=t.map(w.nodes(),function(m){var y={};return t.forEach(w.outEdges(m),function(E){y[E.w]=(y[E.w]||0)+w.edge(E).weight}),y});return t.zipObject(w.nodes(),v)}function a(w){var v=t.map(w.nodes(),function(m){var y={};return t.forEach(w.inEdges(m),function(E){y[E.v]=(y[E.v]||0)+w.edge(E).weight}),y});return t.zipObject(w.nodes(),v)}function s(w,v){var m=w.x,y=w.y,E=v.x-m,T=v.y-y,C=w.width/2,b=w.height/2;if(!E&&!T)throw new Error("Not possible to find intersection inside of the rectangle");var k,S;return Math.abs(T)*C>Math.abs(E)*b?(T<0&&(b=-b),k=b*E/T,S=b):(E<0&&(C=-C),k=C,S=C*T/E),{x:m+k,y:y+S}}function u(w){var v=t.map(t.range(h(w)+1),function(){return[]});return t.forEach(w.nodes(),function(m){var y=w.node(m),E=y.rank;t.isUndefined(E)||(v[E][y.order]=m)}),v}function l(w){var v=t.min(t.map(w.nodes(),function(m){return w.node(m).rank}));t.forEach(w.nodes(),function(m){var y=w.node(m);t.has(y,"rank")&&(y.rank-=v)})}function f(w){var v=t.min(t.map(w.nodes(),function(T){return w.node(T).rank})),m=[];t.forEach(w.nodes(),function(T){var C=w.node(T).rank-v;m[C]||(m[C]=[]),m[C].push(T)});var y=0,E=w.graph().nodeRankFactor;t.forEach(m,function(T,C){t.isUndefined(T)&&C%E!==0?--y:y&&t.forEach(T,function(b){w.node(b).rank+=y})})}function c(w,v,m,y){var E={width:0,height:0};return arguments.length>=4&&(E.rank=m,E.order=y),r(w,"border",E,v)}function h(w){return t.max(t.map(w.nodes(),function(v){var m=w.node(v).rank;if(!t.isUndefined(m))return m}))}function d(w,v){var m={lhs:[],rhs:[]};return t.forEach(w,function(y){v(y)?m.lhs.push(y):m.rhs.push(y)}),m}function p(w,v){var m=t.now();try{return v()}finally{console.log(w+" time: "+(t.now()-m)+"ms")}}function g(w,v){return v()}return Yh}var Xh,Fb;function KP(){if(Fb)return Xh;Fb=1;var t=or(),e=Jr();Xh={run:r,undo:i};function r(o){o.graph().dummyChains=[],t.forEach(o.edges(),function(a){n(o,a)})}function n(o,a){var s=a.v,u=o.node(s).rank,l=a.w,f=o.node(l).rank,c=a.name,h=o.edge(a),d=h.labelRank;if(f!==u+1){o.removeEdge(a);var p,g,w;for(w=0,++u;u<f;++w,++u)h.points=[],g={width:0,height:0,edgeLabel:h,edgeObj:a,rank:u},p=e.addDummyNode(o,"edge",g,"_d"),u===d&&(g.width=h.width,g.height=h.height,g.dummy="edge-label",g.labelpos=h.labelpos),o.setEdge(s,p,{weight:h.weight},c),w===0&&o.graph().dummyChains.push(p),s=p;o.setEdge(s,l,{weight:h.weight},c)}}function i(o){t.forEach(o.graph().dummyChains,function(a){var s=o.node(a),u=s.edgeLabel,l;for(o.setEdge(s.edgeObj,u);s.dummy;)l=o.successors(a)[0],o.removeNode(a),u.points.push({x:s.x,y:s.y}),s.dummy==="edge-label"&&(u.x=s.x,u.y=s.y,u.width=s.width,u.height=s.height),a=l,s=o.node(a)})}return Xh}var jh,zb;function $s(){if(zb)return jh;zb=1;var t=or();jh={longestPath:e,slack:r};function e(n){var i={};function o(a){var s=n.node(a);if(t.has(i,a))return s.rank;i[a]=!0;var u=t.min(t.map(n.outEdges(a),function(l){return o(l.w)-n.edge(l).minlen}));return(u===Number.POSITIVE_INFINITY||u===void 0||u===null)&&(u=0),s.rank=u}t.forEach(n.sources(),o)}function r(n,i){return n.node(i.w).rank-n.node(i.v).rank-n.edge(i).minlen}return jh}var Kh,Bb;function Vx(){if(Bb)return Kh;Bb=1;var t=or(),e=_n().Graph,r=$s().slack;Kh=n;function n(s){var u=new e({directed:!1}),l=s.nodes()[0],f=s.nodeCount();u.setNode(l,{});for(var c,h;i(u,s)<f;)c=o(u,s),h=u.hasNode(c.v)?r(s,c):-r(s,c),a(u,s,h);return u}function i(s,u){function l(f){t.forEach(u.nodeEdges(f),function(c){var h=c.v,d=f===h?c.w:h;!s.hasNode(d)&&!r(u,c)&&(s.setNode(d,{}),s.setEdge(f,d,{}),l(d))})}return t.forEach(s.nodes(),l),s.nodeCount()}function o(s,u){return t.minBy(u.edges(),function(l){if(s.hasNode(l.v)!==s.hasNode(l.w))return r(u,l)})}function a(s,u,l){t.forEach(s.nodes(),function(f){u.node(f).rank+=l})}return Kh}var Zh,qb;function ZP(){if(qb)return Zh;qb=1;var t=or(),e=Vx(),r=$s().slack,n=$s().longestPath,i=_n().alg.preorder,o=_n().alg.postorder,a=Jr().simplify;Zh=s,s.initLowLimValues=c,s.initCutValues=u,s.calcCutValue=f,s.leaveEdge=d,s.enterEdge=p,s.exchangeEdges=g;function s(y){y=a(y),n(y);var E=e(y);c(E),u(E,y);for(var T,C;T=d(E);)C=p(E,y,T),g(E,y,T,C)}function u(y,E){var T=o(y,y.nodes());T=T.slice(0,T.length-1),t.forEach(T,function(C){l(y,E,C)})}function l(y,E,T){var C=y.node(T),b=C.parent;y.edge(T,b).cutvalue=f(y,E,T)}function f(y,E,T){var C=y.node(T),b=C.parent,k=!0,S=E.edge(T,b),O=0;return S||(k=!1,S=E.edge(b,T)),O=S.weight,t.forEach(E.nodeEdges(T),function(N){var D=N.v===T,I=D?N.w:N.v;if(I!==b){var x=D===k,P=E.edge(N).weight;if(O+=x?P:-P,v(y,T,I)){var L=y.edge(T,I).cutvalue;O+=x?-L:L}}}),O}function c(y,E){arguments.length<2&&(E=y.nodes()[0]),h(y,{},1,E)}function h(y,E,T,C,b){var k=T,S=y.node(C);return E[C]=!0,t.forEach(y.neighbors(C),function(O){t.has(E,O)||(T=h(y,E,T,O,C))}),S.low=k,S.lim=T++,b?S.parent=b:delete S.parent,T}function d(y){return t.find(y.edges(),function(E){return y.edge(E).cutvalue<0})}function p(y,E,T){var C=T.v,b=T.w;E.hasEdge(C,b)||(C=T.w,b=T.v);var k=y.node(C),S=y.node(b),O=k,N=!1;k.lim>S.lim&&(O=S,N=!0);var D=t.filter(E.edges(),function(I){return N===m(y,y.node(I.v),O)&&N!==m(y,y.node(I.w),O)});return t.minBy(D,function(I){return r(E,I)})}function g(y,E,T,C){var b=T.v,k=T.w;y.removeEdge(b,k),y.setEdge(C.v,C.w,{}),c(y),u(y,E),w(y,E)}function w(y,E){var T=t.find(y.nodes(),function(b){return!E.node(b).parent}),C=i(y,T);C=C.slice(1),t.forEach(C,function(b){var k=y.node(b).parent,S=E.edge(b,k),O=!1;S||(S=E.edge(k,b),O=!0),E.node(b).rank=E.node(k).rank+(O?S.minlen:-S.minlen)})}function v(y,E,T){return y.hasEdge(E,T)}function m(y,E,T){return T.low<=E.lim&&E.lim<=T.lim}return Zh}var Qh,$b;function QP(){if($b)return Qh;$b=1;var t=$s(),e=t.longestPath,r=Vx(),n=ZP();Qh=i;function i(u){switch(u.graph().ranker){case"network-simplex":s(u);break;case"tight-tree":a(u);break;case"longest-path":o(u);break;default:s(u)}}var o=e;function a(u){e(u),r(u)}function s(u){n(u)}return Qh}var Jh,Gb;function JP(){if(Gb)return Jh;Gb=1;var t=or();Jh=e;function e(i){var o=n(i);t.forEach(i.graph().dummyChains,function(a){for(var s=i.node(a),u=s.edgeObj,l=r(i,o,u.v,u.w),f=l.path,c=l.lca,h=0,d=f[h],p=!0;a!==u.w;){if(s=i.node(a),p){for(;(d=f[h])!==c&&i.node(d).maxRank<s.rank;)h++;d===c&&(p=!1)}if(!p){for(;h<f.length-1&&i.node(d=f[h+1]).minRank<=s.rank;)h++;d=f[h]}i.setParent(a,d),a=i.successors(a)[0]}})}function r(i,o,a,s){var u=[],l=[],f=Math.min(o[a].low,o[s].low),c=Math.max(o[a].lim,o[s].lim),h,d;h=a;do h=i.parent(h),u.push(h);while(h&&(o[h].low>f||c>o[h].lim));for(d=h,h=s;(h=i.parent(h))!==d;)l.push(h);return{path:u.concat(l.reverse()),lca:d}}function n(i){var o={},a=0;function s(u){var l=a;t.forEach(i.children(u),s),o[u]={low:l,lim:a++}}return t.forEach(i.children(),s),o}return Jh}var ed,Hb;function eR(){if(Hb)return ed;Hb=1;var t=or(),e=Jr();ed={run:r,cleanup:a};function r(s){var u=e.addDummyNode(s,"root",{},"_root"),l=i(s),f=t.max(t.values(l))-1,c=2*f+1;s.graph().nestingRoot=u,t.forEach(s.edges(),function(d){s.edge(d).minlen*=c});var h=o(s)+1;t.forEach(s.children(),function(d){n(s,u,c,h,f,l,d)}),s.graph().nodeRankFactor=c}function n(s,u,l,f,c,h,d){var p=s.children(d);if(!p.length){d!==u&&s.setEdge(u,d,{weight:0,minlen:l});return}var g=e.addBorderNode(s,"_bt"),w=e.addBorderNode(s,"_bb"),v=s.node(d);s.setParent(g,d),v.borderTop=g,s.setParent(w,d),v.borderBottom=w,t.forEach(p,function(m){n(s,u,l,f,c,h,m);var y=s.node(m),E=y.borderTop?y.borderTop:m,T=y.borderBottom?y.borderBottom:m,C=y.borderTop?f:2*f,b=E!==T?1:c-h[d]+1;s.setEdge(g,E,{weight:C,minlen:b,nestingEdge:!0}),s.setEdge(T,w,{weight:C,minlen:b,nestingEdge:!0})}),s.parent(d)||s.setEdge(u,g,{weight:0,minlen:c+h[d]})}function i(s){var u={};function l(f,c){var h=s.children(f);h&&h.length&&t.forEach(h,function(d){l(d,c+1)}),u[f]=c}return t.forEach(s.children(),function(f){l(f,1)}),u}function o(s){return t.reduce(s.edges(),function(u,l){return u+s.edge(l).weight},0)}function a(s){var u=s.graph();s.removeNode(u.nestingRoot),delete u.nestingRoot,t.forEach(s.edges(),function(l){var f=s.edge(l);f.nestingEdge&&s.removeEdge(l)})}return ed}var td,Ub;function tR(){if(Ub)return td;Ub=1;var t=or(),e=Jr();td=r;function r(i){function o(a){var s=i.children(a),u=i.node(a);if(s.length&&t.forEach(s,o),t.has(u,"minRank")){u.borderLeft=[],u.borderRight=[];for(var l=u.minRank,f=u.maxRank+1;l<f;++l)n(i,"borderLeft","_bl",a,u,l),n(i,"borderRight","_br",a,u,l)}}t.forEach(i.children(),o)}function n(i,o,a,s,u,l){var f={width:0,height:0,rank:l,borderType:o},c=u[o][l-1],h=e.addDummyNode(i,"border",f,a);u[o][l]=h,i.setParent(h,s),c&&i.setEdge(c,h,{weight:1})}return td}var rd,Vb;function rR(){if(Vb)return rd;Vb=1;var t=or();rd={adjust:e,undo:r};function e(l){var f=l.graph().rankdir.toLowerCase();(f==="lr"||f==="rl")&&n(l)}function r(l){var f=l.graph().rankdir.toLowerCase();(f==="bt"||f==="rl")&&o(l),(f==="lr"||f==="rl")&&(s(l),n(l))}function n(l){t.forEach(l.nodes(),function(f){i(l.node(f))}),t.forEach(l.edges(),function(f){i(l.edge(f))})}function i(l){var f=l.width;l.width=l.height,l.height=f}function o(l){t.forEach(l.nodes(),function(f){a(l.node(f))}),t.forEach(l.edges(),function(f){var c=l.edge(f);t.forEach(c.points,a),t.has(c,"y")&&a(c)})}function a(l){l.y=-l.y}function s(l){t.forEach(l.nodes(),function(f){u(l.node(f))}),t.forEach(l.edges(),function(f){var c=l.edge(f);t.forEach(c.points,u),t.has(c,"x")&&u(c)})}function u(l){var f=l.x;l.x=l.y,l.y=f}return rd}var nd,Wb;function nR(){if(Wb)return nd;Wb=1;var t=or();nd=e;function e(r){var n={},i=t.filter(r.nodes(),function(l){return!r.children(l).length}),o=t.max(t.map(i,function(l){return r.node(l).rank})),a=t.map(t.range(o+1),function(){return[]});function s(l){if(!t.has(n,l)){n[l]=!0;var f=r.node(l);a[f.rank].push(l),t.forEach(r.successors(l),s)}}var u=t.sortBy(i,function(l){return r.node(l).rank});return t.forEach(u,s),a}return nd}var id,Yb;function iR(){if(Yb)return id;Yb=1;var t=or();id=e;function e(n,i){for(var o=0,a=1;a<i.length;++a)o+=r(n,i[a-1],i[a]);return o}function r(n,i,o){for(var a=t.zipObject(o,t.map(o,function(h,d){return d})),s=t.flatten(t.map(i,function(h){return t.sortBy(t.map(n.outEdges(h),function(d){return{pos:a[d.w],weight:n.edge(d).weight}}),"pos")}),!0),u=1;u<o.length;)u<<=1;var l=2*u-1;u-=1;var f=t.map(new Array(l),function(){return 0}),c=0;return t.forEach(s.forEach(function(h){var d=h.pos+u;f[d]+=h.weight;for(var p=0;d>0;)d%2&&(p+=f[d+1]),d=d-1>>1,f[d]+=h.weight;c+=h.weight*p})),c}return id}var ad,Xb;function aR(){if(Xb)return ad;Xb=1;var t=or();ad=e;function e(r,n){return t.map(n,function(i){var o=r.inEdges(i);if(o.length){var a=t.reduce(o,function(s,u){var l=r.edge(u),f=r.node(u.v);return{sum:s.sum+l.weight*f.order,weight:s.weight+l.weight}},{sum:0,weight:0});return{v:i,barycenter:a.sum/a.weight,weight:a.weight}}else return{v:i}})}return ad}var od,jb;function oR(){if(jb)return od;jb=1;var t=or();od=e;function e(i,o){var a={};t.forEach(i,function(u,l){var f=a[u.v]={indegree:0,in:[],out:[],vs:[u.v],i:l};t.isUndefined(u.barycenter)||(f.barycenter=u.barycenter,f.weight=u.weight)}),t.forEach(o.edges(),function(u){var l=a[u.v],f=a[u.w];!t.isUndefined(l)&&!t.isUndefined(f)&&(f.indegree++,l.out.push(a[u.w]))});var s=t.filter(a,function(u){return!u.indegree});return r(s)}function r(i){var o=[];function a(l){return function(f){f.merged||(t.isUndefined(f.barycenter)||t.isUndefined(l.barycenter)||f.barycenter>=l.barycenter)&&n(l,f)}}function s(l){return function(f){f.in.push(l),--f.indegree===0&&i.push(f)}}for(;i.length;){var u=i.pop();o.push(u),t.forEach(u.in.reverse(),a(u)),t.forEach(u.out,s(u))}return t.map(t.filter(o,function(l){return!l.merged}),function(l){return t.pick(l,["vs","i","barycenter","weight"])})}function n(i,o){var a=0,s=0;i.weight&&(a+=i.barycenter*i.weight,s+=i.weight),o.weight&&(a+=o.barycenter*o.weight,s+=o.weight),i.vs=o.vs.concat(i.vs),i.barycenter=a/s,i.weight=s,i.i=Math.min(o.i,i.i),o.merged=!0}return od}var sd,Kb;function sR(){if(Kb)return sd;Kb=1;var t=or(),e=Jr();sd=r;function r(o,a){var s=e.partition(o,function(g){return t.has(g,"barycenter")}),u=s.lhs,l=t.sortBy(s.rhs,function(g){return-g.i}),f=[],c=0,h=0,d=0;u.sort(i(!!a)),d=n(f,l,d),t.forEach(u,function(g){d+=g.vs.length,f.push(g.vs),c+=g.barycenter*g.weight,h+=g.weight,d=n(f,l,d)});var p={vs:t.flatten(f,!0)};return h&&(p.barycenter=c/h,p.weight=h),p}function n(o,a,s){for(var u;a.length&&(u=t.last(a)).i<=s;)a.pop(),o.push(u.vs),s++;return s}function i(o){return function(a,s){return a.barycenter<s.barycenter?-1:a.barycenter>s.barycenter?1:o?s.i-a.i:a.i-s.i}}return sd}var ud,Zb;function uR(){if(Zb)return ud;Zb=1;var t=or(),e=aR(),r=oR(),n=sR();ud=i;function i(s,u,l,f){var c=s.children(u),h=s.node(u),d=h?h.borderLeft:void 0,p=h?h.borderRight:void 0,g={};d&&(c=t.filter(c,function(T){return T!==d&&T!==p}));var w=e(s,c);t.forEach(w,function(T){if(s.children(T.v).length){var C=i(s,T.v,l,f);g[T.v]=C,t.has(C,"barycenter")&&a(T,C)}});var v=r(w,l);o(v,g);var m=n(v,f);if(d&&(m.vs=t.flatten([d,m.vs,p],!0),s.predecessors(d).length)){var y=s.node(s.predecessors(d)[0]),E=s.node(s.predecessors(p)[0]);t.has(m,"barycenter")||(m.barycenter=0,m.weight=0),m.barycenter=(m.barycenter*m.weight+y.order+E.order)/(m.weight+2),m.weight+=2}return m}function o(s,u){t.forEach(s,function(l){l.vs=t.flatten(l.vs.map(function(f){return u[f]?u[f].vs:f}),!0)})}function a(s,u){t.isUndefined(s.barycenter)?(s.barycenter=u.barycenter,s.weight=u.weight):(s.barycenter=(s.barycenter*s.weight+u.barycenter*u.weight)/(s.weight+u.weight),s.weight+=u.weight)}return ud}var ld,Qb;function lR(){if(Qb)return ld;Qb=1;var t=or(),e=_n().Graph;ld=r;function r(i,o,a){var s=n(i),u=new e({compound:!0}).setGraph({root:s}).setDefaultNodeLabel(function(l){return i.node(l)});return t.forEach(i.nodes(),function(l){var f=i.node(l),c=i.parent(l);(f.rank===o||f.minRank<=o&&o<=f.maxRank)&&(u.setNode(l),u.setParent(l,c||s),t.forEach(i[a](l),function(h){var d=h.v===l?h.w:h.v,p=u.edge(d,l),g=t.isUndefined(p)?0:p.weight;u.setEdge(d,l,{weight:i.edge(h).weight+g})}),t.has(f,"minRank")&&u.setNode(l,{borderLeft:f.borderLeft[o],borderRight:f.borderRight[o]}))}),u}function n(i){for(var o;i.hasNode(o=t.uniqueId("_root")););return o}return ld}var fd,Jb;function fR(){if(Jb)return fd;Jb=1;var t=or();fd=e;function e(r,n,i){var o={},a;t.forEach(i,function(s){for(var u=r.parent(s),l,f;u;){if(l=r.parent(u),l?(f=o[l],o[l]=u):(f=a,a=u),f&&f!==u){n.setEdge(f,u);return}u=l}})}return fd}var cd,e1;function cR(){if(e1)return cd;e1=1;var t=or(),e=nR(),r=iR(),n=uR(),i=lR(),o=fR(),a=_n().Graph,s=Jr();cd=u;function u(h){var d=s.maxRank(h),p=l(h,t.range(1,d+1),"inEdges"),g=l(h,t.range(d-1,-1,-1),"outEdges"),w=e(h);c(h,w);for(var v=Number.POSITIVE_INFINITY,m,y=0,E=0;E<4;++y,++E){f(y%2?p:g,y%4>=2),w=s.buildLayerMatrix(h);var T=r(h,w);T<v&&(E=0,m=t.cloneDeep(w),v=T)}c(h,m)}function l(h,d,p){return t.map(d,function(g){return i(h,g,p)})}function f(h,d){var p=new a;t.forEach(h,function(g){var w=g.graph().root,v=n(g,w,p,d);t.forEach(v.vs,function(m,y){g.node(m).order=y}),o(g,p,v.vs)})}function c(h,d){t.forEach(d,function(p){t.forEach(p,function(g,w){h.node(g).order=w})})}return cd}var hd,t1;function hR(){if(t1)return hd;t1=1;var t=or(),e=_n().Graph,r=Jr();hd={positionX:p,findType1Conflicts:n,findType2Conflicts:i,addConflict:a,hasConflict:s,verticalAlignment:u,horizontalCompaction:l,alignCoordinates:h,findSmallestWidthAlignment:c,balance:d};function n(v,m){var y={};function E(T,C){var b=0,k=0,S=T.length,O=t.last(C);return t.forEach(C,function(N,D){var I=o(v,N),x=I?v.node(I).order:S;(I||N===O)&&(t.forEach(C.slice(k,D+1),function(P){t.forEach(v.predecessors(P),function(L){var M=v.node(L),R=M.order;(R<b||x<R)&&!(M.dummy&&v.node(P).dummy)&&a(y,L,P)})}),k=D+1,b=x)}),C}return t.reduce(m,E),y}function i(v,m){var y={};function E(C,b,k,S,O){var N;t.forEach(t.range(b,k),function(D){N=C[D],v.node(N).dummy&&t.forEach(v.predecessors(N),function(I){var x=v.node(I);x.dummy&&(x.order<S||x.order>O)&&a(y,I,N)})})}function T(C,b){var k=-1,S,O=0;return t.forEach(b,function(N,D){if(v.node(N).dummy==="border"){var I=v.predecessors(N);I.length&&(S=v.node(I[0]).order,E(b,O,D,k,S),O=D,k=S)}E(b,O,b.length,S,C.length)}),b}return t.reduce(m,T),y}function o(v,m){if(v.node(m).dummy)return t.find(v.predecessors(m),function(y){return v.node(y).dummy})}function a(v,m,y){if(m>y){var E=m;m=y,y=E}var T=v[m];T||(v[m]=T={}),T[y]=!0}function s(v,m,y){if(m>y){var E=m;m=y,y=E}return t.has(v[m],y)}function u(v,m,y,E){var T={},C={},b={};return t.forEach(m,function(k){t.forEach(k,function(S,O){T[S]=S,C[S]=S,b[S]=O})}),t.forEach(m,function(k){var S=-1;t.forEach(k,function(O){var N=E(O);if(N.length){N=t.sortBy(N,function(L){return b[L]});for(var D=(N.length-1)/2,I=Math.floor(D),x=Math.ceil(D);I<=x;++I){var P=N[I];C[O]===O&&S<b[P]&&!s(y,O,P)&&(C[P]=O,C[O]=T[O]=T[P],S=b[P])}}})}),{root:T,align:C}}function l(v,m,y,E,T){var C={},b=f(v,m,y,T),k=T?"borderLeft":"borderRight";function S(D,I){for(var x=b.nodes(),P=x.pop(),L={};P;)L[P]?D(P):(L[P]=!0,x.push(P),x=x.concat(I(P))),P=x.pop()}function O(D){C[D]=b.inEdges(D).reduce(function(I,x){return Math.max(I,C[x.v]+b.edge(x))},0)}function N(D){var I=b.outEdges(D).reduce(function(P,L){return Math.min(P,C[L.w]-b.edge(L))},Number.POSITIVE_INFINITY),x=v.node(D);I!==Number.POSITIVE_INFINITY&&x.borderType!==k&&(C[D]=Math.max(C[D],I))}return S(O,b.predecessors.bind(b)),S(N,b.successors.bind(b)),t.forEach(E,function(D){C[D]=C[y[D]]}),C}function f(v,m,y,E){var T=new e,C=v.graph(),b=g(C.nodesep,C.edgesep,E);return t.forEach(m,function(k){var S;t.forEach(k,function(O){var N=y[O];if(T.setNode(N),S){var D=y[S],I=T.edge(D,N);T.setEdge(D,N,Math.max(b(v,O,S),I||0))}S=O})}),T}function c(v,m){return t.minBy(t.values(m),function(y){var E=Number.NEGATIVE_INFINITY,T=Number.POSITIVE_INFINITY;return t.forIn(y,function(C,b){var k=w(v,b)/2;E=Math.max(C+k,E),T=Math.min(C-k,T)}),E-T})}function h(v,m){var y=t.values(m),E=t.min(y),T=t.max(y);t.forEach(["u","d"],function(C){t.forEach(["l","r"],function(b){var k=C+b,S=v[k],O;if(S!==m){var N=t.values(S);O=b==="l"?E-t.min(N):T-t.max(N),O&&(v[k]=t.mapValues(S,function(D){return D+O}))}})})}function d(v,m){return t.mapValues(v.ul,function(y,E){if(m)return v[m.toLowerCase()][E];var T=t.sortBy(t.map(v,E));return(T[1]+T[2])/2})}function p(v){var m=r.buildLayerMatrix(v),y=t.merge(n(v,m),i(v,m)),E={},T;t.forEach(["u","d"],function(b){T=b==="u"?m:t.values(m).reverse(),t.forEach(["l","r"],function(k){k==="r"&&(T=t.map(T,function(D){return t.values(D).reverse()}));var S=(b==="u"?v.predecessors:v.successors).bind(v),O=u(v,T,y,S),N=l(v,T,O.root,O.align,k==="r");k==="r"&&(N=t.mapValues(N,function(D){return-D})),E[b+k]=N})});var C=c(v,E);return h(E,C),d(E,v.graph().align)}function g(v,m,y){return function(E,T,C){var b=E.node(T),k=E.node(C),S=0,O;if(S+=b.width/2,t.has(b,"labelpos"))switch(b.labelpos.toLowerCase()){case"l":O=-b.width/2;break;case"r":O=b.width/2;break}if(O&&(S+=y?O:-O),O=0,S+=(b.dummy?m:v)/2,S+=(k.dummy?m:v)/2,S+=k.width/2,t.has(k,"labelpos"))switch(k.labelpos.toLowerCase()){case"l":O=k.width/2;break;case"r":O=-k.width/2;break}return O&&(S+=y?O:-O),O=0,S}}function w(v,m){return v.node(m).width}return hd}var dd,r1;function dR(){if(r1)return dd;r1=1;var t=or(),e=Jr(),r=hR().positionX;dd=n;function n(o){o=e.asNonCompoundGraph(o),i(o),t.forEach(r(o),function(a,s){o.node(s).x=a})}function i(o){var a=e.buildLayerMatrix(o),s=o.graph().ranksep,u=0;t.forEach(a,function(l){var f=t.max(t.map(l,function(c){return o.node(c).height}));t.forEach(l,function(c){o.node(c).y=u+f/2}),u+=f+s})}return dd}var vd,n1;function vR(){if(n1)return vd;n1=1;var t=or(),e=jP(),r=KP(),n=QP(),i=Jr().normalizeRanks,o=JP(),a=Jr().removeEmptyRanks,s=eR(),u=tR(),l=rR(),f=cR(),c=dR(),h=Jr(),d=_n().Graph;vd=p;function p(B,H){var j=H&&H.debugTiming?h.time:h.notime;j("layout",function(){var K=j("  buildLayoutGraph",function(){return S(B)});j("  runLayout",function(){g(K,j)}),j("  updateInputGraph",function(){w(B,K)})})}function g(B,H){H("    makeSpaceForEdgeLabels",function(){O(B)}),H("    removeSelfEdges",function(){V(B)}),H("    acyclic",function(){e.run(B)}),H("    nestingGraph.run",function(){s.run(B)}),H("    rank",function(){n(h.asNonCompoundGraph(B))}),H("    injectEdgeLabelProxies",function(){N(B)}),H("    removeEmptyRanks",function(){a(B)}),H("    nestingGraph.cleanup",function(){s.cleanup(B)}),H("    normalizeRanks",function(){i(B)}),H("    assignRankMinMax",function(){D(B)}),H("    removeEdgeLabelProxies",function(){I(B)}),H("    normalize.run",function(){r.run(B)}),H("    parentDummyChains",function(){o(B)}),H("    addBorderSegments",function(){u(B)}),H("    order",function(){f(B)}),H("    insertSelfEdges",function(){U(B)}),H("    adjustCoordinateSystem",function(){l.adjust(B)}),H("    position",function(){c(B)}),H("    positionSelfEdges",function(){q(B)}),H("    removeBorderNodes",function(){R(B)}),H("    normalize.undo",function(){r.undo(B)}),H("    fixupEdgeLabelCoords",function(){L(B)}),H("    undoCoordinateSystem",function(){l.undo(B)}),H("    translateGraph",function(){x(B)}),H("    assignNodeIntersects",function(){P(B)}),H("    reversePoints",function(){M(B)}),H("    acyclic.undo",function(){e.undo(B)})}function w(B,H){t.forEach(B.nodes(),function(j){var K=B.node(j),te=H.node(j);K&&(K.x=te.x,K.y=te.y,H.children(j).length&&(K.width=te.width,K.height=te.height))}),t.forEach(B.edges(),function(j){var K=B.edge(j),te=H.edge(j);K.points=te.points,t.has(te,"x")&&(K.x=te.x,K.y=te.y)}),B.graph().width=H.graph().width,B.graph().height=H.graph().height}var v=["nodesep","edgesep","ranksep","marginx","marginy"],m={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},y=["acyclicer","ranker","rankdir","align"],E=["width","height"],T={width:0,height:0},C=["minlen","weight","width","height","labeloffset"],b={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},k=["labelpos"];function S(B){var H=new d({multigraph:!0,compound:!0}),j=X(B.graph());return H.setGraph(t.merge({},m,$(j,v),t.pick(j,y))),t.forEach(B.nodes(),function(K){var te=X(B.node(K));H.setNode(K,t.defaults($(te,E),T)),H.setParent(K,B.parent(K))}),t.forEach(B.edges(),function(K){var te=X(B.edge(K));H.setEdge(K,t.merge({},b,$(te,C),t.pick(te,k)))}),H}function O(B){var H=B.graph();H.ranksep/=2,t.forEach(B.edges(),function(j){var K=B.edge(j);K.minlen*=2,K.labelpos.toLowerCase()!=="c"&&(H.rankdir==="TB"||H.rankdir==="BT"?K.width+=K.labeloffset:K.height+=K.labeloffset)})}function N(B){t.forEach(B.edges(),function(H){var j=B.edge(H);if(j.width&&j.height){var K=B.node(H.v),te=B.node(H.w),re={rank:(te.rank-K.rank)/2+K.rank,e:H};h.addDummyNode(B,"edge-proxy",re,"_ep")}})}function D(B){var H=0;t.forEach(B.nodes(),function(j){var K=B.node(j);K.borderTop&&(K.minRank=B.node(K.borderTop).rank,K.maxRank=B.node(K.borderBottom).rank,H=t.max(H,K.maxRank))}),B.graph().maxRank=H}function I(B){t.forEach(B.nodes(),function(H){var j=B.node(H);j.dummy==="edge-proxy"&&(B.edge(j.e).labelRank=j.rank,B.removeNode(H))})}function x(B){var H=Number.POSITIVE_INFINITY,j=0,K=Number.POSITIVE_INFINITY,te=0,re=B.graph(),ue=re.marginx||0,se=re.marginy||0;function de(be){var z=be.x,ae=be.y,Z=be.width,W=be.height;H=Math.min(H,z-Z/2),j=Math.max(j,z+Z/2),K=Math.min(K,ae-W/2),te=Math.max(te,ae+W/2)}t.forEach(B.nodes(),function(be){de(B.node(be))}),t.forEach(B.edges(),function(be){var z=B.edge(be);t.has(z,"x")&&de(z)}),H-=ue,K-=se,t.forEach(B.nodes(),function(be){var z=B.node(be);z.x-=H,z.y-=K}),t.forEach(B.edges(),function(be){var z=B.edge(be);t.forEach(z.points,function(ae){ae.x-=H,ae.y-=K}),t.has(z,"x")&&(z.x-=H),t.has(z,"y")&&(z.y-=K)}),re.width=j-H+ue,re.height=te-K+se}function P(B){t.forEach(B.edges(),function(H){var j=B.edge(H),K=B.node(H.v),te=B.node(H.w),re,ue;j.points?(re=j.points[0],ue=j.points[j.points.length-1]):(j.points=[],re=te,ue=K),j.points.unshift(h.intersectRect(K,re)),j.points.push(h.intersectRect(te,ue))})}function L(B){t.forEach(B.edges(),function(H){var j=B.edge(H);if(t.has(j,"x"))switch((j.labelpos==="l"||j.labelpos==="r")&&(j.width-=j.labeloffset),j.labelpos){case"l":j.x-=j.width/2+j.labeloffset;break;case"r":j.x+=j.width/2+j.labeloffset;break}})}function M(B){t.forEach(B.edges(),function(H){var j=B.edge(H);j.reversed&&j.points.reverse()})}function R(B){t.forEach(B.nodes(),function(H){if(B.children(H).length){var j=B.node(H),K=B.node(j.borderTop),te=B.node(j.borderBottom),re=B.node(t.last(j.borderLeft)),ue=B.node(t.last(j.borderRight));j.width=Math.abs(ue.x-re.x),j.height=Math.abs(te.y-K.y),j.x=re.x+j.width/2,j.y=K.y+j.height/2}}),t.forEach(B.nodes(),function(H){B.node(H).dummy==="border"&&B.removeNode(H)})}function V(B){t.forEach(B.edges(),function(H){if(H.v===H.w){var j=B.node(H.v);j.selfEdges||(j.selfEdges=[]),j.selfEdges.push({e:H,label:B.edge(H)}),B.removeEdge(H)}})}function U(B){var H=h.buildLayerMatrix(B);t.forEach(H,function(j){var K=0;t.forEach(j,function(te,re){var ue=B.node(te);ue.order=re+K,t.forEach(ue.selfEdges,function(se){h.addDummyNode(B,"selfedge",{width:se.label.width,height:se.label.height,rank:ue.rank,order:re+ ++K,e:se.e,label:se.label},"_se")}),delete ue.selfEdges})})}function q(B){t.forEach(B.nodes(),function(H){var j=B.node(H);if(j.dummy==="selfedge"){var K=B.node(j.e.v),te=K.x+K.width/2,re=K.y,ue=j.x-te,se=K.height/2;B.setEdge(j.e,j.label),B.removeNode(H),j.label.points=[{x:te+2*ue/3,y:re-se},{x:te+5*ue/6,y:re-se},{x:te+ue,y:re},{x:te+5*ue/6,y:re+se},{x:te+2*ue/3,y:re+se}],j.label.x=j.x,j.label.y=j.y}})}function $(B,H){return t.mapValues(t.pick(B,H),Number)}function X(B){var H={};return t.forEach(B,function(j,K){H[K.toLowerCase()]=j}),H}return vd}var pd,i1;function pR(){if(i1)return pd;i1=1;var t=or(),e=Jr(),r=_n().Graph;pd={debugOrdering:n};function n(i){var o=e.buildLayerMatrix(i),a=new r({compound:!0,multigraph:!0}).setGraph({});return t.forEach(i.nodes(),function(s){a.setNode(s,{label:s}),a.setParent(s,"layer"+i.node(s).rank)}),t.forEach(i.edges(),function(s){a.setEdge(s.v,s.w,{},s.name)}),t.forEach(o,function(s,u){var l="layer"+u;a.setNode(l,{rank:"same"}),t.reduce(s,function(f,c){return a.setEdge(f,c,{style:"invis"}),c})}),a}return pd}var gd,a1;function gR(){return a1||(a1=1,gd="0.8.5"),gd}var md,o1;function mR(){return o1||(o1=1,md={graphlib:_n(),layout:vR(),debug:pR(),util:{time:Jr().time,notime:Jr().notime},version:gR()}),md}(function(t,e){(function(n,i){t.exports=i(mR())})(It,function(r){return function(n){var i={};function o(a){if(i[a])return i[a].exports;var s=i[a]={i:a,l:!1,exports:{}};return n[a].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=i,o.d=function(a,s,u){o.o(a,s)||Object.defineProperty(a,s,{enumerable:!0,get:u})},o.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},o.t=function(a,s){if(s&1&&(a=o(a)),s&8||s&4&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(o.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),s&2&&typeof a!="string")for(var l in a)o.d(u,l,function(f){return a[f]}.bind(null,l));return u},o.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(s,"a",s),s},o.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},o.p="",o(o.s=0)}([function(n,i,o){var a=o(1),s=function(l){l&&l("layout","dagre",a)};typeof cytoscape<"u"&&s(cytoscape),n.exports=s},function(n,i,o){function a(h){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?a=function(p){return typeof p}:a=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},a(h)}var s=function(d){return typeof d=="function"},u=o(2),l=o(3),f=o(4);function c(h){this.options=l({},u,h)}c.prototype.run=function(){var h=this.options,d=this,p=h.cy,g=h.eles,w=function(q,$){return s($)?$.apply(q,[q]):$},v=h.boundingBox||{x1:0,y1:0,w:p.width(),h:p.height()};v.x2===void 0&&(v.x2=v.x1+v.w),v.w===void 0&&(v.w=v.x2-v.x1),v.y2===void 0&&(v.y2=v.y1+v.h),v.h===void 0&&(v.h=v.y2-v.y1);var m=new f.graphlib.Graph({multigraph:!0,compound:!0}),y={},E=function(q,$){$!=null&&(y[q]=$)};E("nodesep",h.nodeSep),E("edgesep",h.edgeSep),E("ranksep",h.rankSep),E("rankdir",h.rankDir),E("align",h.align),E("ranker",h.ranker),E("acyclicer",h.acyclicer),m.setGraph(y),m.setDefaultEdgeLabel(function(){return{}}),m.setDefaultNodeLabel(function(){return{}});var T=g.nodes();s(h.sort)&&(T=T.sort(h.sort));for(var C=0;C<T.length;C++){var b=T[C],k=b.layoutDimensions(h);m.setNode(b.id(),{width:k.w,height:k.h,name:b.id()})}for(var S=0;S<T.length;S++){var O=T[S];O.isChild()&&m.setParent(O.id(),O.parent().id())}var N=g.edges().stdFilter(function(U){return!U.source().isParent()&&!U.target().isParent()});s(h.sort)&&(N=N.sort(h.sort));for(var D=0;D<N.length;D++){var I=N[D];m.setEdge(I.source().id(),I.target().id(),{minlen:w(I,h.minLen),weight:w(I,h.edgeWeight),name:I.id()},I.id())}f.layout(m);for(var x=m.nodes(),P=0;P<x.length;P++){var L=x[P],M=m.node(L);p.getElementById(L).scratch().dagre=M}var R;h.boundingBox?(R={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0},T.forEach(function(U){var q=U.scratch().dagre;R.x1=Math.min(R.x1,q.x),R.x2=Math.max(R.x2,q.x),R.y1=Math.min(R.y1,q.y),R.y2=Math.max(R.y2,q.y)}),R.w=R.x2-R.x1,R.h=R.y2-R.y1):R=v;var V=function(q){if(h.boundingBox){var $=R.w===0?0:(q.x-R.x1)/R.w,X=R.h===0?0:(q.y-R.y1)/R.h;return{x:v.x1+$*v.w,y:v.y1+X*v.h}}else return q};return T.layoutPositions(d,h,function(U){U=a(U)==="object"?U:this;var q=U.scratch().dagre;return V({x:q.x,y:q.y})}),this},n.exports=c},function(n,i){var o={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,align:void 0,acyclicer:void 0,ranker:void 0,minLen:function(s){return 1},edgeWeight:function(s){return 1},fit:!0,padding:30,spacingFactor:void 0,nodeDimensionsIncludeLabels:!1,animate:!1,animateFilter:function(s,u){return!0},animationDuration:500,animationEasing:void 0,boundingBox:void 0,transform:function(s,u){return u},ready:function(){},sort:void 0,stop:function(){}};n.exports=o},function(n,i){n.exports=Object.assign!=null?Object.assign.bind(Object):function(o){for(var a=arguments.length,s=new Array(a>1?a-1:0),u=1;u<a;u++)s[u-1]=arguments[u];return s.forEach(function(l){Object.keys(l).forEach(function(f){return o[f]=l[f]})}),o}},function(n,i){n.exports=r}])})})(ZE);var yR=ZE.exports;const bR=qn(yR);var Wx={exports:{}},yd={exports:{}},bd={exports:{}},s1;function wR(){return s1||(s1=1,function(t,e){(function(n,i){t.exports=i()})(It,function(){return function(r){var n={};function i(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return r[o].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=r,i.c=n,i.i=function(o){return o},i.d=function(o,a,s){i.o(o,a)||Object.defineProperty(o,a,{configurable:!1,enumerable:!0,get:s})},i.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(a,"a",a),a},i.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},i.p="",i(i.s=28)}([function(r,n,i){function o(){}o.QUALITY=1,o.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,o.DEFAULT_INCREMENTAL=!1,o.DEFAULT_ANIMATION_ON_LAYOUT=!0,o.DEFAULT_ANIMATION_DURING_LAYOUT=!1,o.DEFAULT_ANIMATION_PERIOD=50,o.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,o.DEFAULT_GRAPH_MARGIN=15,o.NODE_DIMENSIONS_INCLUDE_LABELS=!1,o.SIMPLE_NODE_SIZE=40,o.SIMPLE_NODE_HALF_SIZE=o.SIMPLE_NODE_SIZE/2,o.EMPTY_COMPOUND_NODE_SIZE=40,o.MIN_EDGE_LENGTH=1,o.WORLD_BOUNDARY=1e6,o.INITIAL_WORLD_BOUNDARY=o.WORLD_BOUNDARY/1e3,o.WORLD_CENTER_X=1200,o.WORLD_CENTER_Y=900,r.exports=o},function(r,n,i){var o=i(2),a=i(8),s=i(9);function u(f,c,h){o.call(this,h),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=h,this.bendpoints=[],this.source=f,this.target=c}u.prototype=Object.create(o.prototype);for(var l in o)u[l]=o[l];u.prototype.getSource=function(){return this.source},u.prototype.getTarget=function(){return this.target},u.prototype.isInterGraph=function(){return this.isInterGraph},u.prototype.getLength=function(){return this.length},u.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},u.prototype.getBendpoints=function(){return this.bendpoints},u.prototype.getLca=function(){return this.lca},u.prototype.getSourceInLca=function(){return this.sourceInLca},u.prototype.getTargetInLca=function(){return this.targetInLca},u.prototype.getOtherEnd=function(f){if(this.source===f)return this.target;if(this.target===f)return this.source;throw"Node is not incident with this edge"},u.prototype.getOtherEndInGraph=function(f,c){for(var h=this.getOtherEnd(f),d=c.getGraphManager().getRoot();;){if(h.getOwner()==c)return h;if(h.getOwner()==d)break;h=h.getOwner().getParent()}return null},u.prototype.updateLength=function(){var f=new Array(4);this.isOverlapingSourceAndTarget=a.getIntersection(this.target.getRect(),this.source.getRect(),f),this.isOverlapingSourceAndTarget||(this.lengthX=f[0]-f[2],this.lengthY=f[1]-f[3],Math.abs(this.lengthX)<1&&(this.lengthX=s.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=s.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},u.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=s.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=s.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=u},function(r,n,i){function o(a){this.vGraphObject=a}r.exports=o},function(r,n,i){var o=i(2),a=i(10),s=i(13),u=i(0),l=i(16),f=i(5);function c(d,p,g,w){g==null&&w==null&&(w=p),o.call(this,w),d.graphManager!=null&&(d=d.graphManager),this.estimatedSize=a.MIN_VALUE,this.inclusionTreeDepth=a.MAX_VALUE,this.vGraphObject=w,this.edges=[],this.graphManager=d,g!=null&&p!=null?this.rect=new s(p.x,p.y,g.width,g.height):this.rect=new s}c.prototype=Object.create(o.prototype);for(var h in o)c[h]=o[h];c.prototype.getEdges=function(){return this.edges},c.prototype.getChild=function(){return this.child},c.prototype.getOwner=function(){return this.owner},c.prototype.getWidth=function(){return this.rect.width},c.prototype.setWidth=function(d){this.rect.width=d},c.prototype.getHeight=function(){return this.rect.height},c.prototype.setHeight=function(d){this.rect.height=d},c.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},c.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},c.prototype.getCenter=function(){return new f(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},c.prototype.getLocation=function(){return new f(this.rect.x,this.rect.y)},c.prototype.getRect=function(){return this.rect},c.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},c.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},c.prototype.setRect=function(d,p){this.rect.x=d.x,this.rect.y=d.y,this.rect.width=p.width,this.rect.height=p.height},c.prototype.setCenter=function(d,p){this.rect.x=d-this.rect.width/2,this.rect.y=p-this.rect.height/2},c.prototype.setLocation=function(d,p){this.rect.x=d,this.rect.y=p},c.prototype.moveBy=function(d,p){this.rect.x+=d,this.rect.y+=p},c.prototype.getEdgeListToNode=function(d){var p=[],g=this;return g.edges.forEach(function(w){if(w.target==d){if(w.source!=g)throw"Incorrect edge source!";p.push(w)}}),p},c.prototype.getEdgesBetween=function(d){var p=[],g=this;return g.edges.forEach(function(w){if(!(w.source==g||w.target==g))throw"Incorrect edge source and/or target";(w.target==d||w.source==d)&&p.push(w)}),p},c.prototype.getNeighborsList=function(){var d=new Set,p=this;return p.edges.forEach(function(g){if(g.source==p)d.add(g.target);else{if(g.target!=p)throw"Incorrect incidency!";d.add(g.source)}}),d},c.prototype.withChildren=function(){var d=new Set,p,g;if(d.add(this),this.child!=null)for(var w=this.child.getNodes(),v=0;v<w.length;v++)p=w[v],g=p.withChildren(),g.forEach(function(m){d.add(m)});return d},c.prototype.getNoOfChildren=function(){var d=0,p;if(this.child==null)d=1;else for(var g=this.child.getNodes(),w=0;w<g.length;w++)p=g[w],d+=p.getNoOfChildren();return d==0&&(d=1),d},c.prototype.getEstimatedSize=function(){if(this.estimatedSize==a.MIN_VALUE)throw"assert failed";return this.estimatedSize},c.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},c.prototype.scatter=function(){var d,p,g=-u.INITIAL_WORLD_BOUNDARY,w=u.INITIAL_WORLD_BOUNDARY;d=u.WORLD_CENTER_X+l.nextDouble()*(w-g)+g;var v=-u.INITIAL_WORLD_BOUNDARY,m=u.INITIAL_WORLD_BOUNDARY;p=u.WORLD_CENTER_Y+l.nextDouble()*(m-v)+v,this.rect.x=d,this.rect.y=p},c.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var d=this.getChild();if(d.updateBounds(!0),this.rect.x=d.getLeft(),this.rect.y=d.getTop(),this.setWidth(d.getRight()-d.getLeft()),this.setHeight(d.getBottom()-d.getTop()),u.NODE_DIMENSIONS_INCLUDE_LABELS){var p=d.getRight()-d.getLeft(),g=d.getBottom()-d.getTop();this.labelWidth&&(this.labelPosHorizontal=="left"?(this.rect.x-=this.labelWidth,this.setWidth(p+this.labelWidth)):this.labelPosHorizontal=="center"&&this.labelWidth>p?(this.rect.x-=(this.labelWidth-p)/2,this.setWidth(this.labelWidth)):this.labelPosHorizontal=="right"&&this.setWidth(p+this.labelWidth)),this.labelHeight&&(this.labelPosVertical=="top"?(this.rect.y-=this.labelHeight,this.setHeight(g+this.labelHeight)):this.labelPosVertical=="center"&&this.labelHeight>g?(this.rect.y-=(this.labelHeight-g)/2,this.setHeight(this.labelHeight)):this.labelPosVertical=="bottom"&&this.setHeight(g+this.labelHeight))}}},c.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==a.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},c.prototype.transform=function(d){var p=this.rect.x;p>u.WORLD_BOUNDARY?p=u.WORLD_BOUNDARY:p<-u.WORLD_BOUNDARY&&(p=-u.WORLD_BOUNDARY);var g=this.rect.y;g>u.WORLD_BOUNDARY?g=u.WORLD_BOUNDARY:g<-u.WORLD_BOUNDARY&&(g=-u.WORLD_BOUNDARY);var w=new f(p,g),v=d.inverseTransformPoint(w);this.setLocation(v.x,v.y)},c.prototype.getLeft=function(){return this.rect.x},c.prototype.getRight=function(){return this.rect.x+this.rect.width},c.prototype.getTop=function(){return this.rect.y},c.prototype.getBottom=function(){return this.rect.y+this.rect.height},c.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=c},function(r,n,i){var o=i(0);function a(){}for(var s in o)a[s]=o[s];a.MAX_ITERATIONS=2500,a.DEFAULT_EDGE_LENGTH=50,a.DEFAULT_SPRING_STRENGTH=.45,a.DEFAULT_REPULSION_STRENGTH=4500,a.DEFAULT_GRAVITY_STRENGTH=.4,a.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,a.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,a.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,a.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,a.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,a.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,a.COOLING_ADAPTATION_FACTOR=.33,a.ADAPTATION_LOWER_NODE_LIMIT=1e3,a.ADAPTATION_UPPER_NODE_LIMIT=5e3,a.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,a.MAX_NODE_DISPLACEMENT=a.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,a.MIN_REPULSION_DIST=a.DEFAULT_EDGE_LENGTH/10,a.CONVERGENCE_CHECK_PERIOD=100,a.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,a.MIN_EDGE_LENGTH=1,a.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=a},function(r,n,i){function o(a,s){a==null&&s==null?(this.x=0,this.y=0):(this.x=a,this.y=s)}o.prototype.getX=function(){return this.x},o.prototype.getY=function(){return this.y},o.prototype.setX=function(a){this.x=a},o.prototype.setY=function(a){this.y=a},o.prototype.getDifference=function(a){return new DimensionD(this.x-a.x,this.y-a.y)},o.prototype.getCopy=function(){return new o(this.x,this.y)},o.prototype.translate=function(a){return this.x+=a.width,this.y+=a.height,this},r.exports=o},function(r,n,i){var o=i(2),a=i(10),s=i(0),u=i(7),l=i(3),f=i(1),c=i(13),h=i(12),d=i(11);function p(w,v,m){o.call(this,m),this.estimatedSize=a.MIN_VALUE,this.margin=s.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=w,v!=null&&v instanceof u?this.graphManager=v:v!=null&&v instanceof Layout&&(this.graphManager=v.graphManager)}p.prototype=Object.create(o.prototype);for(var g in o)p[g]=o[g];p.prototype.getNodes=function(){return this.nodes},p.prototype.getEdges=function(){return this.edges},p.prototype.getGraphManager=function(){return this.graphManager},p.prototype.getParent=function(){return this.parent},p.prototype.getLeft=function(){return this.left},p.prototype.getRight=function(){return this.right},p.prototype.getTop=function(){return this.top},p.prototype.getBottom=function(){return this.bottom},p.prototype.isConnected=function(){return this.isConnected},p.prototype.add=function(w,v,m){if(v==null&&m==null){var y=w;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(y)>-1)throw"Node already in graph!";return y.owner=this,this.getNodes().push(y),y}else{var E=w;if(!(this.getNodes().indexOf(v)>-1&&this.getNodes().indexOf(m)>-1))throw"Source or target not in graph!";if(!(v.owner==m.owner&&v.owner==this))throw"Both owners must be this graph!";return v.owner!=m.owner?null:(E.source=v,E.target=m,E.isInterGraph=!1,this.getEdges().push(E),v.edges.push(E),m!=v&&m.edges.push(E),E)}},p.prototype.remove=function(w){var v=w;if(w instanceof l){if(v==null)throw"Node is null!";if(!(v.owner!=null&&v.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var m=v.edges.slice(),y,E=m.length,T=0;T<E;T++)y=m[T],y.isInterGraph?this.graphManager.remove(y):y.source.owner.remove(y);var C=this.nodes.indexOf(v);if(C==-1)throw"Node not in owner node list!";this.nodes.splice(C,1)}else if(w instanceof f){var y=w;if(y==null)throw"Edge is null!";if(!(y.source!=null&&y.target!=null))throw"Source and/or target is null!";if(!(y.source.owner!=null&&y.target.owner!=null&&y.source.owner==this&&y.target.owner==this))throw"Source and/or target owner is invalid!";var b=y.source.edges.indexOf(y),k=y.target.edges.indexOf(y);if(!(b>-1&&k>-1))throw"Source and/or target doesn't know this edge!";y.source.edges.splice(b,1),y.target!=y.source&&y.target.edges.splice(k,1);var C=y.source.owner.getEdges().indexOf(y);if(C==-1)throw"Not in owner's edge list!";y.source.owner.getEdges().splice(C,1)}},p.prototype.updateLeftTop=function(){for(var w=a.MAX_VALUE,v=a.MAX_VALUE,m,y,E,T=this.getNodes(),C=T.length,b=0;b<C;b++){var k=T[b];m=k.getTop(),y=k.getLeft(),w>m&&(w=m),v>y&&(v=y)}return w==a.MAX_VALUE?null:(T[0].getParent().paddingLeft!=null?E=T[0].getParent().paddingLeft:E=this.margin,this.left=v-E,this.top=w-E,new h(this.left,this.top))},p.prototype.updateBounds=function(w){for(var v=a.MAX_VALUE,m=-a.MAX_VALUE,y=a.MAX_VALUE,E=-a.MAX_VALUE,T,C,b,k,S,O=this.nodes,N=O.length,D=0;D<N;D++){var I=O[D];w&&I.child!=null&&I.updateBounds(),T=I.getLeft(),C=I.getRight(),b=I.getTop(),k=I.getBottom(),v>T&&(v=T),m<C&&(m=C),y>b&&(y=b),E<k&&(E=k)}var x=new c(v,y,m-v,E-y);v==a.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),O[0].getParent().paddingLeft!=null?S=O[0].getParent().paddingLeft:S=this.margin,this.left=x.x-S,this.right=x.x+x.width+S,this.top=x.y-S,this.bottom=x.y+x.height+S},p.calculateBounds=function(w){for(var v=a.MAX_VALUE,m=-a.MAX_VALUE,y=a.MAX_VALUE,E=-a.MAX_VALUE,T,C,b,k,S=w.length,O=0;O<S;O++){var N=w[O];T=N.getLeft(),C=N.getRight(),b=N.getTop(),k=N.getBottom(),v>T&&(v=T),m<C&&(m=C),y>b&&(y=b),E<k&&(E=k)}var D=new c(v,y,m-v,E-y);return D},p.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},p.prototype.getEstimatedSize=function(){if(this.estimatedSize==a.MIN_VALUE)throw"assert failed";return this.estimatedSize},p.prototype.calcEstimatedSize=function(){for(var w=0,v=this.nodes,m=v.length,y=0;y<m;y++){var E=v[y];w+=E.calcEstimatedSize()}return w==0?this.estimatedSize=s.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=w/Math.sqrt(this.nodes.length),this.estimatedSize},p.prototype.updateConnected=function(){var w=this;if(this.nodes.length==0){this.isConnected=!0;return}var v=new d,m=new Set,y=this.nodes[0],E,T,C=y.withChildren();for(C.forEach(function(D){v.push(D),m.add(D)});v.length!==0;){y=v.shift(),E=y.getEdges();for(var b=E.length,k=0;k<b;k++){var S=E[k];if(T=S.getOtherEndInGraph(y,this),T!=null&&!m.has(T)){var O=T.withChildren();O.forEach(function(D){v.push(D),m.add(D)})}}}if(this.isConnected=!1,m.size>=this.nodes.length){var N=0;m.forEach(function(D){D.owner==w&&N++}),N==this.nodes.length&&(this.isConnected=!0)}},r.exports=p},function(r,n,i){var o,a=i(1);function s(u){o=i(6),this.layout=u,this.graphs=[],this.edges=[]}s.prototype.addRoot=function(){var u=this.layout.newGraph(),l=this.layout.newNode(null),f=this.add(u,l);return this.setRootGraph(f),this.rootGraph},s.prototype.add=function(u,l,f,c,h){if(f==null&&c==null&&h==null){if(u==null)throw"Graph is null!";if(l==null)throw"Parent node is null!";if(this.graphs.indexOf(u)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(u),u.parent!=null)throw"Already has a parent!";if(l.child!=null)throw"Already has a child!";return u.parent=l,l.child=u,u}else{h=f,c=l,f=u;var d=c.getOwner(),p=h.getOwner();if(!(d!=null&&d.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(p!=null&&p.getGraphManager()==this))throw"Target not in this graph mgr!";if(d==p)return f.isInterGraph=!1,d.add(f,c,h);if(f.isInterGraph=!0,f.source=c,f.target=h,this.edges.indexOf(f)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(f),!(f.source!=null&&f.target!=null))throw"Edge source and/or target is null!";if(!(f.source.edges.indexOf(f)==-1&&f.target.edges.indexOf(f)==-1))throw"Edge already in source and/or target incidency list!";return f.source.edges.push(f),f.target.edges.push(f),f}},s.prototype.remove=function(u){if(u instanceof o){var l=u;if(l.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(l==this.rootGraph||l.parent!=null&&l.parent.graphManager==this))throw"Invalid parent node!";var f=[];f=f.concat(l.getEdges());for(var c,h=f.length,d=0;d<h;d++)c=f[d],l.remove(c);var p=[];p=p.concat(l.getNodes());var g;h=p.length;for(var d=0;d<h;d++)g=p[d],l.remove(g);l==this.rootGraph&&this.setRootGraph(null);var w=this.graphs.indexOf(l);this.graphs.splice(w,1),l.parent=null}else if(u instanceof a){if(c=u,c==null)throw"Edge is null!";if(!c.isInterGraph)throw"Not an inter-graph edge!";if(!(c.source!=null&&c.target!=null))throw"Source and/or target is null!";if(!(c.source.edges.indexOf(c)!=-1&&c.target.edges.indexOf(c)!=-1))throw"Source and/or target doesn't know this edge!";var w=c.source.edges.indexOf(c);if(c.source.edges.splice(w,1),w=c.target.edges.indexOf(c),c.target.edges.splice(w,1),!(c.source.owner!=null&&c.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(c.source.owner.getGraphManager().edges.indexOf(c)==-1)throw"Not in owner graph manager's edge list!";var w=c.source.owner.getGraphManager().edges.indexOf(c);c.source.owner.getGraphManager().edges.splice(w,1)}},s.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},s.prototype.getGraphs=function(){return this.graphs},s.prototype.getAllNodes=function(){if(this.allNodes==null){for(var u=[],l=this.getGraphs(),f=l.length,c=0;c<f;c++)u=u.concat(l[c].getNodes());this.allNodes=u}return this.allNodes},s.prototype.resetAllNodes=function(){this.allNodes=null},s.prototype.resetAllEdges=function(){this.allEdges=null},s.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},s.prototype.getAllEdges=function(){if(this.allEdges==null){var u=[],l=this.getGraphs();l.length;for(var f=0;f<l.length;f++)u=u.concat(l[f].getEdges());u=u.concat(this.edges),this.allEdges=u}return this.allEdges},s.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},s.prototype.setAllNodesToApplyGravitation=function(u){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=u},s.prototype.getRoot=function(){return this.rootGraph},s.prototype.setRootGraph=function(u){if(u.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=u,u.parent==null&&(u.parent=this.layout.newNode("Root node"))},s.prototype.getLayout=function(){return this.layout},s.prototype.isOneAncestorOfOther=function(u,l){if(!(u!=null&&l!=null))throw"assert failed";if(u==l)return!0;var f=u.getOwner(),c;do{if(c=f.getParent(),c==null)break;if(c==l)return!0;if(f=c.getOwner(),f==null)break}while(!0);f=l.getOwner();do{if(c=f.getParent(),c==null)break;if(c==u)return!0;if(f=c.getOwner(),f==null)break}while(!0);return!1},s.prototype.calcLowestCommonAncestors=function(){for(var u,l,f,c,h,d=this.getAllEdges(),p=d.length,g=0;g<p;g++){if(u=d[g],l=u.source,f=u.target,u.lca=null,u.sourceInLca=l,u.targetInLca=f,l==f){u.lca=l.getOwner();continue}for(c=l.getOwner();u.lca==null;){for(u.targetInLca=f,h=f.getOwner();u.lca==null;){if(h==c){u.lca=h;break}if(h==this.rootGraph)break;if(u.lca!=null)throw"assert failed";u.targetInLca=h.getParent(),h=u.targetInLca.getOwner()}if(c==this.rootGraph)break;u.lca==null&&(u.sourceInLca=c.getParent(),c=u.sourceInLca.getOwner())}if(u.lca==null)throw"assert failed"}},s.prototype.calcLowestCommonAncestor=function(u,l){if(u==l)return u.getOwner();var f=u.getOwner();do{if(f==null)break;var c=l.getOwner();do{if(c==null)break;if(c==f)return c;c=c.getParent().getOwner()}while(!0);f=f.getParent().getOwner()}while(!0);return f},s.prototype.calcInclusionTreeDepths=function(u,l){u==null&&l==null&&(u=this.rootGraph,l=1);for(var f,c=u.getNodes(),h=c.length,d=0;d<h;d++)f=c[d],f.inclusionTreeDepth=l,f.child!=null&&this.calcInclusionTreeDepths(f.child,l+1)},s.prototype.includesInvalidEdge=function(){for(var u,l=[],f=this.edges.length,c=0;c<f;c++)u=this.edges[c],this.isOneAncestorOfOther(u.source,u.target)&&l.push(u);for(var c=0;c<l.length;c++)this.remove(l[c]);return!1},r.exports=s},function(r,n,i){var o=i(12);function a(){}a.calcSeparationAmount=function(s,u,l,f){if(!s.intersects(u))throw"assert failed";var c=new Array(2);this.decideDirectionsForOverlappingNodes(s,u,c),l[0]=Math.min(s.getRight(),u.getRight())-Math.max(s.x,u.x),l[1]=Math.min(s.getBottom(),u.getBottom())-Math.max(s.y,u.y),s.getX()<=u.getX()&&s.getRight()>=u.getRight()?l[0]+=Math.min(u.getX()-s.getX(),s.getRight()-u.getRight()):u.getX()<=s.getX()&&u.getRight()>=s.getRight()&&(l[0]+=Math.min(s.getX()-u.getX(),u.getRight()-s.getRight())),s.getY()<=u.getY()&&s.getBottom()>=u.getBottom()?l[1]+=Math.min(u.getY()-s.getY(),s.getBottom()-u.getBottom()):u.getY()<=s.getY()&&u.getBottom()>=s.getBottom()&&(l[1]+=Math.min(s.getY()-u.getY(),u.getBottom()-s.getBottom()));var h=Math.abs((u.getCenterY()-s.getCenterY())/(u.getCenterX()-s.getCenterX()));u.getCenterY()===s.getCenterY()&&u.getCenterX()===s.getCenterX()&&(h=1);var d=h*l[0],p=l[1]/h;l[0]<p?p=l[0]:d=l[1],l[0]=-1*c[0]*(p/2+f),l[1]=-1*c[1]*(d/2+f)},a.decideDirectionsForOverlappingNodes=function(s,u,l){s.getCenterX()<u.getCenterX()?l[0]=-1:l[0]=1,s.getCenterY()<u.getCenterY()?l[1]=-1:l[1]=1},a.getIntersection2=function(s,u,l){var f=s.getCenterX(),c=s.getCenterY(),h=u.getCenterX(),d=u.getCenterY();if(s.intersects(u))return l[0]=f,l[1]=c,l[2]=h,l[3]=d,!0;var p=s.getX(),g=s.getY(),w=s.getRight(),v=s.getX(),m=s.getBottom(),y=s.getRight(),E=s.getWidthHalf(),T=s.getHeightHalf(),C=u.getX(),b=u.getY(),k=u.getRight(),S=u.getX(),O=u.getBottom(),N=u.getRight(),D=u.getWidthHalf(),I=u.getHeightHalf(),x=!1,P=!1;if(f===h){if(c>d)return l[0]=f,l[1]=g,l[2]=h,l[3]=O,!1;if(c<d)return l[0]=f,l[1]=m,l[2]=h,l[3]=b,!1}else if(c===d){if(f>h)return l[0]=p,l[1]=c,l[2]=k,l[3]=d,!1;if(f<h)return l[0]=w,l[1]=c,l[2]=C,l[3]=d,!1}else{var L=s.height/s.width,M=u.height/u.width,R=(d-c)/(h-f),V=void 0,U=void 0,q=void 0,$=void 0,X=void 0,B=void 0;if(-L===R?f>h?(l[0]=v,l[1]=m,x=!0):(l[0]=w,l[1]=g,x=!0):L===R&&(f>h?(l[0]=p,l[1]=g,x=!0):(l[0]=y,l[1]=m,x=!0)),-M===R?h>f?(l[2]=S,l[3]=O,P=!0):(l[2]=k,l[3]=b,P=!0):M===R&&(h>f?(l[2]=C,l[3]=b,P=!0):(l[2]=N,l[3]=O,P=!0)),x&&P)return!1;if(f>h?c>d?(V=this.getCardinalDirection(L,R,4),U=this.getCardinalDirection(M,R,2)):(V=this.getCardinalDirection(-L,R,3),U=this.getCardinalDirection(-M,R,1)):c>d?(V=this.getCardinalDirection(-L,R,1),U=this.getCardinalDirection(-M,R,3)):(V=this.getCardinalDirection(L,R,2),U=this.getCardinalDirection(M,R,4)),!x)switch(V){case 1:$=g,q=f+-T/R,l[0]=q,l[1]=$;break;case 2:q=y,$=c+E*R,l[0]=q,l[1]=$;break;case 3:$=m,q=f+T/R,l[0]=q,l[1]=$;break;case 4:q=v,$=c+-E*R,l[0]=q,l[1]=$;break}if(!P)switch(U){case 1:B=b,X=h+-I/R,l[2]=X,l[3]=B;break;case 2:X=N,B=d+D*R,l[2]=X,l[3]=B;break;case 3:B=O,X=h+I/R,l[2]=X,l[3]=B;break;case 4:X=S,B=d+-D*R,l[2]=X,l[3]=B;break}}return!1},a.getCardinalDirection=function(s,u,l){return s>u?l:1+l%4},a.getIntersection=function(s,u,l,f){if(f==null)return this.getIntersection2(s,u,l);var c=s.x,h=s.y,d=u.x,p=u.y,g=l.x,w=l.y,v=f.x,m=f.y,y=void 0,E=void 0,T=void 0,C=void 0,b=void 0,k=void 0,S=void 0,O=void 0,N=void 0;return T=p-h,b=c-d,S=d*h-c*p,C=m-w,k=g-v,O=v*w-g*m,N=T*k-C*b,N===0?null:(y=(b*O-k*S)/N,E=(C*S-T*O)/N,new o(y,E))},a.angleOfVector=function(s,u,l,f){var c=void 0;return s!==l?(c=Math.atan((f-u)/(l-s)),l<s?c+=Math.PI:f<u&&(c+=this.TWO_PI)):f<u?c=this.ONE_AND_HALF_PI:c=this.HALF_PI,c},a.doIntersect=function(s,u,l,f){var c=s.x,h=s.y,d=u.x,p=u.y,g=l.x,w=l.y,v=f.x,m=f.y,y=(d-c)*(m-w)-(v-g)*(p-h);if(y===0)return!1;var E=((m-w)*(v-c)+(g-v)*(m-h))/y,T=((h-p)*(v-c)+(d-c)*(m-h))/y;return 0<E&&E<1&&0<T&&T<1},a.findCircleLineIntersections=function(s,u,l,f,c,h,d){var p=(l-s)*(l-s)+(f-u)*(f-u),g=2*((s-c)*(l-s)+(u-h)*(f-u)),w=(s-c)*(s-c)+(u-h)*(u-h)-d*d,v=g*g-4*p*w;if(v>=0){var m=(-g+Math.sqrt(g*g-4*p*w))/(2*p),y=(-g-Math.sqrt(g*g-4*p*w))/(2*p),E=null;return m>=0&&m<=1?[m]:y>=0&&y<=1?[y]:E}else return null},a.HALF_PI=.5*Math.PI,a.ONE_AND_HALF_PI=1.5*Math.PI,a.TWO_PI=2*Math.PI,a.THREE_PI=3*Math.PI,r.exports=a},function(r,n,i){function o(){}o.sign=function(a){return a>0?1:a<0?-1:0},o.floor=function(a){return a<0?Math.ceil(a):Math.floor(a)},o.ceil=function(a){return a<0?Math.floor(a):Math.ceil(a)},r.exports=o},function(r,n,i){function o(){}o.MAX_VALUE=2147483647,o.MIN_VALUE=-2147483648,r.exports=o},function(r,n,i){var o=function(){function c(h,d){for(var p=0;p<d.length;p++){var g=d[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,g.key,g)}}return function(h,d,p){return d&&c(h.prototype,d),p&&c(h,p),h}}();function a(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}var s=function(h){return{value:h,next:null,prev:null}},u=function(h,d,p,g){return h!==null?h.next=d:g.head=d,p!==null?p.prev=d:g.tail=d,d.prev=h,d.next=p,g.length++,d},l=function(h,d){var p=h.prev,g=h.next;return p!==null?p.next=g:d.head=g,g!==null?g.prev=p:d.tail=p,h.prev=h.next=null,d.length--,h},f=function(){function c(h){var d=this;a(this,c),this.length=0,this.head=null,this.tail=null,h!=null&&h.forEach(function(p){return d.push(p)})}return o(c,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(d,p){return u(p.prev,s(d),p,this)}},{key:"insertAfter",value:function(d,p){return u(p,s(d),p.next,this)}},{key:"insertNodeBefore",value:function(d,p){return u(p.prev,d,p,this)}},{key:"insertNodeAfter",value:function(d,p){return u(p,d,p.next,this)}},{key:"push",value:function(d){return u(this.tail,s(d),null,this)}},{key:"unshift",value:function(d){return u(null,s(d),this.head,this)}},{key:"remove",value:function(d){return l(d,this)}},{key:"pop",value:function(){return l(this.tail,this).value}},{key:"popNode",value:function(){return l(this.tail,this)}},{key:"shift",value:function(){return l(this.head,this).value}},{key:"shiftNode",value:function(){return l(this.head,this)}},{key:"get_object_at",value:function(d){if(d<=this.length()){for(var p=1,g=this.head;p<d;)g=g.next,p++;return g.value}}},{key:"set_object_at",value:function(d,p){if(d<=this.length()){for(var g=1,w=this.head;g<d;)w=w.next,g++;w.value=p}}}]),c}();r.exports=f},function(r,n,i){function o(a,s,u){this.x=null,this.y=null,a==null&&s==null&&u==null?(this.x=0,this.y=0):typeof a=="number"&&typeof s=="number"&&u==null?(this.x=a,this.y=s):a.constructor.name=="Point"&&s==null&&u==null&&(u=a,this.x=u.x,this.y=u.y)}o.prototype.getX=function(){return this.x},o.prototype.getY=function(){return this.y},o.prototype.getLocation=function(){return new o(this.x,this.y)},o.prototype.setLocation=function(a,s,u){a.constructor.name=="Point"&&s==null&&u==null?(u=a,this.setLocation(u.x,u.y)):typeof a=="number"&&typeof s=="number"&&u==null&&(parseInt(a)==a&&parseInt(s)==s?this.move(a,s):(this.x=Math.floor(a+.5),this.y=Math.floor(s+.5)))},o.prototype.move=function(a,s){this.x=a,this.y=s},o.prototype.translate=function(a,s){this.x+=a,this.y+=s},o.prototype.equals=function(a){if(a.constructor.name=="Point"){var s=a;return this.x==s.x&&this.y==s.y}return this==a},o.prototype.toString=function(){return new o().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=o},function(r,n,i){function o(a,s,u,l){this.x=0,this.y=0,this.width=0,this.height=0,a!=null&&s!=null&&u!=null&&l!=null&&(this.x=a,this.y=s,this.width=u,this.height=l)}o.prototype.getX=function(){return this.x},o.prototype.setX=function(a){this.x=a},o.prototype.getY=function(){return this.y},o.prototype.setY=function(a){this.y=a},o.prototype.getWidth=function(){return this.width},o.prototype.setWidth=function(a){this.width=a},o.prototype.getHeight=function(){return this.height},o.prototype.setHeight=function(a){this.height=a},o.prototype.getRight=function(){return this.x+this.width},o.prototype.getBottom=function(){return this.y+this.height},o.prototype.intersects=function(a){return!(this.getRight()<a.x||this.getBottom()<a.y||a.getRight()<this.x||a.getBottom()<this.y)},o.prototype.getCenterX=function(){return this.x+this.width/2},o.prototype.getMinX=function(){return this.getX()},o.prototype.getMaxX=function(){return this.getX()+this.width},o.prototype.getCenterY=function(){return this.y+this.height/2},o.prototype.getMinY=function(){return this.getY()},o.prototype.getMaxY=function(){return this.getY()+this.height},o.prototype.getWidthHalf=function(){return this.width/2},o.prototype.getHeightHalf=function(){return this.height/2},r.exports=o},function(r,n,i){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s};function a(){}a.lastID=0,a.createID=function(s){return a.isPrimitive(s)?s:(s.uniqueID!=null||(s.uniqueID=a.getString(),a.lastID++),s.uniqueID)},a.getString=function(s){return s==null&&(s=a.lastID),"Object#"+s},a.isPrimitive=function(s){var u=typeof s>"u"?"undefined":o(s);return s==null||u!="object"&&u!="function"},r.exports=a},function(r,n,i){function o(g){if(Array.isArray(g)){for(var w=0,v=Array(g.length);w<g.length;w++)v[w]=g[w];return v}else return Array.from(g)}var a=i(0),s=i(7),u=i(3),l=i(1),f=i(6),c=i(5),h=i(17),d=i(29);function p(g){d.call(this),this.layoutQuality=a.QUALITY,this.createBendsAsNeeded=a.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=a.DEFAULT_INCREMENTAL,this.animationOnLayout=a.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=a.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=a.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=a.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new s(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,g!=null&&(this.isRemoteUse=g)}p.RANDOM_SEED=1,p.prototype=Object.create(d.prototype),p.prototype.getGraphManager=function(){return this.graphManager},p.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},p.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},p.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},p.prototype.newGraphManager=function(){var g=new s(this);return this.graphManager=g,g},p.prototype.newGraph=function(g){return new f(null,this.graphManager,g)},p.prototype.newNode=function(g){return new u(this.graphManager,g)},p.prototype.newEdge=function(g){return new l(null,null,g)},p.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},p.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var g;return this.checkLayoutSuccess()?g=!1:g=this.layout(),a.ANIMATE==="during"?!1:(g&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,g)},p.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},p.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var g=this.graphManager.getAllEdges(),w=0;w<g.length;w++)g[w];for(var v=this.graphManager.getRoot().getNodes(),w=0;w<v.length;w++)v[w];this.update(this.graphManager.getRoot())}},p.prototype.update=function(g){if(g==null)this.update2();else if(g instanceof u){var w=g;if(w.getChild()!=null)for(var v=w.getChild().getNodes(),m=0;m<v.length;m++)update(v[m]);if(w.vGraphObject!=null){var y=w.vGraphObject;y.update(w)}}else if(g instanceof l){var E=g;if(E.vGraphObject!=null){var T=E.vGraphObject;T.update(E)}}else if(g instanceof f){var C=g;if(C.vGraphObject!=null){var b=C.vGraphObject;b.update(C)}}},p.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=a.QUALITY,this.animationDuringLayout=a.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=a.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=a.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=a.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=a.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=a.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},p.prototype.transform=function(g){if(g==null)this.transform(new c(0,0));else{var w=new h,v=this.graphManager.getRoot().updateLeftTop();if(v!=null){w.setWorldOrgX(g.x),w.setWorldOrgY(g.y),w.setDeviceOrgX(v.x),w.setDeviceOrgY(v.y);for(var m=this.getAllNodes(),y,E=0;E<m.length;E++)y=m[E],y.transform(w)}}},p.prototype.positionNodesRandomly=function(g){if(g==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var w,v,m=g.getNodes(),y=0;y<m.length;y++)w=m[y],v=w.getChild(),v==null||v.getNodes().length==0?w.scatter():(this.positionNodesRandomly(v),w.updateBounds())},p.prototype.getFlatForest=function(){for(var g=[],w=!0,v=this.graphManager.getRoot().getNodes(),m=!0,y=0;y<v.length;y++)v[y].getChild()!=null&&(m=!1);if(!m)return g;var E=new Set,T=[],C=new Map,b=[];for(b=b.concat(v);b.length>0&&w;){for(T.push(b[0]);T.length>0&&w;){var k=T[0];T.splice(0,1),E.add(k);for(var S=k.getEdges(),y=0;y<S.length;y++){var O=S[y].getOtherEnd(k);if(C.get(k)!=O)if(!E.has(O))T.push(O),C.set(O,k);else{w=!1;break}}}if(!w)g=[];else{var N=[].concat(o(E));g.push(N);for(var y=0;y<N.length;y++){var D=N[y],I=b.indexOf(D);I>-1&&b.splice(I,1)}E=new Set,C=new Map}}return g},p.prototype.createDummyNodesForBendpoints=function(g){for(var w=[],v=g.source,m=this.graphManager.calcLowestCommonAncestor(g.source,g.target),y=0;y<g.bendpoints.length;y++){var E=this.newNode(null);E.setRect(new Point(0,0),new Dimension(1,1)),m.add(E);var T=this.newEdge(null);this.graphManager.add(T,v,E),w.add(E),v=E}var T=this.newEdge(null);return this.graphManager.add(T,v,g.target),this.edgeToDummyNodes.set(g,w),g.isInterGraph()?this.graphManager.remove(g):m.remove(g),w},p.prototype.createBendpointsFromDummyNodes=function(){var g=[];g=g.concat(this.graphManager.getAllEdges()),g=[].concat(o(this.edgeToDummyNodes.keys())).concat(g);for(var w=0;w<g.length;w++){var v=g[w];if(v.bendpoints.length>0){for(var m=this.edgeToDummyNodes.get(v),y=0;y<m.length;y++){var E=m[y],T=new c(E.getCenterX(),E.getCenterY()),C=v.bendpoints.get(y);C.x=T.x,C.y=T.y,E.getOwner().remove(E)}this.graphManager.add(v,v.source,v.target)}}},p.transform=function(g,w,v,m){if(v!=null&&m!=null){var y=w;if(g<=50){var E=w/v;y-=(w-E)/50*(50-g)}else{var T=w*m;y+=(T-w)/50*(g-50)}return y}else{var C,b;return g<=50?(C=9*w/500,b=w/10):(C=9*w/50,b=-8*w),C*g+b}},p.findCenterOfTree=function(g){var w=[];w=w.concat(g);var v=[],m=new Map,y=!1,E=null;(w.length==1||w.length==2)&&(y=!0,E=w[0]);for(var T=0;T<w.length;T++){var C=w[T],b=C.getNeighborsList().size;m.set(C,C.getNeighborsList().size),b==1&&v.push(C)}var k=[];for(k=k.concat(v);!y;){var S=[];S=S.concat(k),k=[];for(var T=0;T<w.length;T++){var C=w[T],O=w.indexOf(C);O>=0&&w.splice(O,1);var N=C.getNeighborsList();N.forEach(function(x){if(v.indexOf(x)<0){var P=m.get(x),L=P-1;L==1&&k.push(x),m.set(x,L)}})}v=v.concat(k),(w.length==1||w.length==2)&&(y=!0,E=w[0])}return E},p.prototype.setGraphManager=function(g){this.graphManager=g},r.exports=p},function(r,n,i){function o(){}o.seed=1,o.x=0,o.nextDouble=function(){return o.x=Math.sin(o.seed++)*1e4,o.x-Math.floor(o.x)},r.exports=o},function(r,n,i){var o=i(5);function a(s,u){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}a.prototype.getWorldOrgX=function(){return this.lworldOrgX},a.prototype.setWorldOrgX=function(s){this.lworldOrgX=s},a.prototype.getWorldOrgY=function(){return this.lworldOrgY},a.prototype.setWorldOrgY=function(s){this.lworldOrgY=s},a.prototype.getWorldExtX=function(){return this.lworldExtX},a.prototype.setWorldExtX=function(s){this.lworldExtX=s},a.prototype.getWorldExtY=function(){return this.lworldExtY},a.prototype.setWorldExtY=function(s){this.lworldExtY=s},a.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},a.prototype.setDeviceOrgX=function(s){this.ldeviceOrgX=s},a.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},a.prototype.setDeviceOrgY=function(s){this.ldeviceOrgY=s},a.prototype.getDeviceExtX=function(){return this.ldeviceExtX},a.prototype.setDeviceExtX=function(s){this.ldeviceExtX=s},a.prototype.getDeviceExtY=function(){return this.ldeviceExtY},a.prototype.setDeviceExtY=function(s){this.ldeviceExtY=s},a.prototype.transformX=function(s){var u=0,l=this.lworldExtX;return l!=0&&(u=this.ldeviceOrgX+(s-this.lworldOrgX)*this.ldeviceExtX/l),u},a.prototype.transformY=function(s){var u=0,l=this.lworldExtY;return l!=0&&(u=this.ldeviceOrgY+(s-this.lworldOrgY)*this.ldeviceExtY/l),u},a.prototype.inverseTransformX=function(s){var u=0,l=this.ldeviceExtX;return l!=0&&(u=this.lworldOrgX+(s-this.ldeviceOrgX)*this.lworldExtX/l),u},a.prototype.inverseTransformY=function(s){var u=0,l=this.ldeviceExtY;return l!=0&&(u=this.lworldOrgY+(s-this.ldeviceOrgY)*this.lworldExtY/l),u},a.prototype.inverseTransformPoint=function(s){var u=new o(this.inverseTransformX(s.x),this.inverseTransformY(s.y));return u},r.exports=a},function(r,n,i){function o(d){if(Array.isArray(d)){for(var p=0,g=Array(d.length);p<d.length;p++)g[p]=d[p];return g}else return Array.from(d)}var a=i(15),s=i(4),u=i(0),l=i(8),f=i(9);function c(){a.call(this),this.useSmartIdealEdgeLengthCalculation=s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=s.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=s.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=s.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*s.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=s.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=s.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=s.MAX_ITERATIONS}c.prototype=Object.create(a.prototype);for(var h in a)c[h]=a[h];c.prototype.initParameters=function(){a.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=s.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},c.prototype.calcIdealEdgeLengths=function(){for(var d,p,g,w,v,m,y,E=this.getGraphManager().getAllEdges(),T=0;T<E.length;T++)d=E[T],p=d.idealLength,d.isInterGraph&&(w=d.getSource(),v=d.getTarget(),m=d.getSourceInLca().getEstimatedSize(),y=d.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(d.idealLength+=m+y-2*u.SIMPLE_NODE_SIZE),g=d.getLca().getInclusionTreeDepth(),d.idealLength+=p*s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(w.getInclusionTreeDepth()+v.getInclusionTreeDepth()-2*g))},c.prototype.initSpringEmbedder=function(){var d=this.getAllNodes().length;this.incremental?(d>s.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*s.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(d-s.ADAPTATION_LOWER_NODE_LIMIT)/(s.ADAPTATION_UPPER_NODE_LIMIT-s.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-s.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=s.MAX_NODE_DISPLACEMENT_INCREMENTAL):(d>s.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(s.COOLING_ADAPTATION_FACTOR,1-(d-s.ADAPTATION_LOWER_NODE_LIMIT)/(s.ADAPTATION_UPPER_NODE_LIMIT-s.ADAPTATION_LOWER_NODE_LIMIT)*(1-s.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=s.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.displacementThresholdPerNode=3*s.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},c.prototype.calcSpringForces=function(){for(var d=this.getAllEdges(),p,g=0;g<d.length;g++)p=d[g],this.calcSpringForce(p,p.idealLength)},c.prototype.calcRepulsionForces=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g,w,v,m,y=this.getAllNodes(),E;if(this.useFRGridVariant)for(this.totalIterations%s.GRID_CALCULATION_CHECK_PERIOD==1&&d&&this.updateGrid(),E=new Set,g=0;g<y.length;g++)v=y[g],this.calculateRepulsionForceOfANode(v,E,d,p),E.add(v);else for(g=0;g<y.length;g++)for(v=y[g],w=g+1;w<y.length;w++)m=y[w],v.getOwner()==m.getOwner()&&this.calcRepulsionForce(v,m)},c.prototype.calcGravitationalForces=function(){for(var d,p=this.getAllNodesToApplyGravitation(),g=0;g<p.length;g++)d=p[g],this.calcGravitationalForce(d)},c.prototype.moveNodes=function(){for(var d=this.getAllNodes(),p,g=0;g<d.length;g++)p=d[g],p.move()},c.prototype.calcSpringForce=function(d,p){var g=d.getSource(),w=d.getTarget(),v,m,y,E;if(this.uniformLeafNodeSizes&&g.getChild()==null&&w.getChild()==null)d.updateLengthSimple();else if(d.updateLength(),d.isOverlapingSourceAndTarget)return;v=d.getLength(),v!=0&&(m=d.edgeElasticity*(v-p),y=m*(d.lengthX/v),E=m*(d.lengthY/v),g.springForceX+=y,g.springForceY+=E,w.springForceX-=y,w.springForceY-=E)},c.prototype.calcRepulsionForce=function(d,p){var g=d.getRect(),w=p.getRect(),v=new Array(2),m=new Array(4),y,E,T,C,b,k,S;if(g.intersects(w)){l.calcSeparationAmount(g,w,v,s.DEFAULT_EDGE_LENGTH/2),k=2*v[0],S=2*v[1];var O=d.noOfChildren*p.noOfChildren/(d.noOfChildren+p.noOfChildren);d.repulsionForceX-=O*k,d.repulsionForceY-=O*S,p.repulsionForceX+=O*k,p.repulsionForceY+=O*S}else this.uniformLeafNodeSizes&&d.getChild()==null&&p.getChild()==null?(y=w.getCenterX()-g.getCenterX(),E=w.getCenterY()-g.getCenterY()):(l.getIntersection(g,w,m),y=m[2]-m[0],E=m[3]-m[1]),Math.abs(y)<s.MIN_REPULSION_DIST&&(y=f.sign(y)*s.MIN_REPULSION_DIST),Math.abs(E)<s.MIN_REPULSION_DIST&&(E=f.sign(E)*s.MIN_REPULSION_DIST),T=y*y+E*E,C=Math.sqrt(T),b=(d.nodeRepulsion/2+p.nodeRepulsion/2)*d.noOfChildren*p.noOfChildren/T,k=b*y/C,S=b*E/C,d.repulsionForceX-=k,d.repulsionForceY-=S,p.repulsionForceX+=k,p.repulsionForceY+=S},c.prototype.calcGravitationalForce=function(d){var p,g,w,v,m,y,E,T;p=d.getOwner(),g=(p.getRight()+p.getLeft())/2,w=(p.getTop()+p.getBottom())/2,v=d.getCenterX()-g,m=d.getCenterY()-w,y=Math.abs(v)+d.getWidth()/2,E=Math.abs(m)+d.getHeight()/2,d.getOwner()==this.graphManager.getRoot()?(T=p.getEstimatedSize()*this.gravityRangeFactor,(y>T||E>T)&&(d.gravitationForceX=-this.gravityConstant*v,d.gravitationForceY=-this.gravityConstant*m)):(T=p.getEstimatedSize()*this.compoundGravityRangeFactor,(y>T||E>T)&&(d.gravitationForceX=-this.gravityConstant*v*this.compoundGravityConstant,d.gravitationForceY=-this.gravityConstant*m*this.compoundGravityConstant))},c.prototype.isConverged=function(){var d,p=!1;return this.totalIterations>this.maxIterations/3&&(p=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),d=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,d||p},c.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},c.prototype.calcNoOfChildrenForAllNodes=function(){for(var d,p=this.graphManager.getAllNodes(),g=0;g<p.length;g++)d=p[g],d.noOfChildren=d.getNoOfChildren()},c.prototype.calcGrid=function(d){var p=0,g=0;p=parseInt(Math.ceil((d.getRight()-d.getLeft())/this.repulsionRange)),g=parseInt(Math.ceil((d.getBottom()-d.getTop())/this.repulsionRange));for(var w=new Array(p),v=0;v<p;v++)w[v]=new Array(g);for(var v=0;v<p;v++)for(var m=0;m<g;m++)w[v][m]=new Array;return w},c.prototype.addNodeToGrid=function(d,p,g){var w=0,v=0,m=0,y=0;w=parseInt(Math.floor((d.getRect().x-p)/this.repulsionRange)),v=parseInt(Math.floor((d.getRect().width+d.getRect().x-p)/this.repulsionRange)),m=parseInt(Math.floor((d.getRect().y-g)/this.repulsionRange)),y=parseInt(Math.floor((d.getRect().height+d.getRect().y-g)/this.repulsionRange));for(var E=w;E<=v;E++)for(var T=m;T<=y;T++)this.grid[E][T].push(d),d.setGridCoordinates(w,v,m,y)},c.prototype.updateGrid=function(){var d,p,g=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),d=0;d<g.length;d++)p=g[d],this.addNodeToGrid(p,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},c.prototype.calculateRepulsionForceOfANode=function(d,p,g,w){if(this.totalIterations%s.GRID_CALCULATION_CHECK_PERIOD==1&&g||w){var v=new Set;d.surrounding=new Array;for(var m,y=this.grid,E=d.startX-1;E<d.finishX+2;E++)for(var T=d.startY-1;T<d.finishY+2;T++)if(!(E<0||T<0||E>=y.length||T>=y[0].length)){for(var C=0;C<y[E][T].length;C++)if(m=y[E][T][C],!(d.getOwner()!=m.getOwner()||d==m)&&!p.has(m)&&!v.has(m)){var b=Math.abs(d.getCenterX()-m.getCenterX())-(d.getWidth()/2+m.getWidth()/2),k=Math.abs(d.getCenterY()-m.getCenterY())-(d.getHeight()/2+m.getHeight()/2);b<=this.repulsionRange&&k<=this.repulsionRange&&v.add(m)}}d.surrounding=[].concat(o(v))}for(E=0;E<d.surrounding.length;E++)this.calcRepulsionForce(d,d.surrounding[E])},c.prototype.calcRepulsionRange=function(){return 0},r.exports=c},function(r,n,i){var o=i(1),a=i(4);function s(l,f,c){o.call(this,l,f,c),this.idealLength=a.DEFAULT_EDGE_LENGTH,this.edgeElasticity=a.DEFAULT_SPRING_STRENGTH}s.prototype=Object.create(o.prototype);for(var u in o)s[u]=o[u];r.exports=s},function(r,n,i){var o=i(3),a=i(4);function s(l,f,c,h){o.call(this,l,f,c,h),this.nodeRepulsion=a.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}s.prototype=Object.create(o.prototype);for(var u in o)s[u]=o[u];s.prototype.setGridCoordinates=function(l,f,c,h){this.startX=l,this.finishX=f,this.startY=c,this.finishY=h},r.exports=s},function(r,n,i){function o(a,s){this.width=0,this.height=0,a!==null&&s!==null&&(this.height=s,this.width=a)}o.prototype.getWidth=function(){return this.width},o.prototype.setWidth=function(a){this.width=a},o.prototype.getHeight=function(){return this.height},o.prototype.setHeight=function(a){this.height=a},r.exports=o},function(r,n,i){var o=i(14);function a(){this.map={},this.keys=[]}a.prototype.put=function(s,u){var l=o.createID(s);this.contains(l)||(this.map[l]=u,this.keys.push(s))},a.prototype.contains=function(s){return o.createID(s),this.map[s]!=null},a.prototype.get=function(s){var u=o.createID(s);return this.map[u]},a.prototype.keySet=function(){return this.keys},r.exports=a},function(r,n,i){var o=i(14);function a(){this.set={}}a.prototype.add=function(s){var u=o.createID(s);this.contains(u)||(this.set[u]=s)},a.prototype.remove=function(s){delete this.set[o.createID(s)]},a.prototype.clear=function(){this.set={}},a.prototype.contains=function(s){return this.set[o.createID(s)]==s},a.prototype.isEmpty=function(){return this.size()===0},a.prototype.size=function(){return Object.keys(this.set).length},a.prototype.addAllTo=function(s){for(var u=Object.keys(this.set),l=u.length,f=0;f<l;f++)s.push(this.set[u[f]])},a.prototype.size=function(){return Object.keys(this.set).length},a.prototype.addAll=function(s){for(var u=s.length,l=0;l<u;l++){var f=s[l];this.add(f)}},r.exports=a},function(r,n,i){function o(){}o.multMat=function(a,s){for(var u=[],l=0;l<a.length;l++){u[l]=[];for(var f=0;f<s[0].length;f++){u[l][f]=0;for(var c=0;c<a[0].length;c++)u[l][f]+=a[l][c]*s[c][f]}}return u},o.transpose=function(a){for(var s=[],u=0;u<a[0].length;u++){s[u]=[];for(var l=0;l<a.length;l++)s[u][l]=a[l][u]}return s},o.multCons=function(a,s){for(var u=[],l=0;l<a.length;l++)u[l]=a[l]*s;return u},o.minusOp=function(a,s){for(var u=[],l=0;l<a.length;l++)u[l]=a[l]-s[l];return u},o.dotProduct=function(a,s){for(var u=0,l=0;l<a.length;l++)u+=a[l]*s[l];return u},o.mag=function(a){return Math.sqrt(this.dotProduct(a,a))},o.normalize=function(a){for(var s=[],u=this.mag(a),l=0;l<a.length;l++)s[l]=a[l]/u;return s},o.multGamma=function(a){for(var s=[],u=0,l=0;l<a.length;l++)u+=a[l];u*=-1/a.length;for(var f=0;f<a.length;f++)s[f]=u+a[f];return s},o.multL=function(a,s,u){for(var l=[],f=[],c=[],h=0;h<s[0].length;h++){for(var d=0,p=0;p<s.length;p++)d+=-.5*s[p][h]*a[p];f[h]=d}for(var g=0;g<u.length;g++){for(var w=0,v=0;v<u.length;v++)w+=u[g][v]*f[v];c[g]=w}for(var m=0;m<s.length;m++){for(var y=0,E=0;E<s[0].length;E++)y+=s[m][E]*c[E];l[m]=y}return l},r.exports=o},function(r,n,i){var o=function(){function l(f,c){for(var h=0;h<c.length;h++){var d=c[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}return function(f,c,h){return c&&l(f.prototype,c),h&&l(f,h),f}}();function a(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}var s=i(11),u=function(){function l(f,c){a(this,l),(c!==null||c!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var h=void 0;f instanceof s?h=f.size():h=f.length,this._quicksort(f,0,h-1)}return o(l,[{key:"_quicksort",value:function(c,h,d){if(h<d){var p=this._partition(c,h,d);this._quicksort(c,h,p),this._quicksort(c,p+1,d)}}},{key:"_partition",value:function(c,h,d){for(var p=this._get(c,h),g=h,w=d;;){for(;this.compareFunction(p,this._get(c,w));)w--;for(;this.compareFunction(this._get(c,g),p);)g++;if(g<w)this._swap(c,g,w),g++,w--;else return w}}},{key:"_get",value:function(c,h){return c instanceof s?c.get_object_at(h):c[h]}},{key:"_set",value:function(c,h,d){c instanceof s?c.set_object_at(h,d):c[h]=d}},{key:"_swap",value:function(c,h,d){var p=this._get(c,h);this._set(c,h,this._get(c,d)),this._set(c,d,p)}},{key:"_defaultCompareFunction",value:function(c,h){return h>c}}]),l}();r.exports=u},function(r,n,i){function o(){}o.svd=function(a){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=a.length,this.n=a[0].length;var s=Math.min(this.m,this.n);this.s=function(ot){for(var dt=[];ot-- >0;)dt.push(0);return dt}(Math.min(this.m+1,this.n)),this.U=function(ot){var dt=function Bt(nr){if(nr.length==0)return 0;for(var Zt=[],Qt=0;Qt<nr[0];Qt++)Zt.push(Bt(nr.slice(1)));return Zt};return dt(ot)}([this.m,s]),this.V=function(ot){var dt=function Bt(nr){if(nr.length==0)return 0;for(var Zt=[],Qt=0;Qt<nr[0];Qt++)Zt.push(Bt(nr.slice(1)));return Zt};return dt(ot)}([this.n,this.n]);for(var u=function(ot){for(var dt=[];ot-- >0;)dt.push(0);return dt}(this.n),l=function(ot){for(var dt=[];ot-- >0;)dt.push(0);return dt}(this.m),f=!0,c=Math.min(this.m-1,this.n),h=Math.max(0,Math.min(this.n-2,this.m)),d=0;d<Math.max(c,h);d++){if(d<c){this.s[d]=0;for(var p=d;p<this.m;p++)this.s[d]=o.hypot(this.s[d],a[p][d]);if(this.s[d]!==0){a[d][d]<0&&(this.s[d]=-this.s[d]);for(var g=d;g<this.m;g++)a[g][d]/=this.s[d];a[d][d]+=1}this.s[d]=-this.s[d]}for(var w=d+1;w<this.n;w++){if(function(ot,dt){return ot&&dt}(d<c,this.s[d]!==0)){for(var v=0,m=d;m<this.m;m++)v+=a[m][d]*a[m][w];v=-v/a[d][d];for(var y=d;y<this.m;y++)a[y][w]+=v*a[y][d]}u[w]=a[d][w]}if(function(ot,dt){return ot&&dt}(f,d<c))for(var E=d;E<this.m;E++)this.U[E][d]=a[E][d];if(d<h){u[d]=0;for(var T=d+1;T<this.n;T++)u[d]=o.hypot(u[d],u[T]);if(u[d]!==0){u[d+1]<0&&(u[d]=-u[d]);for(var C=d+1;C<this.n;C++)u[C]/=u[d];u[d+1]+=1}if(u[d]=-u[d],function(ot,dt){return ot&&dt}(d+1<this.m,u[d]!==0)){for(var b=d+1;b<this.m;b++)l[b]=0;for(var k=d+1;k<this.n;k++)for(var S=d+1;S<this.m;S++)l[S]+=u[k]*a[S][k];for(var O=d+1;O<this.n;O++)for(var N=-u[O]/u[d+1],D=d+1;D<this.m;D++)a[D][O]+=N*l[D]}for(var I=d+1;I<this.n;I++)this.V[I][d]=u[I]}}var x=Math.min(this.n,this.m+1);c<this.n&&(this.s[c]=a[c][c]),this.m<x&&(this.s[x-1]=0),h+1<x&&(u[h]=a[h][x-1]),u[x-1]=0;{for(var P=c;P<s;P++){for(var L=0;L<this.m;L++)this.U[L][P]=0;this.U[P][P]=1}for(var M=c-1;M>=0;M--)if(this.s[M]!==0){for(var R=M+1;R<s;R++){for(var V=0,U=M;U<this.m;U++)V+=this.U[U][M]*this.U[U][R];V=-V/this.U[M][M];for(var q=M;q<this.m;q++)this.U[q][R]+=V*this.U[q][M]}for(var $=M;$<this.m;$++)this.U[$][M]=-this.U[$][M];this.U[M][M]=1+this.U[M][M];for(var X=0;X<M-1;X++)this.U[X][M]=0}else{for(var B=0;B<this.m;B++)this.U[B][M]=0;this.U[M][M]=1}}for(var H=this.n-1;H>=0;H--){if(function(ot,dt){return ot&&dt}(H<h,u[H]!==0))for(var j=H+1;j<s;j++){for(var K=0,te=H+1;te<this.n;te++)K+=this.V[te][H]*this.V[te][j];K=-K/this.V[H+1][H];for(var re=H+1;re<this.n;re++)this.V[re][j]+=K*this.V[re][H]}for(var ue=0;ue<this.n;ue++)this.V[ue][H]=0;this.V[H][H]=1}for(var se=x-1,de=Math.pow(2,-52),be=Math.pow(2,-966);x>0;){var z=void 0,ae=void 0;for(z=x-2;z>=-1&&z!==-1;z--)if(Math.abs(u[z])<=be+de*(Math.abs(this.s[z])+Math.abs(this.s[z+1]))){u[z]=0;break}if(z===x-2)ae=4;else{var Z=void 0;for(Z=x-1;Z>=z&&Z!==z;Z--){var W=(Z!==x?Math.abs(u[Z]):0)+(Z!==z+1?Math.abs(u[Z-1]):0);if(Math.abs(this.s[Z])<=be+de*W){this.s[Z]=0;break}}Z===z?ae=3:Z===x-1?ae=1:(ae=2,z=Z)}switch(z++,ae){case 1:{var Y=u[x-2];u[x-2]=0;for(var ie=x-2;ie>=z;ie--){var ve=o.hypot(this.s[ie],Y),me=this.s[ie]/ve,fe=Y/ve;this.s[ie]=ve,ie!==z&&(Y=-fe*u[ie-1],u[ie-1]=me*u[ie-1]);for(var le=0;le<this.n;le++)ve=me*this.V[le][ie]+fe*this.V[le][x-1],this.V[le][x-1]=-fe*this.V[le][ie]+me*this.V[le][x-1],this.V[le][ie]=ve}}break;case 2:{var ee=u[z-1];u[z-1]=0;for(var oe=z;oe<x;oe++){var ge=o.hypot(this.s[oe],ee),_e=this.s[oe]/ge,we=ee/ge;this.s[oe]=ge,ee=-we*u[oe],u[oe]=_e*u[oe];for(var ze=0;ze<this.m;ze++)ge=_e*this.U[ze][oe]+we*this.U[ze][z-1],this.U[ze][z-1]=-we*this.U[ze][oe]+_e*this.U[ze][z-1],this.U[ze][oe]=ge}}break;case 3:{var Me=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[x-1]),Math.abs(this.s[x-2])),Math.abs(u[x-2])),Math.abs(this.s[z])),Math.abs(u[z])),Re=this.s[x-1]/Me,Ce=this.s[x-2]/Me,Ee=u[x-2]/Me,Se=this.s[z]/Me,Ne=u[z]/Me,ke=((Ce+Re)*(Ce-Re)+Ee*Ee)/2,Fe=Re*Ee*(Re*Ee),Ze=0;(function(ot,dt){return ot||dt})(ke!==0,Fe!==0)&&(Ze=Math.sqrt(ke*ke+Fe),ke<0&&(Ze=-Ze),Ze=Fe/(ke+Ze));for(var Ye=(Se+Re)*(Se-Re)+Ze,Ge=Se*Ne,Be=z;Be<x-1;Be++){var Qe=o.hypot(Ye,Ge),pt=Ye/Qe,at=Ge/Qe;Be!==z&&(u[Be-1]=Qe),Ye=pt*this.s[Be]+at*u[Be],u[Be]=pt*u[Be]-at*this.s[Be],Ge=at*this.s[Be+1],this.s[Be+1]=pt*this.s[Be+1];for(var yt=0;yt<this.n;yt++)Qe=pt*this.V[yt][Be]+at*this.V[yt][Be+1],this.V[yt][Be+1]=-at*this.V[yt][Be]+pt*this.V[yt][Be+1],this.V[yt][Be]=Qe;if(Qe=o.hypot(Ye,Ge),pt=Ye/Qe,at=Ge/Qe,this.s[Be]=Qe,Ye=pt*u[Be]+at*this.s[Be+1],this.s[Be+1]=-at*u[Be]+pt*this.s[Be+1],Ge=at*u[Be+1],u[Be+1]=pt*u[Be+1],Be<this.m-1)for(var Je=0;Je<this.m;Je++)Qe=pt*this.U[Je][Be]+at*this.U[Je][Be+1],this.U[Je][Be+1]=-at*this.U[Je][Be]+pt*this.U[Je][Be+1],this.U[Je][Be]=Qe}u[x-2]=Ye}break;case 4:{if(this.s[z]<=0){this.s[z]=this.s[z]<0?-this.s[z]:0;for(var rt=0;rt<=se;rt++)this.V[rt][z]=-this.V[rt][z]}for(;z<se&&!(this.s[z]>=this.s[z+1]);){var _t=this.s[z];if(this.s[z]=this.s[z+1],this.s[z+1]=_t,z<this.n-1)for(var ut=0;ut<this.n;ut++)_t=this.V[ut][z+1],this.V[ut][z+1]=this.V[ut][z],this.V[ut][z]=_t;if(z<this.m-1)for(var lt=0;lt<this.m;lt++)_t=this.U[lt][z+1],this.U[lt][z+1]=this.U[lt][z],this.U[lt][z]=_t;z++}x--}break}}var Ht={U:this.U,V:this.V,S:this.s};return Ht},o.hypot=function(a,s){var u=void 0;return Math.abs(a)>Math.abs(s)?(u=s/a,u=Math.abs(a)*Math.sqrt(1+u*u)):s!=0?(u=a/s,u=Math.abs(s)*Math.sqrt(1+u*u)):u=0,u},r.exports=o},function(r,n,i){var o=function(){function u(l,f){for(var c=0;c<f.length;c++){var h=f[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(l,f,c){return f&&u(l.prototype,f),c&&u(l,c),l}}();function a(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function(){function u(l,f){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;a(this,u),this.sequence1=l,this.sequence2=f,this.match_score=c,this.mismatch_penalty=h,this.gap_penalty=d,this.iMax=l.length+1,this.jMax=f.length+1,this.grid=new Array(this.iMax);for(var p=0;p<this.iMax;p++){this.grid[p]=new Array(this.jMax);for(var g=0;g<this.jMax;g++)this.grid[p][g]=0}this.tracebackGrid=new Array(this.iMax);for(var w=0;w<this.iMax;w++){this.tracebackGrid[w]=new Array(this.jMax);for(var v=0;v<this.jMax;v++)this.tracebackGrid[w][v]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return o(u,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var f=1;f<this.jMax;f++)this.grid[0][f]=this.grid[0][f-1]+this.gap_penalty,this.tracebackGrid[0][f]=[!1,!1,!0];for(var c=1;c<this.iMax;c++)this.grid[c][0]=this.grid[c-1][0]+this.gap_penalty,this.tracebackGrid[c][0]=[!1,!0,!1];for(var h=1;h<this.iMax;h++)for(var d=1;d<this.jMax;d++){var p=void 0;this.sequence1[h-1]===this.sequence2[d-1]?p=this.grid[h-1][d-1]+this.match_score:p=this.grid[h-1][d-1]+this.mismatch_penalty;var g=this.grid[h-1][d]+this.gap_penalty,w=this.grid[h][d-1]+this.gap_penalty,v=[p,g,w],m=this.arrayAllMaxIndexes(v);this.grid[h][d]=v[m[0]],this.tracebackGrid[h][d]=[m.includes(0),m.includes(1),m.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var f=[];for(f.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});f[0];){var c=f[0],h=this.tracebackGrid[c.pos[0]][c.pos[1]];h[0]&&f.push({pos:[c.pos[0]-1,c.pos[1]-1],seq1:this.sequence1[c.pos[0]-1]+c.seq1,seq2:this.sequence2[c.pos[1]-1]+c.seq2}),h[1]&&f.push({pos:[c.pos[0]-1,c.pos[1]],seq1:this.sequence1[c.pos[0]-1]+c.seq1,seq2:"-"+c.seq2}),h[2]&&f.push({pos:[c.pos[0],c.pos[1]-1],seq1:"-"+c.seq1,seq2:this.sequence2[c.pos[1]-1]+c.seq2}),c.pos[0]===0&&c.pos[1]===0&&this.alignments.push({sequence1:c.seq1,sequence2:c.seq2}),f.shift()}return this.alignments}},{key:"getAllIndexes",value:function(f,c){for(var h=[],d=-1;(d=f.indexOf(c,d+1))!==-1;)h.push(d);return h}},{key:"arrayAllMaxIndexes",value:function(f){return this.getAllIndexes(f,Math.max.apply(null,f))}}]),u}();r.exports=s},function(r,n,i){var o=function(){};o.FDLayout=i(18),o.FDLayoutConstants=i(4),o.FDLayoutEdge=i(19),o.FDLayoutNode=i(20),o.DimensionD=i(21),o.HashMap=i(22),o.HashSet=i(23),o.IGeometry=i(8),o.IMath=i(9),o.Integer=i(10),o.Point=i(12),o.PointD=i(5),o.RandomSeed=i(16),o.RectangleD=i(13),o.Transform=i(17),o.UniqueIDGeneretor=i(14),o.Quicksort=i(25),o.LinkedList=i(11),o.LGraphObject=i(2),o.LGraph=i(6),o.LEdge=i(1),o.LGraphManager=i(7),o.LNode=i(3),o.Layout=i(15),o.LayoutConstants=i(0),o.NeedlemanWunsch=i(27),o.Matrix=i(24),o.SVD=i(26),r.exports=o},function(r,n,i){function o(){this.listeners=[]}var a=o.prototype;a.addListener=function(s,u){this.listeners.push({event:s,callback:u})},a.removeListener=function(s,u){for(var l=this.listeners.length;l>=0;l--){var f=this.listeners[l];f.event===s&&f.callback===u&&this.listeners.splice(l,1)}},a.emit=function(s,u){for(var l=0;l<this.listeners.length;l++){var f=this.listeners[l];s===f.event&&f.callback(u)}},r.exports=o}])})}(bd)),bd.exports}var u1;function ER(){return u1||(u1=1,function(t,e){(function(n,i){t.exports=i(wR())})(It,function(r){return(()=>{var n={45:(s,u,l)=>{var f={};f.layoutBase=l(551),f.CoSEConstants=l(806),f.CoSEEdge=l(767),f.CoSEGraph=l(880),f.CoSEGraphManager=l(578),f.CoSELayout=l(765),f.CoSENode=l(991),f.ConstraintHandler=l(902),s.exports=f},806:(s,u,l)=>{var f=l(551).FDLayoutConstants;function c(){}for(var h in f)c[h]=f[h];c.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,c.DEFAULT_RADIAL_SEPARATION=f.DEFAULT_EDGE_LENGTH,c.DEFAULT_COMPONENT_SEPERATION=60,c.TILE=!0,c.TILING_PADDING_VERTICAL=10,c.TILING_PADDING_HORIZONTAL=10,c.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,c.ENFORCE_CONSTRAINTS=!0,c.APPLY_LAYOUT=!0,c.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,c.TREE_REDUCTION_ON_INCREMENTAL=!0,c.PURE_INCREMENTAL=c.DEFAULT_INCREMENTAL,s.exports=c},767:(s,u,l)=>{var f=l(551).FDLayoutEdge;function c(d,p,g){f.call(this,d,p,g)}c.prototype=Object.create(f.prototype);for(var h in f)c[h]=f[h];s.exports=c},880:(s,u,l)=>{var f=l(551).LGraph;function c(d,p,g){f.call(this,d,p,g)}c.prototype=Object.create(f.prototype);for(var h in f)c[h]=f[h];s.exports=c},578:(s,u,l)=>{var f=l(551).LGraphManager;function c(d){f.call(this,d)}c.prototype=Object.create(f.prototype);for(var h in f)c[h]=f[h];s.exports=c},765:(s,u,l)=>{var f=l(551).FDLayout,c=l(578),h=l(880),d=l(991),p=l(767),g=l(806),w=l(902),v=l(551).FDLayoutConstants,m=l(551).LayoutConstants,y=l(551).Point,E=l(551).PointD,T=l(551).DimensionD,C=l(551).Layout,b=l(551).Integer,k=l(551).IGeometry,S=l(551).LGraph,O=l(551).Transform,N=l(551).LinkedList;function D(){f.call(this),this.toBeTiled={},this.constraints={}}D.prototype=Object.create(f.prototype);for(var I in f)D[I]=f[I];D.prototype.newGraphManager=function(){var x=new c(this);return this.graphManager=x,x},D.prototype.newGraph=function(x){return new h(null,this.graphManager,x)},D.prototype.newNode=function(x){return new d(this.graphManager,x)},D.prototype.newEdge=function(x){return new p(null,null,x)},D.prototype.initParameters=function(){f.prototype.initParameters.call(this,arguments),this.isSubLayout||(g.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=g.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=g.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=v.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=v.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=v.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=v.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},D.prototype.initSpringEmbedder=function(){f.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/v.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},D.prototype.layout=function(){var x=m.DEFAULT_CREATE_BENDS_AS_NEEDED;return x&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},D.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(g.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var P=new Set(this.getAllNodes()),L=this.nodesWithGravity.filter(function(V){return P.has(V)});this.graphManager.setAllNodesToApplyGravitation(L)}}else{var x=this.getFlatForest();if(x.length>0)this.positionNodesRadially(x);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var P=new Set(this.getAllNodes()),L=this.nodesWithGravity.filter(function(M){return P.has(M)});this.graphManager.setAllNodesToApplyGravitation(L),this.positionNodesRandomly()}}return Object.keys(this.constraints).length>0&&(w.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),g.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},D.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%v.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var x=new Set(this.getAllNodes()),P=this.nodesWithGravity.filter(function(R){return x.has(R)});this.graphManager.setAllNodesToApplyGravitation(P),this.graphManager.updateBounds(),this.updateGrid(),g.PURE_INCREMENTAL?this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),g.PURE_INCREMENTAL?this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var L=!this.isTreeGrowing&&!this.isGrowthFinished,M=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(L,M),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},D.prototype.getPositionsData=function(){for(var x=this.graphManager.getAllNodes(),P={},L=0;L<x.length;L++){var M=x[L].rect,R=x[L].id;P[R]={id:R,x:M.getCenterX(),y:M.getCenterY(),w:M.width,h:M.height}}return P},D.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var x=!1;if(v.ANIMATE==="during")this.emit("layoutstarted");else{for(;!x;)x=this.tick();this.graphManager.updateBounds()}},D.prototype.moveNodes=function(){for(var x=this.getAllNodes(),P,L=0;L<x.length;L++)P=x[L],P.calculateDisplacement();Object.keys(this.constraints).length>0&&this.updateDisplacements();for(var L=0;L<x.length;L++)P=x[L],P.move()},D.prototype.initConstraintVariables=function(){var x=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var P=this.graphManager.getAllNodes(),L=0;L<P.length;L++){var M=P[L];this.idToNodeMap.set(M.id,M)}var R=function re(ue){for(var se=ue.getChild().getNodes(),de,be=0,z=0;z<se.length;z++)de=se[z],de.getChild()==null?x.fixedNodeSet.has(de.id)&&(be+=100):be+=re(de);return be};if(this.constraints.fixedNodeConstraint){this.constraints.fixedNodeConstraint.forEach(function(se){x.fixedNodeSet.add(se.nodeId)});for(var P=this.graphManager.getAllNodes(),M,L=0;L<P.length;L++)if(M=P[L],M.getChild()!=null){var V=R(M);V>0&&(M.fixedNodeWeight=V)}}if(this.constraints.relativePlacementConstraint){var U=new Map,q=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function(re){x.fixedNodesOnHorizontal.add(re),x.fixedNodesOnVertical.add(re)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var $=this.constraints.alignmentConstraint.vertical,L=0;L<$.length;L++)this.dummyToNodeForVerticalAlignment.set("dummy"+L,[]),$[L].forEach(function(ue){U.set(ue,"dummy"+L),x.dummyToNodeForVerticalAlignment.get("dummy"+L).push(ue),x.fixedNodeSet.has(ue)&&x.fixedNodesOnHorizontal.add("dummy"+L)});if(this.constraints.alignmentConstraint.horizontal)for(var X=this.constraints.alignmentConstraint.horizontal,L=0;L<X.length;L++)this.dummyToNodeForHorizontalAlignment.set("dummy"+L,[]),X[L].forEach(function(ue){q.set(ue,"dummy"+L),x.dummyToNodeForHorizontalAlignment.get("dummy"+L).push(ue),x.fixedNodeSet.has(ue)&&x.fixedNodesOnVertical.add("dummy"+L)})}if(g.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(re){var ue,se,de;for(de=re.length-1;de>=2*re.length/3;de--)ue=Math.floor(Math.random()*(de+1)),se=re[de],re[de]=re[ue],re[ue]=se;return re},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function(re){if(re.left){var ue=U.has(re.left)?U.get(re.left):re.left,se=U.has(re.right)?U.get(re.right):re.right;x.nodesInRelativeHorizontal.includes(ue)||(x.nodesInRelativeHorizontal.push(ue),x.nodeToRelativeConstraintMapHorizontal.set(ue,[]),x.dummyToNodeForVerticalAlignment.has(ue)?x.nodeToTempPositionMapHorizontal.set(ue,x.idToNodeMap.get(x.dummyToNodeForVerticalAlignment.get(ue)[0]).getCenterX()):x.nodeToTempPositionMapHorizontal.set(ue,x.idToNodeMap.get(ue).getCenterX())),x.nodesInRelativeHorizontal.includes(se)||(x.nodesInRelativeHorizontal.push(se),x.nodeToRelativeConstraintMapHorizontal.set(se,[]),x.dummyToNodeForVerticalAlignment.has(se)?x.nodeToTempPositionMapHorizontal.set(se,x.idToNodeMap.get(x.dummyToNodeForVerticalAlignment.get(se)[0]).getCenterX()):x.nodeToTempPositionMapHorizontal.set(se,x.idToNodeMap.get(se).getCenterX())),x.nodeToRelativeConstraintMapHorizontal.get(ue).push({right:se,gap:re.gap}),x.nodeToRelativeConstraintMapHorizontal.get(se).push({left:ue,gap:re.gap})}else{var de=q.has(re.top)?q.get(re.top):re.top,be=q.has(re.bottom)?q.get(re.bottom):re.bottom;x.nodesInRelativeVertical.includes(de)||(x.nodesInRelativeVertical.push(de),x.nodeToRelativeConstraintMapVertical.set(de,[]),x.dummyToNodeForHorizontalAlignment.has(de)?x.nodeToTempPositionMapVertical.set(de,x.idToNodeMap.get(x.dummyToNodeForHorizontalAlignment.get(de)[0]).getCenterY()):x.nodeToTempPositionMapVertical.set(de,x.idToNodeMap.get(de).getCenterY())),x.nodesInRelativeVertical.includes(be)||(x.nodesInRelativeVertical.push(be),x.nodeToRelativeConstraintMapVertical.set(be,[]),x.dummyToNodeForHorizontalAlignment.has(be)?x.nodeToTempPositionMapVertical.set(be,x.idToNodeMap.get(x.dummyToNodeForHorizontalAlignment.get(be)[0]).getCenterY()):x.nodeToTempPositionMapVertical.set(be,x.idToNodeMap.get(be).getCenterY())),x.nodeToRelativeConstraintMapVertical.get(de).push({bottom:be,gap:re.gap}),x.nodeToRelativeConstraintMapVertical.get(be).push({top:de,gap:re.gap})}});else{var B=new Map,H=new Map;this.constraints.relativePlacementConstraint.forEach(function(re){if(re.left){var ue=U.has(re.left)?U.get(re.left):re.left,se=U.has(re.right)?U.get(re.right):re.right;B.has(ue)?B.get(ue).push(se):B.set(ue,[se]),B.has(se)?B.get(se).push(ue):B.set(se,[ue])}else{var de=q.has(re.top)?q.get(re.top):re.top,be=q.has(re.bottom)?q.get(re.bottom):re.bottom;H.has(de)?H.get(de).push(be):H.set(de,[be]),H.has(be)?H.get(be).push(de):H.set(be,[de])}});var j=function(ue,se){var de=[],be=[],z=new N,ae=new Set,Z=0;return ue.forEach(function(W,Y){if(!ae.has(Y)){de[Z]=[],be[Z]=!1;var ie=Y;for(z.push(ie),ae.add(ie),de[Z].push(ie);z.length!=0;){ie=z.shift(),se.has(ie)&&(be[Z]=!0);var ve=ue.get(ie);ve.forEach(function(me){ae.has(me)||(z.push(me),ae.add(me),de[Z].push(me))})}Z++}}),{components:de,isFixed:be}},K=j(B,x.fixedNodesOnHorizontal);this.componentsOnHorizontal=K.components,this.fixedComponentsOnHorizontal=K.isFixed;var te=j(H,x.fixedNodesOnVertical);this.componentsOnVertical=te.components,this.fixedComponentsOnVertical=te.isFixed}}},D.prototype.updateDisplacements=function(){var x=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(te){var re=x.idToNodeMap.get(te.nodeId);re.displacementX=0,re.displacementY=0}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var P=this.constraints.alignmentConstraint.vertical,L=0;L<P.length;L++){for(var M=0,R=0;R<P[L].length;R++){if(this.fixedNodeSet.has(P[L][R])){M=0;break}M+=this.idToNodeMap.get(P[L][R]).displacementX}for(var V=M/P[L].length,R=0;R<P[L].length;R++)this.idToNodeMap.get(P[L][R]).displacementX=V}if(this.constraints.alignmentConstraint.horizontal)for(var U=this.constraints.alignmentConstraint.horizontal,L=0;L<U.length;L++){for(var q=0,R=0;R<U[L].length;R++){if(this.fixedNodeSet.has(U[L][R])){q=0;break}q+=this.idToNodeMap.get(U[L][R]).displacementY}for(var $=q/U[L].length,R=0;R<U[L].length;R++)this.idToNodeMap.get(U[L][R]).displacementY=$}}if(this.constraints.relativePlacementConstraint)if(g.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach(function(te){if(!x.fixedNodesOnHorizontal.has(te)){var re=0;x.dummyToNodeForVerticalAlignment.has(te)?re=x.idToNodeMap.get(x.dummyToNodeForVerticalAlignment.get(te)[0]).displacementX:re=x.idToNodeMap.get(te).displacementX,x.nodeToRelativeConstraintMapHorizontal.get(te).forEach(function(ue){if(ue.right){var se=x.nodeToTempPositionMapHorizontal.get(ue.right)-x.nodeToTempPositionMapHorizontal.get(te)-re;se<ue.gap&&(re-=ue.gap-se)}else{var se=x.nodeToTempPositionMapHorizontal.get(te)-x.nodeToTempPositionMapHorizontal.get(ue.left)+re;se<ue.gap&&(re+=ue.gap-se)}}),x.nodeToTempPositionMapHorizontal.set(te,x.nodeToTempPositionMapHorizontal.get(te)+re),x.dummyToNodeForVerticalAlignment.has(te)?x.dummyToNodeForVerticalAlignment.get(te).forEach(function(ue){x.idToNodeMap.get(ue).displacementX=re}):x.idToNodeMap.get(te).displacementX=re}}),this.nodesInRelativeVertical.forEach(function(te){if(!x.fixedNodesOnHorizontal.has(te)){var re=0;x.dummyToNodeForHorizontalAlignment.has(te)?re=x.idToNodeMap.get(x.dummyToNodeForHorizontalAlignment.get(te)[0]).displacementY:re=x.idToNodeMap.get(te).displacementY,x.nodeToRelativeConstraintMapVertical.get(te).forEach(function(ue){if(ue.bottom){var se=x.nodeToTempPositionMapVertical.get(ue.bottom)-x.nodeToTempPositionMapVertical.get(te)-re;se<ue.gap&&(re-=ue.gap-se)}else{var se=x.nodeToTempPositionMapVertical.get(te)-x.nodeToTempPositionMapVertical.get(ue.top)+re;se<ue.gap&&(re+=ue.gap-se)}}),x.nodeToTempPositionMapVertical.set(te,x.nodeToTempPositionMapVertical.get(te)+re),x.dummyToNodeForHorizontalAlignment.has(te)?x.dummyToNodeForHorizontalAlignment.get(te).forEach(function(ue){x.idToNodeMap.get(ue).displacementY=re}):x.idToNodeMap.get(te).displacementY=re}});else{for(var L=0;L<this.componentsOnHorizontal.length;L++){var X=this.componentsOnHorizontal[L];if(this.fixedComponentsOnHorizontal[L])for(var R=0;R<X.length;R++)this.dummyToNodeForVerticalAlignment.has(X[R])?this.dummyToNodeForVerticalAlignment.get(X[R]).forEach(function(ue){x.idToNodeMap.get(ue).displacementX=0}):this.idToNodeMap.get(X[R]).displacementX=0;else{for(var B=0,H=0,R=0;R<X.length;R++)if(this.dummyToNodeForVerticalAlignment.has(X[R])){var j=this.dummyToNodeForVerticalAlignment.get(X[R]);B+=j.length*this.idToNodeMap.get(j[0]).displacementX,H+=j.length}else B+=this.idToNodeMap.get(X[R]).displacementX,H++;for(var K=B/H,R=0;R<X.length;R++)this.dummyToNodeForVerticalAlignment.has(X[R])?this.dummyToNodeForVerticalAlignment.get(X[R]).forEach(function(ue){x.idToNodeMap.get(ue).displacementX=K}):this.idToNodeMap.get(X[R]).displacementX=K}}for(var L=0;L<this.componentsOnVertical.length;L++){var X=this.componentsOnVertical[L];if(this.fixedComponentsOnVertical[L])for(var R=0;R<X.length;R++)this.dummyToNodeForHorizontalAlignment.has(X[R])?this.dummyToNodeForHorizontalAlignment.get(X[R]).forEach(function(se){x.idToNodeMap.get(se).displacementY=0}):this.idToNodeMap.get(X[R]).displacementY=0;else{for(var B=0,H=0,R=0;R<X.length;R++)if(this.dummyToNodeForHorizontalAlignment.has(X[R])){var j=this.dummyToNodeForHorizontalAlignment.get(X[R]);B+=j.length*this.idToNodeMap.get(j[0]).displacementY,H+=j.length}else B+=this.idToNodeMap.get(X[R]).displacementY,H++;for(var K=B/H,R=0;R<X.length;R++)this.dummyToNodeForHorizontalAlignment.has(X[R])?this.dummyToNodeForHorizontalAlignment.get(X[R]).forEach(function(z){x.idToNodeMap.get(z).displacementY=K}):this.idToNodeMap.get(X[R]).displacementY=K}}}},D.prototype.calculateNodesToApplyGravitationTo=function(){var x=[],P,L=this.graphManager.getGraphs(),M=L.length,R;for(R=0;R<M;R++)P=L[R],P.updateConnected(),P.isConnected||(x=x.concat(P.getNodes()));return x},D.prototype.createBendpoints=function(){var x=[];x=x.concat(this.graphManager.getAllEdges());var P=new Set,L;for(L=0;L<x.length;L++){var M=x[L];if(!P.has(M)){var R=M.getSource(),V=M.getTarget();if(R==V)M.getBendpoints().push(new E),M.getBendpoints().push(new E),this.createDummyNodesForBendpoints(M),P.add(M);else{var U=[];if(U=U.concat(R.getEdgeListToNode(V)),U=U.concat(V.getEdgeListToNode(R)),!P.has(U[0])){if(U.length>1){var q;for(q=0;q<U.length;q++){var $=U[q];$.getBendpoints().push(new E),this.createDummyNodesForBendpoints($)}}U.forEach(function(X){P.add(X)})}}}if(P.size==x.length)break}},D.prototype.positionNodesRadially=function(x){for(var P=new y(0,0),L=Math.ceil(Math.sqrt(x.length)),M=0,R=0,V=0,U=new E(0,0),q=0;q<x.length;q++){q%L==0&&(V=0,R=M,q!=0&&(R+=g.DEFAULT_COMPONENT_SEPERATION),M=0);var $=x[q],X=C.findCenterOfTree($);P.x=V,P.y=R,U=D.radialLayout($,X,P),U.y>M&&(M=Math.floor(U.y)),V=Math.floor(U.x+g.DEFAULT_COMPONENT_SEPERATION)}this.transform(new E(m.WORLD_CENTER_X-U.x/2,m.WORLD_CENTER_Y-U.y/2))},D.radialLayout=function(x,P,L){var M=Math.max(this.maxDiagonalInTree(x),g.DEFAULT_RADIAL_SEPARATION);D.branchRadialLayout(P,null,0,359,0,M);var R=S.calculateBounds(x),V=new O;V.setDeviceOrgX(R.getMinX()),V.setDeviceOrgY(R.getMinY()),V.setWorldOrgX(L.x),V.setWorldOrgY(L.y);for(var U=0;U<x.length;U++){var q=x[U];q.transform(V)}var $=new E(R.getMaxX(),R.getMaxY());return V.inverseTransformPoint($)},D.branchRadialLayout=function(x,P,L,M,R,V){var U=(M-L+1)/2;U<0&&(U+=180);var q=(U+L)%360,$=q*k.TWO_PI/360,X=R*Math.cos($),B=R*Math.sin($);x.setCenter(X,B);var H=[];H=H.concat(x.getEdges());var j=H.length;P!=null&&j--;for(var K=0,te=H.length,re,ue=x.getEdgesBetween(P);ue.length>1;){var se=ue[0];ue.splice(0,1);var de=H.indexOf(se);de>=0&&H.splice(de,1),te--,j--}P!=null?re=(H.indexOf(ue[0])+1)%te:re=0;for(var be=Math.abs(M-L)/j,z=re;K!=j;z=++z%te){var ae=H[z].getOtherEnd(x);if(ae!=P){var Z=(L+K*be)%360,W=(Z+be)%360;D.branchRadialLayout(ae,x,Z,W,R+V,V),K++}}},D.maxDiagonalInTree=function(x){for(var P=b.MIN_VALUE,L=0;L<x.length;L++){var M=x[L],R=M.getDiagonal();R>P&&(P=R)}return P},D.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},D.prototype.groupZeroDegreeMembers=function(){var x=this,P={};this.memberGroups={},this.idToDummyNode={};for(var L=[],M=this.graphManager.getAllNodes(),R=0;R<M.length;R++){var V=M[R],U=V.getParent();this.getNodeDegreeWithChildren(V)===0&&(U.id==null||!this.getToBeTiled(U))&&L.push(V)}for(var R=0;R<L.length;R++){var V=L[R],q=V.getParent().id;typeof P[q]>"u"&&(P[q]=[]),P[q]=P[q].concat(V)}Object.keys(P).forEach(function($){if(P[$].length>1){var X="DummyCompound_"+$;x.memberGroups[X]=P[$];var B=P[$][0].getParent(),H=new d(x.graphManager);H.id=X,H.paddingLeft=B.paddingLeft||0,H.paddingRight=B.paddingRight||0,H.paddingBottom=B.paddingBottom||0,H.paddingTop=B.paddingTop||0,x.idToDummyNode[X]=H;var j=x.getGraphManager().add(x.newGraph(),H),K=B.getChild();K.add(H);for(var te=0;te<P[$].length;te++){var re=P[$][te];K.remove(re),j.add(re)}}})},D.prototype.clearCompounds=function(){var x={},P={};this.performDFSOnCompounds();for(var L=0;L<this.compoundOrder.length;L++)P[this.compoundOrder[L].id]=this.compoundOrder[L],x[this.compoundOrder[L].id]=[].concat(this.compoundOrder[L].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[L].getChild()),this.compoundOrder[L].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(x,P)},D.prototype.clearZeroDegreeMembers=function(){var x=this,P=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(L){var M=x.idToDummyNode[L];if(P[L]=x.tileNodes(x.memberGroups[L],M.paddingLeft+M.paddingRight),M.rect.width=P[L].width,M.rect.height=P[L].height,M.setCenter(P[L].centerX,P[L].centerY),M.labelMarginLeft=0,M.labelMarginTop=0,g.NODE_DIMENSIONS_INCLUDE_LABELS){var R=M.rect.width,V=M.rect.height;M.labelWidth&&(M.labelPosHorizontal=="left"?(M.rect.x-=M.labelWidth,M.setWidth(R+M.labelWidth),M.labelMarginLeft=M.labelWidth):M.labelPosHorizontal=="center"&&M.labelWidth>R?(M.rect.x-=(M.labelWidth-R)/2,M.setWidth(M.labelWidth),M.labelMarginLeft=(M.labelWidth-R)/2):M.labelPosHorizontal=="right"&&M.setWidth(R+M.labelWidth)),M.labelHeight&&(M.labelPosVertical=="top"?(M.rect.y-=M.labelHeight,M.setHeight(V+M.labelHeight),M.labelMarginTop=M.labelHeight):M.labelPosVertical=="center"&&M.labelHeight>V?(M.rect.y-=(M.labelHeight-V)/2,M.setHeight(M.labelHeight),M.labelMarginTop=(M.labelHeight-V)/2):M.labelPosVertical=="bottom"&&M.setHeight(V+M.labelHeight))}})},D.prototype.repopulateCompounds=function(){for(var x=this.compoundOrder.length-1;x>=0;x--){var P=this.compoundOrder[x],L=P.id,M=P.paddingLeft,R=P.paddingTop,V=P.labelMarginLeft,U=P.labelMarginTop;this.adjustLocations(this.tiledMemberPack[L],P.rect.x,P.rect.y,M,R,V,U)}},D.prototype.repopulateZeroDegreeMembers=function(){var x=this,P=this.tiledZeroDegreePack;Object.keys(P).forEach(function(L){var M=x.idToDummyNode[L],R=M.paddingLeft,V=M.paddingTop,U=M.labelMarginLeft,q=M.labelMarginTop;x.adjustLocations(P[L],M.rect.x,M.rect.y,R,V,U,q)})},D.prototype.getToBeTiled=function(x){var P=x.id;if(this.toBeTiled[P]!=null)return this.toBeTiled[P];var L=x.getChild();if(L==null)return this.toBeTiled[P]=!1,!1;for(var M=L.getNodes(),R=0;R<M.length;R++){var V=M[R];if(this.getNodeDegree(V)>0)return this.toBeTiled[P]=!1,!1;if(V.getChild()==null){this.toBeTiled[V.id]=!1;continue}if(!this.getToBeTiled(V))return this.toBeTiled[P]=!1,!1}return this.toBeTiled[P]=!0,!0},D.prototype.getNodeDegree=function(x){x.id;for(var P=x.getEdges(),L=0,M=0;M<P.length;M++){var R=P[M];R.getSource().id!==R.getTarget().id&&(L=L+1)}return L},D.prototype.getNodeDegreeWithChildren=function(x){var P=this.getNodeDegree(x);if(x.getChild()==null)return P;for(var L=x.getChild().getNodes(),M=0;M<L.length;M++){var R=L[M];P+=this.getNodeDegreeWithChildren(R)}return P},D.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},D.prototype.fillCompexOrderByDFS=function(x){for(var P=0;P<x.length;P++){var L=x[P];L.getChild()!=null&&this.fillCompexOrderByDFS(L.getChild().getNodes()),this.getToBeTiled(L)&&this.compoundOrder.push(L)}},D.prototype.adjustLocations=function(x,P,L,M,R,V,U){P+=M+V,L+=R+U;for(var q=P,$=0;$<x.rows.length;$++){var X=x.rows[$];P=q;for(var B=0,H=0;H<X.length;H++){var j=X[H];j.rect.x=P,j.rect.y=L,P+=j.rect.width+x.horizontalPadding,j.rect.height>B&&(B=j.rect.height)}L+=B+x.verticalPadding}},D.prototype.tileCompoundMembers=function(x,P){var L=this;this.tiledMemberPack=[],Object.keys(x).forEach(function(M){var R=P[M];if(L.tiledMemberPack[M]=L.tileNodes(x[M],R.paddingLeft+R.paddingRight),R.rect.width=L.tiledMemberPack[M].width,R.rect.height=L.tiledMemberPack[M].height,R.setCenter(L.tiledMemberPack[M].centerX,L.tiledMemberPack[M].centerY),R.labelMarginLeft=0,R.labelMarginTop=0,g.NODE_DIMENSIONS_INCLUDE_LABELS){var V=R.rect.width,U=R.rect.height;R.labelWidth&&(R.labelPosHorizontal=="left"?(R.rect.x-=R.labelWidth,R.setWidth(V+R.labelWidth),R.labelMarginLeft=R.labelWidth):R.labelPosHorizontal=="center"&&R.labelWidth>V?(R.rect.x-=(R.labelWidth-V)/2,R.setWidth(R.labelWidth),R.labelMarginLeft=(R.labelWidth-V)/2):R.labelPosHorizontal=="right"&&R.setWidth(V+R.labelWidth)),R.labelHeight&&(R.labelPosVertical=="top"?(R.rect.y-=R.labelHeight,R.setHeight(U+R.labelHeight),R.labelMarginTop=R.labelHeight):R.labelPosVertical=="center"&&R.labelHeight>U?(R.rect.y-=(R.labelHeight-U)/2,R.setHeight(R.labelHeight),R.labelMarginTop=(R.labelHeight-U)/2):R.labelPosVertical=="bottom"&&R.setHeight(U+R.labelHeight))}})},D.prototype.tileNodes=function(x,P){var L=this.tileNodesByFavoringDim(x,P,!0),M=this.tileNodesByFavoringDim(x,P,!1),R=this.getOrgRatio(L),V=this.getOrgRatio(M),U;return V<R?U=M:U=L,U},D.prototype.getOrgRatio=function(x){var P=x.width,L=x.height,M=P/L;return M<1&&(M=1/M),M},D.prototype.calcIdealRowWidth=function(x,P){var L=g.TILING_PADDING_VERTICAL,M=g.TILING_PADDING_HORIZONTAL,R=x.length,V=0,U=0,q=0;x.forEach(function(te){V+=te.getWidth(),U+=te.getHeight(),te.getWidth()>q&&(q=te.getWidth())});var $=V/R,X=U/R,B=Math.pow(L-M,2)+4*($+M)*(X+L)*R,H=(M-L+Math.sqrt(B))/(2*($+M)),j;P?(j=Math.ceil(H),j==H&&j++):j=Math.floor(H);var K=j*($+M)-M;return q>K&&(K=q),K+=M*2,K},D.prototype.tileNodesByFavoringDim=function(x,P,L){var M=g.TILING_PADDING_VERTICAL,R=g.TILING_PADDING_HORIZONTAL,V=g.TILING_COMPARE_BY,U={rows:[],rowWidth:[],rowHeight:[],width:0,height:P,verticalPadding:M,horizontalPadding:R,centerX:0,centerY:0};V&&(U.idealRowWidth=this.calcIdealRowWidth(x,L));var q=function(re){return re.rect.width*re.rect.height},$=function(re,ue){return q(ue)-q(re)};x.sort(function(te,re){var ue=$;return U.idealRowWidth?(ue=V,ue(te.id,re.id)):ue(te,re)});for(var X=0,B=0,H=0;H<x.length;H++){var j=x[H];X+=j.getCenterX(),B+=j.getCenterY()}U.centerX=X/x.length,U.centerY=B/x.length;for(var H=0;H<x.length;H++){var j=x[H];if(U.rows.length==0)this.insertNodeToRow(U,j,0,P);else if(this.canAddHorizontal(U,j.rect.width,j.rect.height)){var K=U.rows.length-1;U.idealRowWidth||(K=this.getShortestRowIndex(U)),this.insertNodeToRow(U,j,K,P)}else this.insertNodeToRow(U,j,U.rows.length,P);this.shiftToLastRow(U)}return U},D.prototype.insertNodeToRow=function(x,P,L,M){var R=M;if(L==x.rows.length){var V=[];x.rows.push(V),x.rowWidth.push(R),x.rowHeight.push(0)}var U=x.rowWidth[L]+P.rect.width;x.rows[L].length>0&&(U+=x.horizontalPadding),x.rowWidth[L]=U,x.width<U&&(x.width=U);var q=P.rect.height;L>0&&(q+=x.verticalPadding);var $=0;q>x.rowHeight[L]&&($=x.rowHeight[L],x.rowHeight[L]=q,$=x.rowHeight[L]-$),x.height+=$,x.rows[L].push(P)},D.prototype.getShortestRowIndex=function(x){for(var P=-1,L=Number.MAX_VALUE,M=0;M<x.rows.length;M++)x.rowWidth[M]<L&&(P=M,L=x.rowWidth[M]);return P},D.prototype.getLongestRowIndex=function(x){for(var P=-1,L=Number.MIN_VALUE,M=0;M<x.rows.length;M++)x.rowWidth[M]>L&&(P=M,L=x.rowWidth[M]);return P},D.prototype.canAddHorizontal=function(x,P,L){if(x.idealRowWidth){var M=x.rows.length-1,R=x.rowWidth[M];return R+P+x.horizontalPadding<=x.idealRowWidth}var V=this.getShortestRowIndex(x);if(V<0)return!0;var U=x.rowWidth[V];if(U+x.horizontalPadding+P<=x.width)return!0;var q=0;x.rowHeight[V]<L&&V>0&&(q=L+x.verticalPadding-x.rowHeight[V]);var $;x.width-U>=P+x.horizontalPadding?$=(x.height+q)/(U+P+x.horizontalPadding):$=(x.height+q)/x.width,q=L+x.verticalPadding;var X;return x.width<P?X=(x.height+q)/P:X=(x.height+q)/x.width,X<1&&(X=1/X),$<1&&($=1/$),$<X},D.prototype.shiftToLastRow=function(x){var P=this.getLongestRowIndex(x),L=x.rowWidth.length-1,M=x.rows[P],R=M[M.length-1],V=R.width+x.horizontalPadding;if(x.width-x.rowWidth[L]>V&&P!=L){M.splice(-1,1),x.rows[L].push(R),x.rowWidth[P]=x.rowWidth[P]-V,x.rowWidth[L]=x.rowWidth[L]+V,x.width=x.rowWidth[instance.getLongestRowIndex(x)];for(var U=Number.MIN_VALUE,q=0;q<M.length;q++)M[q].height>U&&(U=M[q].height);P>0&&(U+=x.verticalPadding);var $=x.rowHeight[P]+x.rowHeight[L];x.rowHeight[P]=U,x.rowHeight[L]<R.height+x.verticalPadding&&(x.rowHeight[L]=R.height+x.verticalPadding);var X=x.rowHeight[P]+x.rowHeight[L];x.height+=X-$,this.shiftToLastRow(x)}},D.prototype.tilingPreLayout=function(){g.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},D.prototype.tilingPostLayout=function(){g.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},D.prototype.reduceTrees=function(){for(var x=[],P=!0,L;P;){var M=this.graphManager.getAllNodes(),R=[];P=!1;for(var V=0;V<M.length;V++)if(L=M[V],L.getEdges().length==1&&!L.getEdges()[0].isInterGraph&&L.getChild()==null){if(g.PURE_INCREMENTAL){var U=L.getEdges()[0].getOtherEnd(L),q=new T(L.getCenterX()-U.getCenterX(),L.getCenterY()-U.getCenterY());R.push([L,L.getEdges()[0],L.getOwner(),q])}else R.push([L,L.getEdges()[0],L.getOwner()]);P=!0}if(P==!0){for(var $=[],X=0;X<R.length;X++)R[X][0].getEdges().length==1&&($.push(R[X]),R[X][0].getOwner().remove(R[X][0]));x.push($),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=x},D.prototype.growTree=function(x){for(var P=x.length,L=x[P-1],M,R=0;R<L.length;R++)M=L[R],this.findPlaceforPrunedNode(M),M[2].add(M[0]),M[2].add(M[1],M[1].source,M[1].target);x.splice(x.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},D.prototype.findPlaceforPrunedNode=function(x){var P,L,M=x[0];if(M==x[1].source?L=x[1].target:L=x[1].source,g.PURE_INCREMENTAL)M.setCenter(L.getCenterX()+x[3].getWidth(),L.getCenterY()+x[3].getHeight());else{var R=L.startX,V=L.finishX,U=L.startY,q=L.finishY,$=0,X=0,B=0,H=0,j=[$,B,X,H];if(U>0)for(var K=R;K<=V;K++)j[0]+=this.grid[K][U-1].length+this.grid[K][U].length-1;if(V<this.grid.length-1)for(var K=U;K<=q;K++)j[1]+=this.grid[V+1][K].length+this.grid[V][K].length-1;if(q<this.grid[0].length-1)for(var K=R;K<=V;K++)j[2]+=this.grid[K][q+1].length+this.grid[K][q].length-1;if(R>0)for(var K=U;K<=q;K++)j[3]+=this.grid[R-1][K].length+this.grid[R][K].length-1;for(var te=b.MAX_VALUE,re,ue,se=0;se<j.length;se++)j[se]<te?(te=j[se],re=1,ue=se):j[se]==te&&re++;if(re==3&&te==0)j[0]==0&&j[1]==0&&j[2]==0?P=1:j[0]==0&&j[1]==0&&j[3]==0?P=0:j[0]==0&&j[2]==0&&j[3]==0?P=3:j[1]==0&&j[2]==0&&j[3]==0&&(P=2);else if(re==2&&te==0){var de=Math.floor(Math.random()*2);j[0]==0&&j[1]==0?de==0?P=0:P=1:j[0]==0&&j[2]==0?de==0?P=0:P=2:j[0]==0&&j[3]==0?de==0?P=0:P=3:j[1]==0&&j[2]==0?de==0?P=1:P=2:j[1]==0&&j[3]==0?de==0?P=1:P=3:de==0?P=2:P=3}else if(re==4&&te==0){var de=Math.floor(Math.random()*4);P=de}else P=ue;P==0?M.setCenter(L.getCenterX(),L.getCenterY()-L.getHeight()/2-v.DEFAULT_EDGE_LENGTH-M.getHeight()/2):P==1?M.setCenter(L.getCenterX()+L.getWidth()/2+v.DEFAULT_EDGE_LENGTH+M.getWidth()/2,L.getCenterY()):P==2?M.setCenter(L.getCenterX(),L.getCenterY()+L.getHeight()/2+v.DEFAULT_EDGE_LENGTH+M.getHeight()/2):M.setCenter(L.getCenterX()-L.getWidth()/2-v.DEFAULT_EDGE_LENGTH-M.getWidth()/2,L.getCenterY())}},s.exports=D},991:(s,u,l)=>{var f=l(551).FDLayoutNode,c=l(551).IMath;function h(p,g,w,v){f.call(this,p,g,w,v)}h.prototype=Object.create(f.prototype);for(var d in f)h[d]=f[d];h.prototype.calculateDisplacement=function(){var p=this.graphManager.getLayout();this.getChild()!=null&&this.fixedNodeWeight?(this.displacementX+=p.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=p.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=p.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=p.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>p.coolingFactor*p.maxNodeDisplacement&&(this.displacementX=p.coolingFactor*p.maxNodeDisplacement*c.sign(this.displacementX)),Math.abs(this.displacementY)>p.coolingFactor*p.maxNodeDisplacement&&(this.displacementY=p.coolingFactor*p.maxNodeDisplacement*c.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},h.prototype.propogateDisplacementToChildren=function(p,g){for(var w=this.getChild().getNodes(),v,m=0;m<w.length;m++)v=w[m],v.getChild()==null?(v.displacementX+=p,v.displacementY+=g):v.propogateDisplacementToChildren(p,g)},h.prototype.move=function(){var p=this.graphManager.getLayout();(this.child==null||this.child.getNodes().length==0)&&(this.moveBy(this.displacementX,this.displacementY),p.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},h.prototype.setPred1=function(p){this.pred1=p},h.prototype.getPred1=function(){return pred1},h.prototype.getPred2=function(){return pred2},h.prototype.setNext=function(p){this.next=p},h.prototype.getNext=function(){return next},h.prototype.setProcessed=function(p){this.processed=p},h.prototype.isProcessed=function(){return processed},s.exports=h},902:(s,u,l)=>{function f(w){if(Array.isArray(w)){for(var v=0,m=Array(w.length);v<w.length;v++)m[v]=w[v];return m}else return Array.from(w)}var c=l(806),h=l(551).LinkedList,d=l(551).Matrix,p=l(551).SVD;function g(){}g.handleConstraints=function(w){var v={};v.fixedNodeConstraint=w.constraints.fixedNodeConstraint,v.alignmentConstraint=w.constraints.alignmentConstraint,v.relativePlacementConstraint=w.constraints.relativePlacementConstraint;for(var m=new Map,y=new Map,E=[],T=[],C=w.getAllNodes(),b=0,k=0;k<C.length;k++){var S=C[k];S.getChild()==null&&(y.set(S.id,b++),E.push(S.getCenterX()),T.push(S.getCenterY()),m.set(S.id,S))}v.relativePlacementConstraint&&v.relativePlacementConstraint.forEach(function(Ce){!Ce.gap&&Ce.gap!=0&&(Ce.left?Ce.gap=c.DEFAULT_EDGE_LENGTH+m.get(Ce.left).getWidth()/2+m.get(Ce.right).getWidth()/2:Ce.gap=c.DEFAULT_EDGE_LENGTH+m.get(Ce.top).getHeight()/2+m.get(Ce.bottom).getHeight()/2)});var O=function(Ee,Se){return{x:Ee.x-Se.x,y:Ee.y-Se.y}},N=function(Ee){var Se=0,Ne=0;return Ee.forEach(function(ke){Se+=E[y.get(ke)],Ne+=T[y.get(ke)]}),{x:Se/Ee.size,y:Ne/Ee.size}},D=function(Ee,Se,Ne,ke,Fe){function Ze(Je,rt){var _t=new Set(Je),ut=!0,lt=!1,Ht=void 0;try{for(var ot=rt[Symbol.iterator](),dt;!(ut=(dt=ot.next()).done);ut=!0){var Bt=dt.value;_t.add(Bt)}}catch(nr){lt=!0,Ht=nr}finally{try{!ut&&ot.return&&ot.return()}finally{if(lt)throw Ht}}return _t}var Ye=new Map;Ee.forEach(function(Je,rt){Ye.set(rt,0)}),Ee.forEach(function(Je,rt){Je.forEach(function(_t){Ye.set(_t.id,Ye.get(_t.id)+1)})});var Ge=new Map,Be=new Map,Qe=new h;Ye.forEach(function(Je,rt){Je==0?(Qe.push(rt),Ne||(Se=="horizontal"?Ge.set(rt,y.has(rt)?E[y.get(rt)]:ke.get(rt)):Ge.set(rt,y.has(rt)?T[y.get(rt)]:ke.get(rt)))):Ge.set(rt,Number.NEGATIVE_INFINITY),Ne&&Be.set(rt,new Set([rt]))}),Ne&&Fe.forEach(function(Je){var rt=[];if(Je.forEach(function(lt){Ne.has(lt)&&rt.push(lt)}),rt.length>0){var _t=0;rt.forEach(function(lt){Se=="horizontal"?(Ge.set(lt,y.has(lt)?E[y.get(lt)]:ke.get(lt)),_t+=Ge.get(lt)):(Ge.set(lt,y.has(lt)?T[y.get(lt)]:ke.get(lt)),_t+=Ge.get(lt))}),_t=_t/rt.length,Je.forEach(function(lt){Ne.has(lt)||Ge.set(lt,_t)})}else{var ut=0;Je.forEach(function(lt){Se=="horizontal"?ut+=y.has(lt)?E[y.get(lt)]:ke.get(lt):ut+=y.has(lt)?T[y.get(lt)]:ke.get(lt)}),ut=ut/Je.length,Je.forEach(function(lt){Ge.set(lt,ut)})}});for(var pt=function(){var rt=Qe.shift(),_t=Ee.get(rt);_t.forEach(function(ut){if(Ge.get(ut.id)<Ge.get(rt)+ut.gap)if(Ne&&Ne.has(ut.id)){var lt=void 0;if(Se=="horizontal"?lt=y.has(ut.id)?E[y.get(ut.id)]:ke.get(ut.id):lt=y.has(ut.id)?T[y.get(ut.id)]:ke.get(ut.id),Ge.set(ut.id,lt),lt<Ge.get(rt)+ut.gap){var Ht=Ge.get(rt)+ut.gap-lt;Be.get(rt).forEach(function(ot){Ge.set(ot,Ge.get(ot)-Ht)})}}else Ge.set(ut.id,Ge.get(rt)+ut.gap);Ye.set(ut.id,Ye.get(ut.id)-1),Ye.get(ut.id)==0&&Qe.push(ut.id),Ne&&Be.set(ut.id,Ze(Be.get(rt),Be.get(ut.id)))})};Qe.length!=0;)pt();if(Ne){var at=new Set;Ee.forEach(function(Je,rt){Je.length==0&&at.add(rt)});var yt=[];Be.forEach(function(Je,rt){if(at.has(rt)){var _t=!1,ut=!0,lt=!1,Ht=void 0;try{for(var ot=Je[Symbol.iterator](),dt;!(ut=(dt=ot.next()).done);ut=!0){var Bt=dt.value;Ne.has(Bt)&&(_t=!0)}}catch(Qt){lt=!0,Ht=Qt}finally{try{!ut&&ot.return&&ot.return()}finally{if(lt)throw Ht}}if(!_t){var nr=!1,Zt=void 0;yt.forEach(function(Qt,Br){Qt.has([].concat(f(Je))[0])&&(nr=!0,Zt=Br)}),nr?Je.forEach(function(Qt){yt[Zt].add(Qt)}):yt.push(new Set(Je))}}}),yt.forEach(function(Je,rt){var _t=Number.POSITIVE_INFINITY,ut=Number.POSITIVE_INFINITY,lt=Number.NEGATIVE_INFINITY,Ht=Number.NEGATIVE_INFINITY,ot=!0,dt=!1,Bt=void 0;try{for(var nr=Je[Symbol.iterator](),Zt;!(ot=(Zt=nr.next()).done);ot=!0){var Qt=Zt.value,Br=void 0;Se=="horizontal"?Br=y.has(Qt)?E[y.get(Qt)]:ke.get(Qt):Br=y.has(Qt)?T[y.get(Qt)]:ke.get(Qt);var Tn=Ge.get(Qt);Br<_t&&(_t=Br),Br>lt&&(lt=Br),Tn<ut&&(ut=Tn),Tn>Ht&&(Ht=Tn)}}catch(Lr){dt=!0,Bt=Lr}finally{try{!ot&&nr.return&&nr.return()}finally{if(dt)throw Bt}}var Mi=(_t+lt)/2-(ut+Ht)/2,an=!0,Sn=!1,qr=void 0;try{for(var on=Je[Symbol.iterator](),Vr;!(an=(Vr=on.next()).done);an=!0){var Wr=Vr.value;Ge.set(Wr,Ge.get(Wr)+Mi)}}catch(Lr){Sn=!0,qr=Lr}finally{try{!an&&on.return&&on.return()}finally{if(Sn)throw qr}}})}return Ge},I=function(Ee){var Se=0,Ne=0,ke=0,Fe=0;if(Ee.forEach(function(Be){Be.left?E[y.get(Be.left)]-E[y.get(Be.right)]>=0?Se++:Ne++:T[y.get(Be.top)]-T[y.get(Be.bottom)]>=0?ke++:Fe++}),Se>Ne&&ke>Fe)for(var Ze=0;Ze<y.size;Ze++)E[Ze]=-1*E[Ze],T[Ze]=-1*T[Ze];else if(Se>Ne)for(var Ye=0;Ye<y.size;Ye++)E[Ye]=-1*E[Ye];else if(ke>Fe)for(var Ge=0;Ge<y.size;Ge++)T[Ge]=-1*T[Ge]},x=function(Ee){var Se=[],Ne=new h,ke=new Set,Fe=0;return Ee.forEach(function(Ze,Ye){if(!ke.has(Ye)){Se[Fe]=[];var Ge=Ye;for(Ne.push(Ge),ke.add(Ge),Se[Fe].push(Ge);Ne.length!=0;){Ge=Ne.shift();var Be=Ee.get(Ge);Be.forEach(function(Qe){ke.has(Qe.id)||(Ne.push(Qe.id),ke.add(Qe.id),Se[Fe].push(Qe.id))})}Fe++}}),Se},P=function(Ee){var Se=new Map;return Ee.forEach(function(Ne,ke){Se.set(ke,[])}),Ee.forEach(function(Ne,ke){Ne.forEach(function(Fe){Se.get(ke).push(Fe),Se.get(Fe.id).push({id:ke,gap:Fe.gap,direction:Fe.direction})})}),Se},L=function(Ee){var Se=new Map;return Ee.forEach(function(Ne,ke){Se.set(ke,[])}),Ee.forEach(function(Ne,ke){Ne.forEach(function(Fe){Se.get(Fe.id).push({id:ke,gap:Fe.gap,direction:Fe.direction})})}),Se},M=[],R=[],V=!1,U=!1,q=new Set,$=new Map,X=new Map,B=[];if(v.fixedNodeConstraint&&v.fixedNodeConstraint.forEach(function(Ce){q.add(Ce.nodeId)}),v.relativePlacementConstraint&&(v.relativePlacementConstraint.forEach(function(Ce){Ce.left?($.has(Ce.left)?$.get(Ce.left).push({id:Ce.right,gap:Ce.gap,direction:"horizontal"}):$.set(Ce.left,[{id:Ce.right,gap:Ce.gap,direction:"horizontal"}]),$.has(Ce.right)||$.set(Ce.right,[])):($.has(Ce.top)?$.get(Ce.top).push({id:Ce.bottom,gap:Ce.gap,direction:"vertical"}):$.set(Ce.top,[{id:Ce.bottom,gap:Ce.gap,direction:"vertical"}]),$.has(Ce.bottom)||$.set(Ce.bottom,[]))}),X=P($),B=x(X)),c.TRANSFORM_ON_CONSTRAINT_HANDLING){if(v.fixedNodeConstraint&&v.fixedNodeConstraint.length>1)v.fixedNodeConstraint.forEach(function(Ce,Ee){M[Ee]=[Ce.position.x,Ce.position.y],R[Ee]=[E[y.get(Ce.nodeId)],T[y.get(Ce.nodeId)]]}),V=!0;else if(v.alignmentConstraint)(function(){var Ce=0;if(v.alignmentConstraint.vertical){for(var Ee=v.alignmentConstraint.vertical,Se=function(Ge){var Be=new Set;Ee[Ge].forEach(function(at){Be.add(at)});var Qe=new Set([].concat(f(Be)).filter(function(at){return q.has(at)})),pt=void 0;Qe.size>0?pt=E[y.get(Qe.values().next().value)]:pt=N(Be).x,Ee[Ge].forEach(function(at){M[Ce]=[pt,T[y.get(at)]],R[Ce]=[E[y.get(at)],T[y.get(at)]],Ce++})},Ne=0;Ne<Ee.length;Ne++)Se(Ne);V=!0}if(v.alignmentConstraint.horizontal){for(var ke=v.alignmentConstraint.horizontal,Fe=function(Ge){var Be=new Set;ke[Ge].forEach(function(at){Be.add(at)});var Qe=new Set([].concat(f(Be)).filter(function(at){return q.has(at)})),pt=void 0;Qe.size>0?pt=E[y.get(Qe.values().next().value)]:pt=N(Be).y,ke[Ge].forEach(function(at){M[Ce]=[E[y.get(at)],pt],R[Ce]=[E[y.get(at)],T[y.get(at)]],Ce++})},Ze=0;Ze<ke.length;Ze++)Fe(Ze);V=!0}v.relativePlacementConstraint&&(U=!0)})();else if(v.relativePlacementConstraint){for(var H=0,j=0,K=0;K<B.length;K++)B[K].length>H&&(H=B[K].length,j=K);if(H<X.size/2)I(v.relativePlacementConstraint),V=!1,U=!1;else{var te=new Map,re=new Map,ue=[];B[j].forEach(function(Ce){$.get(Ce).forEach(function(Ee){Ee.direction=="horizontal"?(te.has(Ce)?te.get(Ce).push(Ee):te.set(Ce,[Ee]),te.has(Ee.id)||te.set(Ee.id,[]),ue.push({left:Ce,right:Ee.id})):(re.has(Ce)?re.get(Ce).push(Ee):re.set(Ce,[Ee]),re.has(Ee.id)||re.set(Ee.id,[]),ue.push({top:Ce,bottom:Ee.id}))})}),I(ue),U=!1;var se=D(te,"horizontal"),de=D(re,"vertical");B[j].forEach(function(Ce,Ee){R[Ee]=[E[y.get(Ce)],T[y.get(Ce)]],M[Ee]=[],se.has(Ce)?M[Ee][0]=se.get(Ce):M[Ee][0]=E[y.get(Ce)],de.has(Ce)?M[Ee][1]=de.get(Ce):M[Ee][1]=T[y.get(Ce)]}),V=!0}}if(V){for(var be=void 0,z=d.transpose(M),ae=d.transpose(R),Z=0;Z<z.length;Z++)z[Z]=d.multGamma(z[Z]),ae[Z]=d.multGamma(ae[Z]);var W=d.multMat(z,d.transpose(ae)),Y=p.svd(W);be=d.multMat(Y.V,d.transpose(Y.U));for(var ie=0;ie<y.size;ie++){var ve=[E[ie],T[ie]],me=[be[0][0],be[1][0]],fe=[be[0][1],be[1][1]];E[ie]=d.dotProduct(ve,me),T[ie]=d.dotProduct(ve,fe)}U&&I(v.relativePlacementConstraint)}}if(c.ENFORCE_CONSTRAINTS){if(v.fixedNodeConstraint&&v.fixedNodeConstraint.length>0){var le={x:0,y:0};v.fixedNodeConstraint.forEach(function(Ce,Ee){var Se={x:E[y.get(Ce.nodeId)],y:T[y.get(Ce.nodeId)]},Ne=Ce.position,ke=O(Ne,Se);le.x+=ke.x,le.y+=ke.y}),le.x/=v.fixedNodeConstraint.length,le.y/=v.fixedNodeConstraint.length,E.forEach(function(Ce,Ee){E[Ee]+=le.x}),T.forEach(function(Ce,Ee){T[Ee]+=le.y}),v.fixedNodeConstraint.forEach(function(Ce){E[y.get(Ce.nodeId)]=Ce.position.x,T[y.get(Ce.nodeId)]=Ce.position.y})}if(v.alignmentConstraint){if(v.alignmentConstraint.vertical)for(var ee=v.alignmentConstraint.vertical,oe=function(Ee){var Se=new Set;ee[Ee].forEach(function(Fe){Se.add(Fe)});var Ne=new Set([].concat(f(Se)).filter(function(Fe){return q.has(Fe)})),ke=void 0;Ne.size>0?ke=E[y.get(Ne.values().next().value)]:ke=N(Se).x,Se.forEach(function(Fe){q.has(Fe)||(E[y.get(Fe)]=ke)})},ge=0;ge<ee.length;ge++)oe(ge);if(v.alignmentConstraint.horizontal)for(var _e=v.alignmentConstraint.horizontal,we=function(Ee){var Se=new Set;_e[Ee].forEach(function(Fe){Se.add(Fe)});var Ne=new Set([].concat(f(Se)).filter(function(Fe){return q.has(Fe)})),ke=void 0;Ne.size>0?ke=T[y.get(Ne.values().next().value)]:ke=N(Se).y,Se.forEach(function(Fe){q.has(Fe)||(T[y.get(Fe)]=ke)})},ze=0;ze<_e.length;ze++)we(ze)}v.relativePlacementConstraint&&function(){var Ce=new Map,Ee=new Map,Se=new Map,Ne=new Map,ke=new Map,Fe=new Map,Ze=new Set,Ye=new Set;if(q.forEach(function(pr){Ze.add(pr),Ye.add(pr)}),v.alignmentConstraint){if(v.alignmentConstraint.vertical)for(var Ge=v.alignmentConstraint.vertical,Be=function(Ct){Se.set("dummy"+Ct,[]),Ge[Ct].forEach(function(qt){Ce.set(qt,"dummy"+Ct),Se.get("dummy"+Ct).push(qt),q.has(qt)&&Ze.add("dummy"+Ct)}),ke.set("dummy"+Ct,E[y.get(Ge[Ct][0])])},Qe=0;Qe<Ge.length;Qe++)Be(Qe);if(v.alignmentConstraint.horizontal)for(var pt=v.alignmentConstraint.horizontal,at=function(Ct){Ne.set("dummy"+Ct,[]),pt[Ct].forEach(function(qt){Ee.set(qt,"dummy"+Ct),Ne.get("dummy"+Ct).push(qt),q.has(qt)&&Ye.add("dummy"+Ct)}),Fe.set("dummy"+Ct,T[y.get(pt[Ct][0])])},yt=0;yt<pt.length;yt++)at(yt)}var Je=new Map,rt=new Map,_t=function(Ct){$.get(Ct).forEach(function(qt){var sn=void 0,$r=void 0;qt.direction=="horizontal"?(sn=Ce.get(Ct)?Ce.get(Ct):Ct,Ce.get(qt.id)?$r={id:Ce.get(qt.id),gap:qt.gap,direction:qt.direction}:$r=qt,Je.has(sn)?Je.get(sn).push($r):Je.set(sn,[$r]),Je.has($r.id)||Je.set($r.id,[])):(sn=Ee.get(Ct)?Ee.get(Ct):Ct,Ee.get(qt.id)?$r={id:Ee.get(qt.id),gap:qt.gap,direction:qt.direction}:$r=qt,rt.has(sn)?rt.get(sn).push($r):rt.set(sn,[$r]),rt.has($r.id)||rt.set($r.id,[]))})},ut=!0,lt=!1,Ht=void 0;try{for(var ot=$.keys()[Symbol.iterator](),dt;!(ut=(dt=ot.next()).done);ut=!0){var Bt=dt.value;_t(Bt)}}catch(pr){lt=!0,Ht=pr}finally{try{!ut&&ot.return&&ot.return()}finally{if(lt)throw Ht}}var nr=P(Je),Zt=P(rt),Qt=x(nr),Br=x(Zt),Tn=L(Je),Mi=L(rt),an=[],Sn=[];Qt.forEach(function(pr,Ct){an[Ct]=[],pr.forEach(function(qt){Tn.get(qt).length==0&&an[Ct].push(qt)})}),Br.forEach(function(pr,Ct){Sn[Ct]=[],pr.forEach(function(qt){Mi.get(qt).length==0&&Sn[Ct].push(qt)})});var qr=D(Je,"horizontal",Ze,ke,an),on=D(rt,"vertical",Ye,Fe,Sn),Vr=function(Ct){Se.get(Ct)?Se.get(Ct).forEach(function(qt){E[y.get(qt)]=qr.get(Ct)}):E[y.get(Ct)]=qr.get(Ct)},Wr=!0,Lr=!1,ui=void 0;try{for(var li=qr.keys()[Symbol.iterator](),Dn;!(Wr=(Dn=li.next()).done);Wr=!0){var wr=Dn.value;Vr(wr)}}catch(pr){Lr=!0,ui=pr}finally{try{!Wr&&li.return&&li.return()}finally{if(Lr)throw ui}}var fi=function(Ct){Ne.get(Ct)?Ne.get(Ct).forEach(function(qt){T[y.get(qt)]=on.get(Ct)}):T[y.get(Ct)]=on.get(Ct)},Un=!0,gn=!1,Mr=void 0;try{for(var Vn=on.keys()[Symbol.iterator](),Jo;!(Un=(Jo=Vn.next()).done);Un=!0){var wr=Jo.value;fi(wr)}}catch(pr){gn=!0,Mr=pr}finally{try{!Un&&Vn.return&&Vn.return()}finally{if(gn)throw Mr}}}()}for(var Me=0;Me<C.length;Me++){var Re=C[Me];Re.getChild()==null&&Re.setCenter(E[y.get(Re.id)],T[y.get(Re.id)])}},s.exports=g},551:s=>{s.exports=r}},i={};function o(s){var u=i[s];if(u!==void 0)return u.exports;var l=i[s]={exports:{}};return n[s](l,l.exports,o),l.exports}var a=o(45);return a})()})}(yd)),yd.exports}(function(t,e){(function(n,i){t.exports=i(ER())})(It,function(r){return(()=>{var n={658:s=>{s.exports=Object.assign!=null?Object.assign.bind(Object):function(u){for(var l=arguments.length,f=Array(l>1?l-1:0),c=1;c<l;c++)f[c-1]=arguments[c];return f.forEach(function(h){Object.keys(h).forEach(function(d){return u[d]=h[d]})}),u}},548:(s,u,l)=>{var f=function(){function d(p,g){var w=[],v=!0,m=!1,y=void 0;try{for(var E=p[Symbol.iterator](),T;!(v=(T=E.next()).done)&&(w.push(T.value),!(g&&w.length===g));v=!0);}catch(C){m=!0,y=C}finally{try{!v&&E.return&&E.return()}finally{if(m)throw y}}return w}return function(p,g){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return d(p,g);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=l(140).layoutBase.LinkedList,h={};h.getTopMostNodes=function(d){for(var p={},g=0;g<d.length;g++)p[d[g].id()]=!0;var w=d.filter(function(v,m){typeof v=="number"&&(v=m);for(var y=v.parent()[0];y!=null;){if(p[y.id()])return!1;y=y.parent()[0]}return!0});return w},h.connectComponents=function(d,p,g,w){var v=new c,m=new Set,y=[],E=void 0,T=void 0,C=void 0,b=!1,k=1,S=[],O=[],N=function(){var I=d.collection();O.push(I);var x=g[0],P=d.collection();P.merge(x).merge(x.descendants().intersection(p)),y.push(x),P.forEach(function(R){v.push(R),m.add(R),I.merge(R)});for(var L=function(){x=v.shift();var V=d.collection();x.neighborhood().nodes().forEach(function(X){p.intersection(x.edgesWith(X)).length>0&&V.merge(X)});for(var U=0;U<V.length;U++){var q=V[U];if(E=g.intersection(q.union(q.ancestors())),E!=null&&!m.has(E[0])){var $=E.union(E.descendants());$.forEach(function(X){v.push(X),m.add(X),I.merge(X),g.has(X)&&y.push(X)})}}};v.length!=0;)L();if(I.forEach(function(R){p.intersection(R.connectedEdges()).forEach(function(V){I.has(V.source())&&I.has(V.target())&&I.merge(V)})}),y.length==g.length&&(b=!0),!b||b&&k>1){T=y[0],C=T.connectedEdges().length,y.forEach(function(R){R.connectedEdges().length<C&&(C=R.connectedEdges().length,T=R)}),S.push(T.id());var M=d.collection();M.merge(y[0]),y.forEach(function(R){M.merge(R)}),y=[],g=g.difference(M),k++}};do N();while(!b);return w&&S.length>0&&w.set("dummy"+(w.size+1),S),O},h.relocateComponent=function(d,p,g){if(!g.fixedNodeConstraint){var w=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,m=Number.POSITIVE_INFINITY,y=Number.NEGATIVE_INFINITY;if(g.quality=="draft"){var E=!0,T=!1,C=void 0;try{for(var b=p.nodeIndexes[Symbol.iterator](),k;!(E=(k=b.next()).done);E=!0){var S=k.value,O=f(S,2),N=O[0],D=O[1],I=g.cy.getElementById(N);if(I){var x=I.boundingBox(),P=p.xCoords[D]-x.w/2,L=p.xCoords[D]+x.w/2,M=p.yCoords[D]-x.h/2,R=p.yCoords[D]+x.h/2;P<w&&(w=P),L>v&&(v=L),M<m&&(m=M),R>y&&(y=R)}}}catch(X){T=!0,C=X}finally{try{!E&&b.return&&b.return()}finally{if(T)throw C}}var V=d.x-(v+w)/2,U=d.y-(y+m)/2;p.xCoords=p.xCoords.map(function(X){return X+V}),p.yCoords=p.yCoords.map(function(X){return X+U})}else{Object.keys(p).forEach(function(X){var B=p[X],H=B.getRect().x,j=B.getRect().x+B.getRect().width,K=B.getRect().y,te=B.getRect().y+B.getRect().height;H<w&&(w=H),j>v&&(v=j),K<m&&(m=K),te>y&&(y=te)});var q=d.x-(v+w)/2,$=d.y-(y+m)/2;Object.keys(p).forEach(function(X){var B=p[X];B.setCenter(B.getCenterX()+q,B.getCenterY()+$)})}}},h.calcBoundingBox=function(d,p,g,w){for(var v=Number.MAX_SAFE_INTEGER,m=Number.MIN_SAFE_INTEGER,y=Number.MAX_SAFE_INTEGER,E=Number.MIN_SAFE_INTEGER,T=void 0,C=void 0,b=void 0,k=void 0,S=d.descendants().not(":parent"),O=S.length,N=0;N<O;N++){var D=S[N];T=p[w.get(D.id())]-D.width()/2,C=p[w.get(D.id())]+D.width()/2,b=g[w.get(D.id())]-D.height()/2,k=g[w.get(D.id())]+D.height()/2,v>T&&(v=T),m<C&&(m=C),y>b&&(y=b),E<k&&(E=k)}var I={};return I.topLeftX=v,I.topLeftY=y,I.width=m-v,I.height=E-y,I},h.calcParentsWithoutChildren=function(d,p){var g=d.collection();return p.nodes(":parent").forEach(function(w){var v=!1;w.children().forEach(function(m){m.css("display")!="none"&&(v=!0)}),v||g.merge(w)}),g},s.exports=h},816:(s,u,l)=>{var f=l(548),c=l(140).CoSELayout,h=l(140).CoSENode,d=l(140).layoutBase.PointD,p=l(140).layoutBase.DimensionD,g=l(140).layoutBase.LayoutConstants,w=l(140).layoutBase.FDLayoutConstants,v=l(140).CoSEConstants,m=function(E,T){var C=E.cy,b=E.eles,k=b.nodes(),S=b.edges(),O=void 0,N=void 0,D=void 0,I={};E.randomize&&(O=T.nodeIndexes,N=T.xCoords,D=T.yCoords);var x=function(X){return typeof X=="function"},P=function(X,B){return x(X)?X(B):X},L=f.calcParentsWithoutChildren(C,b),M=function $(X,B,H,j){for(var K=B.length,te=0;te<K;te++){var re=B[te],ue=null;re.intersection(L).length==0&&(ue=re.children());var se=void 0,de=re.layoutDimensions({nodeDimensionsIncludeLabels:j.nodeDimensionsIncludeLabels});if(re.outerWidth()!=null&&re.outerHeight()!=null)if(j.randomize)if(!re.isParent())se=X.add(new h(H.graphManager,new d(N[O.get(re.id())]-de.w/2,D[O.get(re.id())]-de.h/2),new p(parseFloat(de.w),parseFloat(de.h))));else{var be=f.calcBoundingBox(re,N,D,O);re.intersection(L).length==0?se=X.add(new h(H.graphManager,new d(be.topLeftX,be.topLeftY),new p(be.width,be.height))):se=X.add(new h(H.graphManager,new d(be.topLeftX,be.topLeftY),new p(parseFloat(de.w),parseFloat(de.h))))}else se=X.add(new h(H.graphManager,new d(re.position("x")-de.w/2,re.position("y")-de.h/2),new p(parseFloat(de.w),parseFloat(de.h))));else se=X.add(new h(this.graphManager));if(se.id=re.data("id"),se.nodeRepulsion=P(j.nodeRepulsion,re),se.paddingLeft=parseInt(re.css("padding")),se.paddingTop=parseInt(re.css("padding")),se.paddingRight=parseInt(re.css("padding")),se.paddingBottom=parseInt(re.css("padding")),j.nodeDimensionsIncludeLabels&&(se.labelWidth=re.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,se.labelHeight=re.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,se.labelPosVertical=re.css("text-valign"),se.labelPosHorizontal=re.css("text-halign")),I[re.data("id")]=se,isNaN(se.rect.x)&&(se.rect.x=0),isNaN(se.rect.y)&&(se.rect.y=0),ue!=null&&ue.length>0){var z=void 0;z=H.getGraphManager().add(H.newGraph(),se),$(z,ue,H,j)}}},R=function(X,B,H){for(var j=0,K=0,te=0;te<H.length;te++){var re=H[te],ue=I[re.data("source")],se=I[re.data("target")];if(ue&&se&&ue!==se&&ue.getEdgesBetween(se).length==0){var de=B.add(X.newEdge(),ue,se);de.id=re.id(),de.idealLength=P(E.idealEdgeLength,re),de.edgeElasticity=P(E.edgeElasticity,re),j+=de.idealLength,K++}}E.idealEdgeLength!=null&&(K>0?v.DEFAULT_EDGE_LENGTH=w.DEFAULT_EDGE_LENGTH=j/K:x(E.idealEdgeLength)?v.DEFAULT_EDGE_LENGTH=w.DEFAULT_EDGE_LENGTH=50:v.DEFAULT_EDGE_LENGTH=w.DEFAULT_EDGE_LENGTH=E.idealEdgeLength,v.MIN_REPULSION_DIST=w.MIN_REPULSION_DIST=w.DEFAULT_EDGE_LENGTH/10,v.DEFAULT_RADIAL_SEPARATION=w.DEFAULT_EDGE_LENGTH)},V=function(X,B){B.fixedNodeConstraint&&(X.constraints.fixedNodeConstraint=B.fixedNodeConstraint),B.alignmentConstraint&&(X.constraints.alignmentConstraint=B.alignmentConstraint),B.relativePlacementConstraint&&(X.constraints.relativePlacementConstraint=B.relativePlacementConstraint)};E.nestingFactor!=null&&(v.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=w.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=E.nestingFactor),E.gravity!=null&&(v.DEFAULT_GRAVITY_STRENGTH=w.DEFAULT_GRAVITY_STRENGTH=E.gravity),E.numIter!=null&&(v.MAX_ITERATIONS=w.MAX_ITERATIONS=E.numIter),E.gravityRange!=null&&(v.DEFAULT_GRAVITY_RANGE_FACTOR=w.DEFAULT_GRAVITY_RANGE_FACTOR=E.gravityRange),E.gravityCompound!=null&&(v.DEFAULT_COMPOUND_GRAVITY_STRENGTH=w.DEFAULT_COMPOUND_GRAVITY_STRENGTH=E.gravityCompound),E.gravityRangeCompound!=null&&(v.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=w.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=E.gravityRangeCompound),E.initialEnergyOnIncremental!=null&&(v.DEFAULT_COOLING_FACTOR_INCREMENTAL=w.DEFAULT_COOLING_FACTOR_INCREMENTAL=E.initialEnergyOnIncremental),E.tilingCompareBy!=null&&(v.TILING_COMPARE_BY=E.tilingCompareBy),E.quality=="proof"?g.QUALITY=2:g.QUALITY=0,v.NODE_DIMENSIONS_INCLUDE_LABELS=w.NODE_DIMENSIONS_INCLUDE_LABELS=g.NODE_DIMENSIONS_INCLUDE_LABELS=E.nodeDimensionsIncludeLabels,v.DEFAULT_INCREMENTAL=w.DEFAULT_INCREMENTAL=g.DEFAULT_INCREMENTAL=!E.randomize,v.ANIMATE=w.ANIMATE=g.ANIMATE=E.animate,v.TILE=E.tile,v.TILING_PADDING_VERTICAL=typeof E.tilingPaddingVertical=="function"?E.tilingPaddingVertical.call():E.tilingPaddingVertical,v.TILING_PADDING_HORIZONTAL=typeof E.tilingPaddingHorizontal=="function"?E.tilingPaddingHorizontal.call():E.tilingPaddingHorizontal,v.DEFAULT_INCREMENTAL=w.DEFAULT_INCREMENTAL=g.DEFAULT_INCREMENTAL=!0,v.PURE_INCREMENTAL=!E.randomize,g.DEFAULT_UNIFORM_LEAF_NODE_SIZES=E.uniformNodeDimensions,E.step=="transformed"&&(v.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,v.ENFORCE_CONSTRAINTS=!1,v.APPLY_LAYOUT=!1),E.step=="enforced"&&(v.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,v.ENFORCE_CONSTRAINTS=!0,v.APPLY_LAYOUT=!1),E.step=="cose"&&(v.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,v.ENFORCE_CONSTRAINTS=!1,v.APPLY_LAYOUT=!0),E.step=="all"&&(E.randomize?v.TRANSFORM_ON_CONSTRAINT_HANDLING=!0:v.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,v.ENFORCE_CONSTRAINTS=!0,v.APPLY_LAYOUT=!0),E.fixedNodeConstraint||E.alignmentConstraint||E.relativePlacementConstraint?v.TREE_REDUCTION_ON_INCREMENTAL=!1:v.TREE_REDUCTION_ON_INCREMENTAL=!0;var U=new c,q=U.newGraphManager();return M(q.addRoot(),f.getTopMostNodes(k),U,E),R(U,q,S),V(U,E),U.runLayout(),I};s.exports={coseLayout:m}},212:(s,u,l)=>{var f=function(){function E(T,C){for(var b=0;b<C.length;b++){var k=C[b];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(T,k.key,k)}}return function(T,C,b){return C&&E(T.prototype,C),b&&E(T,b),T}}();function c(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}var h=l(658),d=l(548),p=l(657),g=p.spectralLayout,w=l(816),v=w.coseLayout,m=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:1e-7,nodeRepulsion:function(T){return 4500},idealEdgeLength:function(T){return 50},edgeElasticity:function(T){return .45},nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,tilingCompareBy:void 0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:function(){},stop:function(){}}),y=function(){function E(T){c(this,E),this.options=h({},m,T)}return f(E,[{key:"run",value:function(){var C=this,b=this.options,k=b.cy,S=b.eles,O=[],N=[],D=void 0,I=[];b.fixedNodeConstraint&&(!Array.isArray(b.fixedNodeConstraint)||b.fixedNodeConstraint.length==0)&&(b.fixedNodeConstraint=void 0),b.alignmentConstraint&&(b.alignmentConstraint.vertical&&(!Array.isArray(b.alignmentConstraint.vertical)||b.alignmentConstraint.vertical.length==0)&&(b.alignmentConstraint.vertical=void 0),b.alignmentConstraint.horizontal&&(!Array.isArray(b.alignmentConstraint.horizontal)||b.alignmentConstraint.horizontal.length==0)&&(b.alignmentConstraint.horizontal=void 0)),b.relativePlacementConstraint&&(!Array.isArray(b.relativePlacementConstraint)||b.relativePlacementConstraint.length==0)&&(b.relativePlacementConstraint=void 0);var x=b.fixedNodeConstraint||b.alignmentConstraint||b.relativePlacementConstraint;x&&(b.tile=!1,b.packComponents=!1);var P=void 0,L=!1;if(k.layoutUtilities&&b.packComponents&&(P=k.layoutUtilities("get"),P||(P=k.layoutUtilities()),L=!0),S.nodes().length>0)if(L){var V=d.getTopMostNodes(b.eles.nodes());if(D=d.connectComponents(k,b.eles,V),D.forEach(function(W){var Y=W.boundingBox();I.push({x:Y.x1+Y.w/2,y:Y.y1+Y.h/2})}),b.randomize&&D.forEach(function(W){b.eles=W,O.push(g(b))}),b.quality=="default"||b.quality=="proof"){var U=k.collection();if(b.tile){var q=new Map,$=[],X=[],B=0,H={nodeIndexes:q,xCoords:$,yCoords:X},j=[];if(D.forEach(function(W,Y){W.edges().length==0&&(W.nodes().forEach(function(ie,ve){U.merge(W.nodes()[ve]),ie.isParent()||(H.nodeIndexes.set(W.nodes()[ve].id(),B++),H.xCoords.push(W.nodes()[0].position().x),H.yCoords.push(W.nodes()[0].position().y))}),j.push(Y))}),U.length>1){var K=U.boundingBox();I.push({x:K.x1+K.w/2,y:K.y1+K.h/2}),D.push(U),O.push(H);for(var te=j.length-1;te>=0;te--)D.splice(j[te],1),O.splice(j[te],1),I.splice(j[te],1)}}D.forEach(function(W,Y){b.eles=W,N.push(v(b,O[Y])),d.relocateComponent(I[Y],N[Y],b)})}else D.forEach(function(W,Y){d.relocateComponent(I[Y],O[Y],b)});var re=new Set;if(D.length>1){var ue=[],se=S.filter(function(W){return W.css("display")=="none"});D.forEach(function(W,Y){var ie=void 0;if(b.quality=="draft"&&(ie=O[Y].nodeIndexes),W.nodes().not(se).length>0){var ve={};ve.edges=[],ve.nodes=[];var me=void 0;W.nodes().not(se).forEach(function(fe){if(b.quality=="draft")if(!fe.isParent())me=ie.get(fe.id()),ve.nodes.push({x:O[Y].xCoords[me]-fe.boundingbox().w/2,y:O[Y].yCoords[me]-fe.boundingbox().h/2,width:fe.boundingbox().w,height:fe.boundingbox().h});else{var le=d.calcBoundingBox(fe,O[Y].xCoords,O[Y].yCoords,ie);ve.nodes.push({x:le.topLeftX,y:le.topLeftY,width:le.width,height:le.height})}else N[Y][fe.id()]&&ve.nodes.push({x:N[Y][fe.id()].getLeft(),y:N[Y][fe.id()].getTop(),width:N[Y][fe.id()].getWidth(),height:N[Y][fe.id()].getHeight()})}),W.edges().forEach(function(fe){var le=fe.source(),ee=fe.target();if(le.css("display")!="none"&&ee.css("display")!="none")if(b.quality=="draft"){var oe=ie.get(le.id()),ge=ie.get(ee.id()),_e=[],we=[];if(le.isParent()){var ze=d.calcBoundingBox(le,O[Y].xCoords,O[Y].yCoords,ie);_e.push(ze.topLeftX+ze.width/2),_e.push(ze.topLeftY+ze.height/2)}else _e.push(O[Y].xCoords[oe]),_e.push(O[Y].yCoords[oe]);if(ee.isParent()){var Me=d.calcBoundingBox(ee,O[Y].xCoords,O[Y].yCoords,ie);we.push(Me.topLeftX+Me.width/2),we.push(Me.topLeftY+Me.height/2)}else we.push(O[Y].xCoords[ge]),we.push(O[Y].yCoords[ge]);ve.edges.push({startX:_e[0],startY:_e[1],endX:we[0],endY:we[1]})}else N[Y][le.id()]&&N[Y][ee.id()]&&ve.edges.push({startX:N[Y][le.id()].getCenterX(),startY:N[Y][le.id()].getCenterY(),endX:N[Y][ee.id()].getCenterX(),endY:N[Y][ee.id()].getCenterY()})}),ve.nodes.length>0&&(ue.push(ve),re.add(Y))}});var de=P.packComponents(ue,b.randomize).shifts;if(b.quality=="draft")O.forEach(function(W,Y){var ie=W.xCoords.map(function(me){return me+de[Y].dx}),ve=W.yCoords.map(function(me){return me+de[Y].dy});W.xCoords=ie,W.yCoords=ve});else{var be=0;re.forEach(function(W){Object.keys(N[W]).forEach(function(Y){var ie=N[W][Y];ie.setCenter(ie.getCenterX()+de[be].dx,ie.getCenterY()+de[be].dy)}),be++})}}}else{var M=b.eles.boundingBox();if(I.push({x:M.x1+M.w/2,y:M.y1+M.h/2}),b.randomize){var R=g(b);O.push(R)}b.quality=="default"||b.quality=="proof"?(N.push(v(b,O[0])),d.relocateComponent(I[0],N[0],b)):d.relocateComponent(I[0],O[0],b)}var z=function(Y,ie){if(b.quality=="default"||b.quality=="proof"){typeof Y=="number"&&(Y=ie);var ve=void 0,me=void 0,fe=Y.data("id");return N.forEach(function(ee){fe in ee&&(ve={x:ee[fe].getRect().getCenterX(),y:ee[fe].getRect().getCenterY()},me=ee[fe])}),b.nodeDimensionsIncludeLabels&&(me.labelWidth&&(me.labelPosHorizontal=="left"?ve.x+=me.labelWidth/2:me.labelPosHorizontal=="right"&&(ve.x-=me.labelWidth/2)),me.labelHeight&&(me.labelPosVertical=="top"?ve.y+=me.labelHeight/2:me.labelPosVertical=="bottom"&&(ve.y-=me.labelHeight/2))),ve==null&&(ve={x:Y.position("x"),y:Y.position("y")}),{x:ve.x,y:ve.y}}else{var le=void 0;return O.forEach(function(ee){var oe=ee.nodeIndexes.get(Y.id());oe!=null&&(le={x:ee.xCoords[oe],y:ee.yCoords[oe]})}),le==null&&(le={x:Y.position("x"),y:Y.position("y")}),{x:le.x,y:le.y}}};if(b.quality=="default"||b.quality=="proof"||b.randomize){var ae=d.calcParentsWithoutChildren(k,S),Z=S.filter(function(W){return W.css("display")=="none"});b.eles=S.not(Z),S.nodes().not(":parent").not(Z).layoutPositions(C,b,z),ae.length>0&&ae.forEach(function(W){W.position(z(W))})}else console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.")}}]),E}();s.exports=y},657:(s,u,l)=>{var f=l(548),c=l(140).layoutBase.Matrix,h=l(140).layoutBase.SVD,d=function(g){var w=g.cy,v=g.eles,m=v.nodes(),y=v.nodes(":parent"),E=new Map,T=new Map,C=new Map,b=[],k=[],S=[],O=[],N=[],D=[],I=[],x=[],P=void 0,L=1e8,M=1e-9,R=g.piTol,V=g.samplingType,U=g.nodeSeparation,q=void 0,$=function(){for(var Ee=0,Se=0,Ne=!1;Se<q;){Ee=Math.floor(Math.random()*P),Ne=!1;for(var ke=0;ke<Se;ke++)if(O[ke]==Ee){Ne=!0;break}if(!Ne)O[Se]=Ee,Se++;else continue}},X=function(Ee,Se,Ne){for(var ke=[],Fe=0,Ze=0,Ye=0,Ge=void 0,Be=[],Qe=0,pt=1,at=0;at<P;at++)Be[at]=L;for(ke[Ze]=Ee,Be[Ee]=0;Ze>=Fe;){Ye=ke[Fe++];for(var yt=b[Ye],Je=0;Je<yt.length;Je++)Ge=T.get(yt[Je]),Be[Ge]==L&&(Be[Ge]=Be[Ye]+1,ke[++Ze]=Ge);D[Ye][Se]=Be[Ye]*U}if(Ne){for(var rt=0;rt<P;rt++)D[rt][Se]<N[rt]&&(N[rt]=D[rt][Se]);for(var _t=0;_t<P;_t++)N[_t]>Qe&&(Qe=N[_t],pt=_t)}return pt},B=function(Ee){var Se=void 0;if(Ee){Se=Math.floor(Math.random()*P);for(var ke=0;ke<P;ke++)N[ke]=L;for(var Fe=0;Fe<q;Fe++)O[Fe]=Se,Se=X(Se,Fe,Ee)}else{$();for(var Ne=0;Ne<q;Ne++)X(O[Ne],Ne,Ee)}for(var Ze=0;Ze<P;Ze++)for(var Ye=0;Ye<q;Ye++)D[Ze][Ye]*=D[Ze][Ye];for(var Ge=0;Ge<q;Ge++)I[Ge]=[];for(var Be=0;Be<q;Be++)for(var Qe=0;Qe<q;Qe++)I[Be][Qe]=D[O[Qe]][Be]},H=function(){for(var Ee=h.svd(I),Se=Ee.S,Ne=Ee.U,ke=Ee.V,Fe=Se[0]*Se[0]*Se[0],Ze=[],Ye=0;Ye<q;Ye++){Ze[Ye]=[];for(var Ge=0;Ge<q;Ge++)Ze[Ye][Ge]=0,Ye==Ge&&(Ze[Ye][Ge]=Se[Ye]/(Se[Ye]*Se[Ye]+Fe/(Se[Ye]*Se[Ye])))}x=c.multMat(c.multMat(ke,Ze),c.transpose(Ne))},j=function(){for(var Ee=void 0,Se=void 0,Ne=[],ke=[],Fe=[],Ze=[],Ye=0;Ye<P;Ye++)Ne[Ye]=Math.random(),ke[Ye]=Math.random();Ne=c.normalize(Ne),ke=c.normalize(ke);for(var Ge=M,Be=M,Qe=void 0;;){for(var pt=0;pt<P;pt++)Fe[pt]=Ne[pt];if(Ne=c.multGamma(c.multL(c.multGamma(Fe),D,x)),Ee=c.dotProduct(Fe,Ne),Ne=c.normalize(Ne),Ge=c.dotProduct(Fe,Ne),Qe=Math.abs(Ge/Be),Qe<=1+R&&Qe>=1)break;Be=Ge}for(var at=0;at<P;at++)Fe[at]=Ne[at];for(Be=M;;){for(var yt=0;yt<P;yt++)Ze[yt]=ke[yt];if(Ze=c.minusOp(Ze,c.multCons(Fe,c.dotProduct(Fe,Ze))),ke=c.multGamma(c.multL(c.multGamma(Ze),D,x)),Se=c.dotProduct(Ze,ke),ke=c.normalize(ke),Ge=c.dotProduct(Ze,ke),Qe=Math.abs(Ge/Be),Qe<=1+R&&Qe>=1)break;Be=Ge}for(var Je=0;Je<P;Je++)Ze[Je]=ke[Je];k=c.multCons(Fe,Math.sqrt(Math.abs(Ee))),S=c.multCons(Ze,Math.sqrt(Math.abs(Se)))};f.connectComponents(w,v,f.getTopMostNodes(m),E),y.forEach(function(Ce){f.connectComponents(w,v,f.getTopMostNodes(Ce.descendants().intersection(v)),E)});for(var K=0,te=0;te<m.length;te++)m[te].isParent()||T.set(m[te].id(),K++);var re=!0,ue=!1,se=void 0;try{for(var de=E.keys()[Symbol.iterator](),be;!(re=(be=de.next()).done);re=!0){var z=be.value;T.set(z,K++)}}catch(Ce){ue=!0,se=Ce}finally{try{!re&&de.return&&de.return()}finally{if(ue)throw se}}for(var ae=0;ae<T.size;ae++)b[ae]=[];y.forEach(function(Ce){for(var Ee=Ce.children().intersection(v);Ee.nodes(":childless").length==0;)Ee=Ee.nodes()[0].children().intersection(v);var Se=0,Ne=Ee.nodes(":childless")[0].connectedEdges().length;Ee.nodes(":childless").forEach(function(ke,Fe){ke.connectedEdges().length<Ne&&(Ne=ke.connectedEdges().length,Se=Fe)}),C.set(Ce.id(),Ee.nodes(":childless")[Se].id())}),m.forEach(function(Ce){var Ee=void 0;Ce.isParent()?Ee=T.get(C.get(Ce.id())):Ee=T.get(Ce.id()),Ce.neighborhood().nodes().forEach(function(Se){v.intersection(Ce.edgesWith(Se)).length>0&&(Se.isParent()?b[Ee].push(C.get(Se.id())):b[Ee].push(Se.id()))})});var Z=function(Ee){var Se=T.get(Ee),Ne=void 0;E.get(Ee).forEach(function(ke){w.getElementById(ke).isParent()?Ne=C.get(ke):Ne=ke,b[Se].push(Ne),b[T.get(Ne)].push(Ee)})},W=!0,Y=!1,ie=void 0;try{for(var ve=E.keys()[Symbol.iterator](),me;!(W=(me=ve.next()).done);W=!0){var fe=me.value;Z(fe)}}catch(Ce){Y=!0,ie=Ce}finally{try{!W&&ve.return&&ve.return()}finally{if(Y)throw ie}}P=T.size;var le=void 0;if(P>2){q=P<g.sampleSize?P:g.sampleSize;for(var ee=0;ee<P;ee++)D[ee]=[];for(var oe=0;oe<q;oe++)x[oe]=[];return g.quality=="draft"||g.step=="all"?(B(V),H(),j(),le={nodeIndexes:T,xCoords:k,yCoords:S}):(T.forEach(function(Ce,Ee){k.push(w.getElementById(Ee).position("x")),S.push(w.getElementById(Ee).position("y"))}),le={nodeIndexes:T,xCoords:k,yCoords:S}),le}else{var ge=T.keys(),_e=w.getElementById(ge.next().value),we=_e.position(),ze=_e.outerWidth();if(k.push(we.x),S.push(we.y),P==2){var Me=w.getElementById(ge.next().value),Re=Me.outerWidth();k.push(we.x+ze/2+Re/2+g.idealEdgeLength),S.push(we.y)}return le={nodeIndexes:T,xCoords:k,yCoords:S},le}};s.exports={spectralLayout:d}},579:(s,u,l)=>{var f=l(212),c=function(d){d&&d("layout","fcose",f)};typeof cytoscape<"u"&&c(cytoscape),s.exports=c},140:s=>{s.exports=r}},i={};function o(s){var u=i[s];if(u!==void 0)return u.exports;var l=i[s]={exports:{}};return n[s](l,l.exports,o),l.exports}var a=o(579);return a})()})})(Wx);var xR=Wx.exports;const _R=qn(xR);var Yx={exports:{}},wd={},eo={},Ed={},Xn={},l1;function Xx(){if(l1)return Xn;l1=1,Object.defineProperty(Xn,"__esModule",{value:!0});var t=function(){function u(l,f,c){this.source=l,this.target=f,this.type=c}return u}();Xn.PowerEdge=t;var e=function(){function u(l,f,c,h){var d=this;if(this.linkAccessor=c,this.modules=new Array(l),this.roots=[],h)this.initModulesFromGroup(h);else{this.roots.push(new o);for(var p=0;p<l;++p)this.roots[0].add(this.modules[p]=new n(p))}this.R=f.length,f.forEach(function(g){var w=d.modules[c.getSourceIndex(g)],v=d.modules[c.getTargetIndex(g)],m=c.getType(g);w.outgoing.add(m,v),v.incoming.add(m,w)})}return u.prototype.initModulesFromGroup=function(l){var f=new o;this.roots.push(f);for(var c=0;c<l.leaves.length;++c){var h=l.leaves[c],d=new n(h.id);this.modules[h.id]=d,f.add(d)}if(l.groups)for(var p=0;p<l.groups.length;++p){var g=l.groups[p],w={};for(var v in g)v!=="leaves"&&v!=="groups"&&g.hasOwnProperty(v)&&(w[v]=g[v]);f.add(new n(-1-p,new a,new a,this.initModulesFromGroup(g),w))}return f},u.prototype.merge=function(l,f,c){c===void 0&&(c=0);var h=l.incoming.intersection(f.incoming),d=l.outgoing.intersection(f.outgoing),p=new o;p.add(l),p.add(f);var g=new n(this.modules.length,d,h,p);this.modules.push(g);var w=function(v,m,y){v.forAll(function(E,T){E.forAll(function(C){var b=C[m];b.add(T,g),b.remove(T,l),b.remove(T,f),l[y].remove(T,C),f[y].remove(T,C)})})};return w(d,"incoming","outgoing"),w(h,"outgoing","incoming"),this.R-=h.count()+d.count(),this.roots[c].remove(l),this.roots[c].remove(f),this.roots[c].add(g),g},u.prototype.rootMerges=function(l){l===void 0&&(l=0);for(var f=this.roots[l].modules(),c=f.length,h=new Array(c*(c-1)),d=0,p=0,g=c-1;p<g;++p)for(var w=p+1;w<c;++w){var v=f[p],m=f[w];h[d]={id:d,nEdges:this.nEdges(v,m),a:v,b:m},d++}return h},u.prototype.greedyMerge=function(){for(var l=0;l<this.roots.length;++l)if(!(this.roots[l].modules().length<2)){var f=this.rootMerges(l).sort(function(h,d){return h.nEdges==d.nEdges?h.id-d.id:h.nEdges-d.nEdges}),c=f[0];if(!(c.nEdges>=this.R))return this.merge(c.a,c.b,l),!0}},u.prototype.nEdges=function(l,f){var c=l.incoming.intersection(f.incoming),h=l.outgoing.intersection(f.outgoing);return this.R-c.count()-h.count()},u.prototype.getGroupHierarchy=function(l){var f=this,c=[],h={};r(this.roots[0],h,c);var d=this.allEdges();return d.forEach(function(p){var g=f.modules[p.source],w=f.modules[p.target];l.push(new t(typeof g.gid>"u"?p.source:c[g.gid],typeof w.gid>"u"?p.target:c[w.gid],p.type))}),c},u.prototype.allEdges=function(){var l=[];return u.getEdges(this.roots[0],l),l},u.getEdges=function(l,f){l.forAll(function(c){c.getEdges(f),u.getEdges(c.children,f)})},u}();Xn.Configuration=e;function r(u,l,f){u.forAll(function(c){if(c.isLeaf())l.leaves||(l.leaves=[]),l.leaves.push(c.id);else{var h=l;if(c.gid=f.length,!c.isIsland()||c.isPredefined()){if(h={id:c.gid},c.isPredefined())for(var d in c.definition)h[d]=c.definition[d];l.groups||(l.groups=[]),l.groups.push(c.gid),f.push(h)}r(c.children,h,f)}})}var n=function(){function u(l,f,c,h,d){f===void 0&&(f=new a),c===void 0&&(c=new a),h===void 0&&(h=new o),this.id=l,this.outgoing=f,this.incoming=c,this.children=h,this.definition=d}return u.prototype.getEdges=function(l){var f=this;this.outgoing.forAll(function(c,h){c.forAll(function(d){l.push(new t(f.id,d.id,h))})})},u.prototype.isLeaf=function(){return this.children.count()===0},u.prototype.isIsland=function(){return this.outgoing.count()===0&&this.incoming.count()===0},u.prototype.isPredefined=function(){return typeof this.definition<"u"},u}();Xn.Module=n;function i(u,l){var f={};for(var c in u)c in l&&(f[c]=u[c]);return f}var o=function(){function u(){this.table={}}return u.prototype.count=function(){return Object.keys(this.table).length},u.prototype.intersection=function(l){var f=new u;return f.table=i(this.table,l.table),f},u.prototype.intersectionCount=function(l){return this.intersection(l).count()},u.prototype.contains=function(l){return l in this.table},u.prototype.add=function(l){this.table[l.id]=l},u.prototype.remove=function(l){delete this.table[l.id]},u.prototype.forAll=function(l){for(var f in this.table)l(this.table[f])},u.prototype.modules=function(){var l=[];return this.forAll(function(f){f.isPredefined()||l.push(f)}),l},u}();Xn.ModuleSet=o;var a=function(){function u(){this.sets={},this.n=0}return u.prototype.count=function(){return this.n},u.prototype.contains=function(l){var f=!1;return this.forAllModules(function(c){!f&&c.id==l&&(f=!0)}),f},u.prototype.add=function(l,f){var c=l in this.sets?this.sets[l]:this.sets[l]=new o;c.add(f),++this.n},u.prototype.remove=function(l,f){var c=this.sets[l];c.remove(f),c.count()===0&&delete this.sets[l],--this.n},u.prototype.forAll=function(l){for(var f in this.sets)l(this.sets[f],Number(f))},u.prototype.forAllModules=function(l){this.forAll(function(f,c){return f.forAll(l)})},u.prototype.intersection=function(l){var f=new u;return this.forAll(function(c,h){if(h in l.sets){var d=c.intersection(l.sets[h]),p=d.count();p>0&&(f.sets[h]=d,f.n+=p)}}),f},u}();Xn.LinkSets=a;function s(u,l,f,c){for(var h=u.length,d=new e(h,l,f,c);d.greedyMerge(););var p=[],g=d.getGroupHierarchy(p);return p.forEach(function(w){var v=function(m){var y=w[m];typeof y=="number"&&(w[m]=u[y])};v("source"),v("target")}),{groups:g,powerEdges:p}}return Xn.getGroups=s,Xn}var Ri={},f1;function Ov(){if(f1)return Ri;f1=1,Object.defineProperty(Ri,"__esModule",{value:!0});function t(u,l){var f={};for(var c in u)f[c]={};for(var c in l)f[c]={};return Object.keys(f).length}function e(u,l){var f=0;for(var c in u)typeof l[c]<"u"&&++f;return f}function r(u,l){var f={},c=function(h,d){typeof f[h]>"u"&&(f[h]={}),f[h][d]={}};return u.forEach(function(h){var d=l.getSourceIndex(h),p=l.getTargetIndex(h);c(d,p),c(p,d)}),f}function n(u,l,f,c){var h=r(u,c);u.forEach(function(d){var p=h[c.getSourceIndex(d)],g=h[c.getTargetIndex(d)];c.setLength(d,1+l*f(p,g))})}function i(u,l,f){f===void 0&&(f=1),n(u,f,function(c,h){return Math.sqrt(t(c,h)-e(c,h))},l)}Ri.symmetricDiffLinkLengths=i;function o(u,l,f){f===void 0&&(f=1),n(u,f,function(c,h){return Math.min(Object.keys(c).length,Object.keys(h).length)<1.1?0:e(c,h)/t(c,h)},l)}Ri.jaccardLinkLengths=o;function a(u,l,f,c){var h=s(u,l,c),d={};h.forEach(function(g,w){return g.forEach(function(v){return d[v]=w})});var p=[];return l.forEach(function(g){var w=c.getSourceIndex(g),v=c.getTargetIndex(g),m=d[w],y=d[v];m!==y&&p.push({axis:f,left:w,right:v,gap:c.getMinSeparation(g)})}),p}Ri.generateDirectedEdgeConstraints=a;function s(u,l,f){var c=[],h=0,d=[],p=[];function g(S){S.index=S.lowlink=h++,d.push(S),S.onStack=!0;for(var O=0,N=S.out;O<N.length;O++){var D=N[O];typeof D.index>"u"?(g(D),S.lowlink=Math.min(S.lowlink,D.lowlink)):D.onStack&&(S.lowlink=Math.min(S.lowlink,D.index))}if(S.lowlink===S.index){for(var I=[];d.length&&(D=d.pop(),D.onStack=!1,I.push(D),D!==S););p.push(I.map(function(x){return x.id}))}}for(var w=0;w<u;w++)c.push({id:w,out:[]});for(var v=0,m=l;v<m.length;v++){var y=m[v],E=c[f.getSourceIndex(y)],T=c[f.getTargetIndex(y)];E.out.push(T)}for(var C=0,b=c;C<b.length;C++){var k=b[C];typeof k.index>"u"&&g(k)}return p}return Ri.stronglyConnectedComponents=s,Ri}var da={},c1;function Nv(){if(c1)return da;c1=1,Object.defineProperty(da,"__esModule",{value:!0});var t=function(){function n(){this.locks={}}return n.prototype.add=function(i,o){this.locks[i]=o},n.prototype.clear=function(){this.locks={}},n.prototype.isEmpty=function(){for(var i in this.locks)return!1;return!0},n.prototype.apply=function(i){for(var o in this.locks)i(Number(o),this.locks[o])},n}();da.Locks=t;var e=function(){function n(i,o,a){a===void 0&&(a=null),this.D=o,this.G=a,this.threshold=1e-4,this.numGridSnapNodes=0,this.snapGridSize=100,this.snapStrength=1e3,this.scaleSnapByMaxH=!1,this.random=new r,this.project=null,this.x=i,this.k=i.length;var s=this.n=i[0].length;this.H=new Array(this.k),this.g=new Array(this.k),this.Hd=new Array(this.k),this.a=new Array(this.k),this.b=new Array(this.k),this.c=new Array(this.k),this.d=new Array(this.k),this.e=new Array(this.k),this.ia=new Array(this.k),this.ib=new Array(this.k),this.xtmp=new Array(this.k),this.locks=new t,this.minD=Number.MAX_VALUE;for(var u=s,l;u--;)for(l=s;--l>u;){var f=o[u][l];f>0&&f<this.minD&&(this.minD=f)}for(this.minD===Number.MAX_VALUE&&(this.minD=1),u=this.k;u--;){for(this.g[u]=new Array(s),this.H[u]=new Array(s),l=s;l--;)this.H[u][l]=new Array(s);this.Hd[u]=new Array(s),this.a[u]=new Array(s),this.b[u]=new Array(s),this.c[u]=new Array(s),this.d[u]=new Array(s),this.e[u]=new Array(s),this.ia[u]=new Array(s),this.ib[u]=new Array(s),this.xtmp[u]=new Array(s)}}return n.createSquareMatrix=function(i,o){for(var a=new Array(i),s=0;s<i;++s){a[s]=new Array(i);for(var u=0;u<i;++u)a[s][u]=o(s,u)}return a},n.prototype.offsetDir=function(){for(var i=this,o=new Array(this.k),a=0,s=0;s<this.k;++s){var u=o[s]=this.random.getNextBetween(.01,1)-.5;a+=u*u}return a=Math.sqrt(a),o.map(function(l){return l*=i.minD/a})},n.prototype.computeDerivatives=function(i){var o=this,a=this.n;if(!(a<1)){for(var s,u=new Array(this.k),l=new Array(this.k),f=new Array(this.k),c=0,h=0;h<a;++h){for(s=0;s<this.k;++s)f[s]=this.g[s][h]=0;for(var d=0;d<a;++d)if(h!==d){for(var p=a;p--;){var g=0;for(s=0;s<this.k;++s){var w=u[s]=i[s][h]-i[s][d];g+=l[s]=w*w}if(g>1e-9)break;var v=this.offsetDir();for(s=0;s<this.k;++s)i[s][d]+=v[s]}var m=Math.sqrt(g),y=this.D[h][d],E=this.G!=null?this.G[h][d]:1;if(E>1&&m>y||!isFinite(y)){for(s=0;s<this.k;++s)this.H[s][h][d]=0;continue}E>1&&(E=1);var T=y*y,C=2*E*(m-y)/(T*m),b=m*m*m,k=2*-E/(T*b);for(isFinite(C)||console.log(C),s=0;s<this.k;++s)this.g[s][h]+=u[s]*C,f[s]-=this.H[s][h][d]=k*(b+y*(l[s]-g)+m*g)}for(s=0;s<this.k;++s)c=Math.max(c,this.H[s][h][h]=f[s])}for(var S=this.snapGridSize/2,O=this.snapGridSize,N=this.snapStrength,D=N/(S*S),I=this.numGridSnapNodes,h=0;h<I;++h)for(s=0;s<this.k;++s){var x=this.x[s][h],P=x/O,L=P%1,M=P-L,R=Math.abs(L),w=R<=.5?x-M*O:x>0?x-(M+1)*O:x-(M-1)*O;-S<w&&w<=S&&(this.scaleSnapByMaxH?(this.g[s][h]+=c*D*w,this.H[s][h][h]+=c*D):(this.g[s][h]+=D*w,this.H[s][h][h]+=D))}this.locks.isEmpty()||this.locks.apply(function(V,U){for(s=0;s<o.k;++s)o.H[s][V][V]+=c,o.g[s][V]-=c*(U[s]-i[s][V])})}},n.dotProd=function(i,o){for(var a=0,s=i.length;s--;)a+=i[s]*o[s];return a},n.rightMultiply=function(i,o,a){for(var s=i.length;s--;)a[s]=n.dotProd(i[s],o)},n.prototype.computeStepSize=function(i){for(var o=0,a=0,s=0;s<this.k;++s)o+=n.dotProd(this.g[s],i[s]),n.rightMultiply(this.H[s],i[s],this.Hd[s]),a+=n.dotProd(i[s],this.Hd[s]);return a===0||!isFinite(a)?0:1*o/a},n.prototype.reduceStress=function(){this.computeDerivatives(this.x);for(var i=this.computeStepSize(this.g),o=0;o<this.k;++o)this.takeDescentStep(this.x[o],this.g[o],i);return this.computeStress()},n.copy=function(i,o){for(var a=i.length,s=o[0].length,u=0;u<a;++u)for(var l=0;l<s;++l)o[u][l]=i[u][l]},n.prototype.stepAndProject=function(i,o,a,s){n.copy(i,o),this.takeDescentStep(o[0],a[0],s),this.project&&this.project[0](i[0],i[1],o[0]),this.takeDescentStep(o[1],a[1],s),this.project&&this.project[1](o[0],i[1],o[1]);for(var u=2;u<this.k;u++)this.takeDescentStep(o[u],a[u],s)},n.mApply=function(i,o,a){for(var s=i;s-- >0;)for(var u=o;u-- >0;)a(s,u)},n.prototype.matrixApply=function(i){n.mApply(this.k,this.n,i)},n.prototype.computeNextPosition=function(i,o){var a=this;this.computeDerivatives(i);var s=this.computeStepSize(this.g);if(this.stepAndProject(i,o,this.g,s),this.project){this.matrixApply(function(l,f){return a.e[l][f]=i[l][f]-o[l][f]});var u=this.computeStepSize(this.e);u=Math.max(.2,Math.min(u,1)),this.stepAndProject(i,o,this.e,u)}},n.prototype.run=function(i){for(var o=Number.MAX_VALUE,a=!1;!a&&i-- >0;){var s=this.rungeKutta();a=Math.abs(o/s-1)<this.threshold,o=s}return o},n.prototype.rungeKutta=function(){var i=this;this.computeNextPosition(this.x,this.a),n.mid(this.x,this.a,this.ia),this.computeNextPosition(this.ia,this.b),n.mid(this.x,this.b,this.ib),this.computeNextPosition(this.ib,this.c),this.computeNextPosition(this.c,this.d);var o=0;return this.matrixApply(function(a,s){var u=(i.a[a][s]+2*i.b[a][s]+2*i.c[a][s]+i.d[a][s])/6,l=i.x[a][s]-u;o+=l*l,i.x[a][s]=u}),o},n.mid=function(i,o,a){n.mApply(i.length,i[0].length,function(s,u){return a[s][u]=i[s][u]+(o[s][u]-i[s][u])/2})},n.prototype.takeDescentStep=function(i,o,a){for(var s=0;s<this.n;++s)i[s]=i[s]-a*o[s]},n.prototype.computeStress=function(){for(var i=0,o=0,a=this.n-1;o<a;++o)for(var s=o+1,u=this.n;s<u;++s){for(var l=0,f=0;f<this.k;++f){var c=this.x[f][o]-this.x[f][s];l+=c*c}l=Math.sqrt(l);var h=this.D[o][s];if(isFinite(h)){var d=h-l,p=h*h;i+=d*d/p}}return i},n.zeroDistance=1e-10,n}();da.Descent=e;var r=function(){function n(i){i===void 0&&(i=1),this.seed=i,this.a=214013,this.c=2531011,this.m=2147483648,this.range=32767}return n.prototype.getNext=function(){return this.seed=(this.seed*this.a+this.c)%this.m,(this.seed>>16)/this.range},n.prototype.getNextBetween=function(i,o){return i+this.getNext()*(o-i)},n}();return da.PseudoRandom=r,da}var jr={},Nn={},h1;function Iv(){if(h1)return Nn;h1=1,Object.defineProperty(Nn,"__esModule",{value:!0});var t=function(){function s(u){this.scale=u,this.AB=0,this.AD=0,this.A2=0}return s.prototype.addVariable=function(u){var l=this.scale/u.scale,f=u.offset/u.scale,c=u.weight;this.AB+=c*l*f,this.AD+=c*l*u.desiredPosition,this.A2+=c*l*l},s.prototype.getPosn=function(){return(this.AD-this.AB)/this.A2},s}();Nn.PositionStats=t;var e=function(){function s(u,l,f,c){c===void 0&&(c=!1),this.left=u,this.right=l,this.gap=f,this.equality=c,this.active=!1,this.unsatisfiable=!1,this.left=u,this.right=l,this.gap=f,this.equality=c}return s.prototype.slack=function(){return this.unsatisfiable?Number.MAX_VALUE:this.right.scale*this.right.position()-this.gap-this.left.scale*this.left.position()},s}();Nn.Constraint=e;var r=function(){function s(u,l,f){l===void 0&&(l=1),f===void 0&&(f=1),this.desiredPosition=u,this.weight=l,this.scale=f,this.offset=0}return s.prototype.dfdv=function(){return 2*this.weight*(this.position()-this.desiredPosition)},s.prototype.position=function(){return(this.block.ps.scale*this.block.posn+this.offset)/this.scale},s.prototype.visitNeighbours=function(u,l){var f=function(c,h){return c.active&&u!==h&&l(c,h)};this.cOut.forEach(function(c){return f(c,c.right)}),this.cIn.forEach(function(c){return f(c,c.left)})},s}();Nn.Variable=r;var n=function(){function s(u){this.vars=[],u.offset=0,this.ps=new t(u.scale),this.addVariable(u)}return s.prototype.addVariable=function(u){u.block=this,this.vars.push(u),this.ps.addVariable(u),this.posn=this.ps.getPosn()},s.prototype.updateWeightedPosition=function(){this.ps.AB=this.ps.AD=this.ps.A2=0;for(var u=0,l=this.vars.length;u<l;++u)this.ps.addVariable(this.vars[u]);this.posn=this.ps.getPosn()},s.prototype.compute_lm=function(u,l,f){var c=this,h=u.dfdv();return u.visitNeighbours(l,function(d,p){var g=c.compute_lm(p,u,f);p===d.right?(h+=g*d.left.scale,d.lm=g):(h+=g*d.right.scale,d.lm=-g),f(d)}),h/u.scale},s.prototype.populateSplitBlock=function(u,l){var f=this;u.visitNeighbours(l,function(c,h){h.offset=u.offset+(h===c.right?c.gap:-c.gap),f.addVariable(h),f.populateSplitBlock(h,u)})},s.prototype.traverse=function(u,l,f,c){var h=this;f===void 0&&(f=this.vars[0]),c===void 0&&(c=null),f.visitNeighbours(c,function(d,p){l.push(u(d)),h.traverse(u,l,p,f)})},s.prototype.findMinLM=function(){var u=null;return this.compute_lm(this.vars[0],null,function(l){!l.equality&&(u===null||l.lm<u.lm)&&(u=l)}),u},s.prototype.findMinLMBetween=function(u,l){this.compute_lm(u,null,function(){});var f=null;return this.findPath(u,null,l,function(c,h){!c.equality&&c.right===h&&(f===null||c.lm<f.lm)&&(f=c)}),f},s.prototype.findPath=function(u,l,f,c){var h=this,d=!1;return u.visitNeighbours(l,function(p,g){!d&&(g===f||h.findPath(g,u,f,c))&&(d=!0,c(p,g))}),d},s.prototype.isActiveDirectedPathBetween=function(u,l){if(u===l)return!0;for(var f=u.cOut.length;f--;){var c=u.cOut[f];if(c.active&&this.isActiveDirectedPathBetween(c.right,l))return!0}return!1},s.split=function(u){return u.active=!1,[s.createSplitBlock(u.left),s.createSplitBlock(u.right)]},s.createSplitBlock=function(u){var l=new s(u);return l.populateSplitBlock(u,null),l},s.prototype.splitBetween=function(u,l){var f=this.findMinLMBetween(u,l);if(f!==null){var c=s.split(f);return{constraint:f,lb:c[0],rb:c[1]}}return null},s.prototype.mergeAcross=function(u,l,f){l.active=!0;for(var c=0,h=u.vars.length;c<h;++c){var d=u.vars[c];d.offset+=f,this.addVariable(d)}this.posn=this.ps.getPosn()},s.prototype.cost=function(){for(var u=0,l=this.vars.length;l--;){var f=this.vars[l],c=f.position()-f.desiredPosition;u+=c*c*f.weight}return u},s}();Nn.Block=n;var i=function(){function s(u){this.vs=u;var l=u.length;for(this.list=new Array(l);l--;){var f=new n(u[l]);this.list[l]=f,f.blockInd=l}}return s.prototype.cost=function(){for(var u=0,l=this.list.length;l--;)u+=this.list[l].cost();return u},s.prototype.insert=function(u){u.blockInd=this.list.length,this.list.push(u)},s.prototype.remove=function(u){var l=this.list.length-1,f=this.list[l];this.list.length=l,u!==f&&(this.list[u.blockInd]=f,f.blockInd=u.blockInd)},s.prototype.merge=function(u){var l=u.left.block,f=u.right.block,c=u.right.offset-u.left.offset-u.gap;l.vars.length<f.vars.length?(f.mergeAcross(l,u,c),this.remove(l)):(l.mergeAcross(f,u,-c),this.remove(f))},s.prototype.forEach=function(u){this.list.forEach(u)},s.prototype.updateBlockPositions=function(){this.list.forEach(function(u){return u.updateWeightedPosition()})},s.prototype.split=function(u){var l=this;this.updateBlockPositions(),this.list.forEach(function(f){var c=f.findMinLM();c!==null&&c.lm<o.LAGRANGIAN_TOLERANCE&&(f=c.left.block,n.split(c).forEach(function(h){return l.insert(h)}),l.remove(f),u.push(c))})},s}();Nn.Blocks=i;var o=function(){function s(u,l){this.vs=u,this.cs=l,this.vs=u,u.forEach(function(f){f.cIn=[],f.cOut=[]}),this.cs=l,l.forEach(function(f){f.left.cOut.push(f),f.right.cIn.push(f)}),this.inactive=l.map(function(f){return f.active=!1,f}),this.bs=null}return s.prototype.cost=function(){return this.bs.cost()},s.prototype.setStartingPositions=function(u){this.inactive=this.cs.map(function(l){return l.active=!1,l}),this.bs=new i(this.vs),this.bs.forEach(function(l,f){return l.posn=u[f]})},s.prototype.setDesiredPositions=function(u){this.vs.forEach(function(l,f){return l.desiredPosition=u[f]})},s.prototype.mostViolated=function(){for(var u=Number.MAX_VALUE,l=null,f=this.inactive,c=f.length,h=c,d=0;d<c;++d){var p=f[d];if(!p.unsatisfiable){var g=p.slack();if((p.equality||g<u)&&(u=g,l=p,h=d,p.equality))break}}return h!==c&&(u<s.ZERO_UPPERBOUND&&!l.active||l.equality)&&(f[h]=f[c-1],f.length=c-1),l},s.prototype.satisfy=function(){this.bs==null&&(this.bs=new i(this.vs)),this.bs.split(this.inactive);for(var u=null;(u=this.mostViolated())&&(u.equality||u.slack()<s.ZERO_UPPERBOUND&&!u.active);){var l=u.left.block,f=u.right.block;if(l!==f)this.bs.merge(u);else{if(l.isActiveDirectedPathBetween(u.right,u.left)){u.unsatisfiable=!0;continue}var c=l.splitBetween(u.left,u.right);if(c!==null)this.bs.insert(c.lb),this.bs.insert(c.rb),this.bs.remove(l),this.inactive.push(c.constraint);else{u.unsatisfiable=!0;continue}u.slack()>=0?this.inactive.push(u):this.bs.merge(u)}}},s.prototype.solve=function(){this.satisfy();for(var u=Number.MAX_VALUE,l=this.bs.cost();Math.abs(u-l)>1e-4;)this.satisfy(),u=l,l=this.bs.cost();return l},s.LAGRANGIAN_TOLERANCE=-1e-4,s.ZERO_UPPERBOUND=-1e-10,s}();Nn.Solver=o;function a(s,u,l){for(var f=s.map(function(b){return new r(b.desiredCenter)}),c=[],h=s.length,d=0;d<h-1;d++){var p=s[d],g=s[d+1];c.push(new e(f[d],f[d+1],(p.size+g.size)/2))}var w=f[0],v=f[h-1],m=s[0].size/2,y=s[h-1].size/2,E=null,T=null;u&&(E=new r(u,w.weight*1e3),f.push(E),c.push(new e(E,w,m))),l&&(T=new r(l,v.weight*1e3),f.push(T),c.push(new e(v,T,y)));var C=new o(f,c);return C.solve(),{newCenters:f.slice(0,s.length).map(function(b){return b.position()}),lowerBound:E?E.position():w.position()-m,upperBound:T?T.position():v.position()+y}}return Nn.removeOverlapInOneDimension=a,Nn}var va={},d1;function jx(){if(d1)return va;d1=1;var t=It&&It.__extends||function(){var o=function(a,s){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,l){u.__proto__=l}||function(u,l){for(var f in l)l.hasOwnProperty(f)&&(u[f]=l[f])},o(a,s)};return function(a,s){o(a,s);function u(){this.constructor=a}a.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)}}();Object.defineProperty(va,"__esModule",{value:!0});var e=function(){function o(){this.findIter=function(a){for(var s=this._root,u=this.iterator();s!==null;){var l=this._comparator(a,s.data);if(l===0)return u._cursor=s,u;u._ancestors.push(s),s=s.get_child(l>0)}return null}}return o.prototype.clear=function(){this._root=null,this.size=0},o.prototype.find=function(a){for(var s=this._root;s!==null;){var u=this._comparator(a,s.data);if(u===0)return s.data;s=s.get_child(u>0)}return null},o.prototype.lowerBound=function(a){return this._bound(a,this._comparator)},o.prototype.upperBound=function(a){var s=this._comparator;function u(l,f){return s(f,l)}return this._bound(a,u)},o.prototype.min=function(){var a=this._root;if(a===null)return null;for(;a.left!==null;)a=a.left;return a.data},o.prototype.max=function(){var a=this._root;if(a===null)return null;for(;a.right!==null;)a=a.right;return a.data},o.prototype.iterator=function(){return new r(this)},o.prototype.each=function(a){for(var s=this.iterator(),u;(u=s.next())!==null;)a(u)},o.prototype.reach=function(a){for(var s=this.iterator(),u;(u=s.prev())!==null;)a(u)},o.prototype._bound=function(a,s){for(var u=this._root,l=this.iterator();u!==null;){var f=this._comparator(a,u.data);if(f===0)return l._cursor=u,l;l._ancestors.push(u),u=u.get_child(f>0)}for(var c=l._ancestors.length-1;c>=0;--c)if(u=l._ancestors[c],s(a,u.data)>0)return l._cursor=u,l._ancestors.length=c,l;return l._ancestors.length=0,l},o}();va.TreeBase=e;var r=function(){function o(a){this._tree=a,this._ancestors=[],this._cursor=null}return o.prototype.data=function(){return this._cursor!==null?this._cursor.data:null},o.prototype.next=function(){if(this._cursor===null){var a=this._tree._root;a!==null&&this._minNode(a)}else if(this._cursor.right===null){var s;do if(s=this._cursor,this._ancestors.length)this._cursor=this._ancestors.pop();else{this._cursor=null;break}while(this._cursor.right===s)}else this._ancestors.push(this._cursor),this._minNode(this._cursor.right);return this._cursor!==null?this._cursor.data:null},o.prototype.prev=function(){if(this._cursor===null){var a=this._tree._root;a!==null&&this._maxNode(a)}else if(this._cursor.left===null){var s;do if(s=this._cursor,this._ancestors.length)this._cursor=this._ancestors.pop();else{this._cursor=null;break}while(this._cursor.left===s)}else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left);return this._cursor!==null?this._cursor.data:null},o.prototype._minNode=function(a){for(;a.left!==null;)this._ancestors.push(a),a=a.left;this._cursor=a},o.prototype._maxNode=function(a){for(;a.right!==null;)this._ancestors.push(a),a=a.right;this._cursor=a},o}();va.Iterator=r;var n=function(){function o(a){this.data=a,this.left=null,this.right=null,this.red=!0}return o.prototype.get_child=function(a){return a?this.right:this.left},o.prototype.set_child=function(a,s){a?this.right=s:this.left=s},o}(),i=function(o){t(a,o);function a(s){var u=o.call(this)||this;return u._root=null,u._comparator=s,u.size=0,u}return a.prototype.insert=function(s){var u=!1;if(this._root===null)this._root=new n(s),u=!0,this.size++;else{var l=new n(void 0),f=!1,c=!1,h=null,d=l,p=null,g=this._root;for(d.right=this._root;;){if(g===null?(g=new n(s),p.set_child(f,g),u=!0,this.size++):a.is_red(g.left)&&a.is_red(g.right)&&(g.red=!0,g.left.red=!1,g.right.red=!1),a.is_red(g)&&a.is_red(p)){var w=d.right===h;g===p.get_child(c)?d.set_child(w,a.single_rotate(h,!c)):d.set_child(w,a.double_rotate(h,!c))}var v=this._comparator(g.data,s);if(v===0)break;c=f,f=v<0,h!==null&&(d=h),h=p,p=g,g=g.get_child(f)}this._root=l.right}return this._root.red=!1,u},a.prototype.remove=function(s){if(this._root===null)return!1;var u=new n(void 0),l=u;l.right=this._root;for(var f=null,c=null,h=null,d=!0;l.get_child(d)!==null;){var p=d;c=f,f=l,l=l.get_child(d);var g=this._comparator(s,l.data);if(d=g>0,g===0&&(h=l),!a.is_red(l)&&!a.is_red(l.get_child(d))){if(a.is_red(l.get_child(!d))){var w=a.single_rotate(l,d);f.set_child(p,w),f=w}else if(!a.is_red(l.get_child(!d))){var v=f.get_child(!p);if(v!==null)if(!a.is_red(v.get_child(!p))&&!a.is_red(v.get_child(p)))f.red=!1,v.red=!0,l.red=!0;else{var m=c.right===f;a.is_red(v.get_child(p))?c.set_child(m,a.double_rotate(f,p)):a.is_red(v.get_child(!p))&&c.set_child(m,a.single_rotate(f,p));var y=c.get_child(m);y.red=!0,l.red=!0,y.left.red=!1,y.right.red=!1}}}}return h!==null&&(h.data=l.data,f.set_child(f.right===l,l.get_child(l.left===null)),this.size--),this._root=u.right,this._root!==null&&(this._root.red=!1),h!==null},a.is_red=function(s){return s!==null&&s.red},a.single_rotate=function(s,u){var l=s.get_child(!u);return s.set_child(!u,l.get_child(u)),l.set_child(u,s),s.red=!0,l.red=!1,l},a.double_rotate=function(s,u){return s.set_child(!u,a.single_rotate(s.get_child(!u),!u)),a.single_rotate(s,u)},a}(e);return va.RBTree=i,va}var v1;function Zo(){if(v1)return jr;v1=1;var t=It&&It.__extends||function(){var k=function(S,O){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,D){N.__proto__=D}||function(N,D){for(var I in D)D.hasOwnProperty(I)&&(N[I]=D[I])},k(S,O)};return function(S,O){k(S,O);function N(){this.constructor=S}S.prototype=O===null?Object.create(O):(N.prototype=O.prototype,new N)}}();Object.defineProperty(jr,"__esModule",{value:!0});var e=Iv(),r=jx();function n(k){return k.bounds=typeof k.leaves<"u"?k.leaves.reduce(function(S,O){return O.bounds.union(S)},i.empty()):i.empty(),typeof k.groups<"u"&&(k.bounds=k.groups.reduce(function(S,O){return n(O).union(S)},k.bounds)),k.bounds=k.bounds.inflate(k.padding),k.bounds}jr.computeGroupBounds=n;var i=function(){function k(S,O,N,D){this.x=S,this.X=O,this.y=N,this.Y=D}return k.empty=function(){return new k(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)},k.prototype.cx=function(){return(this.x+this.X)/2},k.prototype.cy=function(){return(this.y+this.Y)/2},k.prototype.overlapX=function(S){var O=this.cx(),N=S.cx();return O<=N&&S.x<this.X?this.X-S.x:N<=O&&this.x<S.X?S.X-this.x:0},k.prototype.overlapY=function(S){var O=this.cy(),N=S.cy();return O<=N&&S.y<this.Y?this.Y-S.y:N<=O&&this.y<S.Y?S.Y-this.y:0},k.prototype.setXCentre=function(S){var O=S-this.cx();this.x+=O,this.X+=O},k.prototype.setYCentre=function(S){var O=S-this.cy();this.y+=O,this.Y+=O},k.prototype.width=function(){return this.X-this.x},k.prototype.height=function(){return this.Y-this.y},k.prototype.union=function(S){return new k(Math.min(this.x,S.x),Math.max(this.X,S.X),Math.min(this.y,S.y),Math.max(this.Y,S.Y))},k.prototype.lineIntersections=function(S,O,N,D){for(var I=[[this.x,this.y,this.X,this.y],[this.X,this.y,this.X,this.Y],[this.X,this.Y,this.x,this.Y],[this.x,this.Y,this.x,this.y]],x=[],P=0;P<4;++P){var L=k.lineIntersection(S,O,N,D,I[P][0],I[P][1],I[P][2],I[P][3]);L!==null&&x.push({x:L.x,y:L.y})}return x},k.prototype.rayIntersection=function(S,O){var N=this.lineIntersections(this.cx(),this.cy(),S,O);return N.length>0?N[0]:null},k.prototype.vertices=function(){return[{x:this.x,y:this.y},{x:this.X,y:this.y},{x:this.X,y:this.Y},{x:this.x,y:this.Y}]},k.lineIntersection=function(S,O,N,D,I,x,P,L){var M=N-S,R=P-I,V=D-O,U=L-x,q=U*M-R*V;if(q==0)return null;var $=S-I,X=O-x,B=R*X-U*$,H=B/q,j=M*X-V*$,K=j/q;return H>=0&&H<=1&&K>=0&&K<=1?{x:S+H*M,y:O+H*V}:null},k.prototype.inflate=function(S){return new k(this.x-S,this.X+S,this.y-S,this.Y+S)},k}();jr.Rectangle=i;function o(k,S,O){var N=k.rayIntersection(S.cx(),S.cy())||{x:k.cx(),y:k.cy()},D=S.rayIntersection(k.cx(),k.cy())||{x:S.cx(),y:S.cy()},I=D.x-N.x,x=D.y-N.y,P=Math.sqrt(I*I+x*x),L=P-O;return{sourceIntersection:N,targetIntersection:D,arrowStart:{x:N.x+L*I/P,y:N.y+L*x/P}}}jr.makeEdgeBetween=o;function a(k,S,O){var N=S.rayIntersection(k.x,k.y);N||(N={x:S.cx(),y:S.cy()});var D=N.x-k.x,I=N.y-k.y,x=Math.sqrt(D*D+I*I);return{x:N.x-O*D/x,y:N.y-O*I/x}}jr.makeEdgeTo=a;var s=function(){function k(S,O,N){this.v=S,this.r=O,this.pos=N,this.prev=f(),this.next=f()}return k}(),u=function(){function k(S,O,N){this.isOpen=S,this.v=O,this.pos=N}return k}();function l(k,S){return k.pos>S.pos?1:k.pos<S.pos||k.isOpen?-1:S.isOpen?1:0}function f(){return new r.RBTree(function(k,S){return k.pos-S.pos})}var c={getCentre:function(k){return k.cx()},getOpen:function(k){return k.y},getClose:function(k){return k.Y},getSize:function(k){return k.width()},makeRect:function(k,S,O,N){return new i(O-N/2,O+N/2,k,S)},findNeighbours:g},h={getCentre:function(k){return k.cy()},getOpen:function(k){return k.x},getClose:function(k){return k.X},getSize:function(k){return k.height()},makeRect:function(k,S,O,N){return new i(k,S,O-N/2,O+N/2)},findNeighbours:w};function d(k,S,O,N){N===void 0&&(N=!1);var D=k.padding,I=typeof k.groups<"u"?k.groups.length:0,x=typeof k.leaves<"u"?k.leaves.length:0,P=I?k.groups.reduce(function(re,ue){return re.concat(d(ue,S,O,!0))},[]):[],L=(N?2:0)+x+I,M=new Array(L),R=new Array(L),V=0,U=function(re,ue){R[V]=re,M[V++]=ue};if(N){var q=k.bounds,$=S.getCentre(q),X=S.getSize(q)/2,B=S.getOpen(q),H=S.getClose(q),j=$-X+D/2,K=$+X-D/2;k.minVar.desiredPosition=j,U(S.makeRect(B,H,j,D),k.minVar),k.maxVar.desiredPosition=K,U(S.makeRect(B,H,K,D),k.maxVar)}x&&k.leaves.forEach(function(re){return U(re.bounds,re.variable)}),I&&k.groups.forEach(function(re){var ue=re.bounds;U(S.makeRect(S.getOpen(ue),S.getClose(ue),S.getCentre(ue),S.getSize(ue)),re.minVar)});var te=p(R,M,S,O);return I&&(M.forEach(function(re){re.cOut=[],re.cIn=[]}),te.forEach(function(re){re.left.cOut.push(re),re.right.cIn.push(re)}),k.groups.forEach(function(re){var ue=(re.padding-S.getSize(re.bounds))/2;re.minVar.cIn.forEach(function(se){return se.gap+=ue}),re.minVar.cOut.forEach(function(se){se.left=re.maxVar,se.gap+=ue})})),P.concat(te)}function p(k,S,O,N){var D,I=k.length,x=2*I;console.assert(S.length>=I);var P=new Array(x);for(D=0;D<I;++D){var L=k[D],M=new s(S[D],L,O.getCentre(L));P[D]=new u(!0,M,O.getOpen(L)),P[D+I]=new u(!1,M,O.getClose(L))}P.sort(l);var R=new Array,V=f();for(D=0;D<x;++D){var U=P[D],M=U.v;if(U.isOpen)V.insert(M),O.findNeighbours(M,V);else{V.remove(M);var q=function(B,H){var j=(O.getSize(B.r)+O.getSize(H.r))/2+N;R.push(new e.Constraint(B.v,H.v,j))},$=function(B,H,j){for(var K,te=M[B].iterator();(K=te[B]())!==null;)j(K,M),K[H].remove(M)};$("prev","next",function(B,H){return q(B,H)}),$("next","prev",function(B,H){return q(H,B)})}}return console.assert(V.size===0),R}function g(k,S){var O=function(N,D){for(var I=S.findIter(k),x;(x=I[N]())!==null;){var P=x.r.overlapX(k.r);if((P<=0||P<=x.r.overlapY(k.r))&&(k[N].insert(x),x[D].insert(k)),P<=0)break}};O("next","prev"),O("prev","next")}function w(k,S){var O=function(N,D){var I=S.findIter(k)[N]();I!==null&&I.r.overlapX(k.r)>0&&(k[N].insert(I),I[D].insert(k))};O("next","prev"),O("prev","next")}function v(k,S){return p(k,S,c,1e-6)}jr.generateXConstraints=v;function m(k,S){return p(k,S,h,1e-6)}jr.generateYConstraints=m;function y(k){return d(k,c,1e-6)}jr.generateXGroupConstraints=y;function E(k){return d(k,h,1e-6)}jr.generateYGroupConstraints=E;function T(k){var S=k.map(function(D){return new e.Variable(D.cx())}),O=v(k,S),N=new e.Solver(S,O);N.solve(),S.forEach(function(D,I){return k[I].setXCentre(D.position())}),S=k.map(function(D){return new e.Variable(D.cy())}),O=m(k,S),N=new e.Solver(S,O),N.solve(),S.forEach(function(D,I){return k[I].setYCentre(D.position())})}jr.removeOverlaps=T;var C=function(k){t(S,k);function S(O,N){var D=k.call(this,0,N)||this;return D.index=O,D}return S}(e.Variable);jr.IndexedVariable=C;var b=function(){function k(S,O,N,D,I){var x=this;if(N===void 0&&(N=null),D===void 0&&(D=null),I===void 0&&(I=!1),this.nodes=S,this.groups=O,this.rootGroup=N,this.avoidOverlaps=I,this.variables=S.map(function(L,M){return L.variable=new C(M,1)}),D&&this.createConstraints(D),I&&N&&typeof N.groups<"u"){S.forEach(function(L){if(!L.width||!L.height){L.bounds=new i(L.x,L.x,L.y,L.y);return}var M=L.width/2,R=L.height/2;L.bounds=new i(L.x-M,L.x+M,L.y-R,L.y+R)}),n(N);var P=S.length;O.forEach(function(L){x.variables[P]=L.minVar=new C(P++,typeof L.stiffness<"u"?L.stiffness:.01),x.variables[P]=L.maxVar=new C(P++,typeof L.stiffness<"u"?L.stiffness:.01)})}}return k.prototype.createSeparation=function(S){return new e.Constraint(this.nodes[S.left].variable,this.nodes[S.right].variable,S.gap,typeof S.equality<"u"?S.equality:!1)},k.prototype.makeFeasible=function(S){var O=this;if(this.avoidOverlaps){var N="x",D="width";S.axis==="x"&&(N="y",D="height");var I=S.offsets.map(function(P){return O.nodes[P.node]}).sort(function(P,L){return P[N]-L[N]}),x=null;I.forEach(function(P){if(x){var L=x[N]+x[D];L>P[N]&&(P[N]=L)}x=P})}},k.prototype.createAlignment=function(S){var O=this,N=this.nodes[S.offsets[0].node].variable;this.makeFeasible(S);var D=S.axis==="x"?this.xConstraints:this.yConstraints;S.offsets.slice(1).forEach(function(I){var x=O.nodes[I.node].variable;D.push(new e.Constraint(N,x,I.offset,!0))})},k.prototype.createConstraints=function(S){var O=this,N=function(D){return typeof D.type>"u"||D.type==="separation"};this.xConstraints=S.filter(function(D){return D.axis==="x"&&N(D)}).map(function(D){return O.createSeparation(D)}),this.yConstraints=S.filter(function(D){return D.axis==="y"&&N(D)}).map(function(D){return O.createSeparation(D)}),S.filter(function(D){return D.type==="alignment"}).forEach(function(D){return O.createAlignment(D)})},k.prototype.setupVariablesAndBounds=function(S,O,N,D){this.nodes.forEach(function(I,x){I.fixed?(I.variable.weight=I.fixedWeight?I.fixedWeight:1e3,N[x]=D(I)):I.variable.weight=1;var P=(I.width||0)/2,L=(I.height||0)/2,M=S[x],R=O[x];I.bounds=new i(M-P,M+P,R-L,R+L)})},k.prototype.xProject=function(S,O,N){!this.rootGroup&&!(this.avoidOverlaps||this.xConstraints)||this.project(S,O,S,N,function(D){return D.px},this.xConstraints,y,function(D){return D.bounds.setXCentre(N[D.variable.index]=D.variable.position())},function(D){var I=N[D.minVar.index]=D.minVar.position(),x=N[D.maxVar.index]=D.maxVar.position(),P=D.padding/2;D.bounds.x=I-P,D.bounds.X=x+P})},k.prototype.yProject=function(S,O,N){!this.rootGroup&&!this.yConstraints||this.project(S,O,O,N,function(D){return D.py},this.yConstraints,E,function(D){return D.bounds.setYCentre(N[D.variable.index]=D.variable.position())},function(D){var I=N[D.minVar.index]=D.minVar.position(),x=N[D.maxVar.index]=D.maxVar.position(),P=D.padding/2;D.bounds.y=I-P,D.bounds.Y=x+P})},k.prototype.projectFunctions=function(){var S=this;return[function(O,N,D){return S.xProject(O,N,D)},function(O,N,D){return S.yProject(O,N,D)}]},k.prototype.project=function(S,O,N,D,I,x,P,L,M){this.setupVariablesAndBounds(S,O,D,I),this.rootGroup&&this.avoidOverlaps&&(n(this.rootGroup),x=x.concat(P(this.rootGroup))),this.solve(this.variables,x,N,D),this.nodes.forEach(L),this.rootGroup&&this.avoidOverlaps&&(this.groups.forEach(M),n(this.rootGroup))},k.prototype.solve=function(S,O,N,D){var I=new e.Solver(S,O);I.setStartingPositions(N),I.setDesiredPositions(D),I.solve()},k}();return jr.Projection=b,jr}var bs={},to={},p1;function Kx(){if(p1)return to;p1=1,Object.defineProperty(to,"__esModule",{value:!0});var t=function(){function r(n){this.elem=n,this.subheaps=[]}return r.prototype.toString=function(n){for(var i="",o=!1,a=0;a<this.subheaps.length;++a){var s=this.subheaps[a];if(!s.elem){o=!1;continue}o&&(i=i+","),i=i+s.toString(n),o=!0}return i!==""&&(i="("+i+")"),(this.elem?n(this.elem):"")+i},r.prototype.forEach=function(n){this.empty()||(n(this.elem,this),this.subheaps.forEach(function(i){return i.forEach(n)}))},r.prototype.count=function(){return this.empty()?0:1+this.subheaps.reduce(function(n,i){return n+i.count()},0)},r.prototype.min=function(){return this.elem},r.prototype.empty=function(){return this.elem==null},r.prototype.contains=function(n){if(this===n)return!0;for(var i=0;i<this.subheaps.length;i++)if(this.subheaps[i].contains(n))return!0;return!1},r.prototype.isHeap=function(n){var i=this;return this.subheaps.every(function(o){return n(i.elem,o.elem)&&o.isHeap(n)})},r.prototype.insert=function(n,i){return this.merge(new r(n),i)},r.prototype.merge=function(n,i){return this.empty()?n:n.empty()?this:i(this.elem,n.elem)?(this.subheaps.push(n),this):(n.subheaps.push(this),n)},r.prototype.removeMin=function(n){return this.empty()?null:this.mergePairs(n)},r.prototype.mergePairs=function(n){if(this.subheaps.length==0)return new r(null);if(this.subheaps.length==1)return this.subheaps[0];var i=this.subheaps.pop().merge(this.subheaps.pop(),n),o=this.mergePairs(n);return i.merge(o,n)},r.prototype.decreaseKey=function(n,i,o,a){var s=n.removeMin(a);n.elem=s.elem,n.subheaps=s.subheaps,o!==null&&s.elem!==null&&o(n.elem,n);var u=new r(i);return o!==null&&o(i,u),this.merge(u,a)},r}();to.PairingHeap=t;var e=function(){function r(n){this.lessThan=n}return r.prototype.top=function(){return this.empty()?null:this.root.elem},r.prototype.push=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var o,a=0,s;s=n[a];++a)o=new t(s),this.root=this.empty()?o:this.root.merge(o,this.lessThan);return o},r.prototype.empty=function(){return!this.root||!this.root.elem},r.prototype.isHeap=function(){return this.root.isHeap(this.lessThan)},r.prototype.forEach=function(n){this.root.forEach(n)},r.prototype.pop=function(){if(this.empty())return null;var n=this.root.min();return this.root=this.root.removeMin(this.lessThan),n},r.prototype.reduceKey=function(n,i,o){o===void 0&&(o=null),this.root=this.root.decreaseKey(n,i,o,this.lessThan)},r.prototype.toString=function(n){return this.root.toString(n)},r.prototype.count=function(){return this.root.count()},r}();return to.PriorityQueue=e,to}var g1;function bu(){if(g1)return bs;g1=1,Object.defineProperty(bs,"__esModule",{value:!0});var t=Kx(),e=function(){function o(a,s){this.id=a,this.distance=s}return o}(),r=function(){function o(a){this.id=a,this.neighbours=[]}return o}(),n=function(){function o(a,s,u){this.node=a,this.prev=s,this.d=u}return o}(),i=function(){function o(a,s,u,l,f){this.n=a,this.es=s,this.neighbours=new Array(this.n);for(var c=this.n;c--;)this.neighbours[c]=new r(c);for(c=this.es.length;c--;){var h=this.es[c],d=u(h),p=l(h),g=f(h);this.neighbours[d].neighbours.push(new e(p,g)),this.neighbours[p].neighbours.push(new e(d,g))}}return o.prototype.DistanceMatrix=function(){for(var a=new Array(this.n),s=0;s<this.n;++s)a[s]=this.dijkstraNeighbours(s);return a},o.prototype.DistancesFromNode=function(a){return this.dijkstraNeighbours(a)},o.prototype.PathFromNodeToNode=function(a,s){return this.dijkstraNeighbours(a,s)},o.prototype.PathFromNodeToNodeWithPrevCost=function(a,s,u){var l=new t.PriorityQueue(function(E,T){return E.d<=T.d}),f=this.neighbours[a],c=new n(f,null,0),h={};for(l.push(c);!l.empty()&&(c=l.pop(),f=c.node,f.id!==s);)for(var d=f.neighbours.length;d--;){var p=f.neighbours[d],g=this.neighbours[p.id];if(!(c.prev&&g.id===c.prev.node.id)){var w=g.id+","+f.id;if(!(w in h&&h[w]<=c.d)){var v=c.prev?u(c.prev.node.id,f.id,g.id):0,m=c.d+p.distance+v;h[w]=m,l.push(new n(g,c,m))}}}for(var y=[];c.prev;)c=c.prev,y.push(c.node.id);return y},o.prototype.dijkstraNeighbours=function(a,s){s===void 0&&(s=-1);for(var u=new t.PriorityQueue(function(v,m){return v.d<=m.d}),l=this.neighbours.length,f=new Array(l);l--;){var c=this.neighbours[l];c.d=l===a?0:Number.POSITIVE_INFINITY,c.q=u.push(c)}for(;!u.empty();){var h=u.pop();if(f[h.id]=h.d,h.id===s){for(var d=[],p=h;typeof p.prev<"u";)d.push(p.prev.id),p=p.prev;return d}for(l=h.neighbours.length;l--;){var g=h.neighbours[l],p=this.neighbours[g.id],w=h.d+g.distance;h.d!==Number.MAX_VALUE&&p.d>w&&(p.d=w,p.prev=h,u.reduceKey(p.q,p,function(m,y){return m.q=y}))}}return f},o}();return bs.Calculator=i,bs}var fr={},m1;function Zx(){if(m1)return fr;m1=1;var t=It&&It.__extends||function(){var I=function(x,P){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,M){L.__proto__=M}||function(L,M){for(var R in M)M.hasOwnProperty(R)&&(L[R]=M[R])},I(x,P)};return function(x,P){I(x,P);function L(){this.constructor=x}x.prototype=P===null?Object.create(P):(L.prototype=P.prototype,new L)}}();Object.defineProperty(fr,"__esModule",{value:!0});var e=Zo(),r=function(){function I(){}return I}();fr.Point=r;var n=function(){function I(x,P,L,M){this.x1=x,this.y1=P,this.x2=L,this.y2=M}return I}();fr.LineSegment=n;var i=function(I){t(x,I);function x(){return I!==null&&I.apply(this,arguments)||this}return x}(r);fr.PolyPoint=i;function o(I,x,P){return(x.x-I.x)*(P.y-I.y)-(P.x-I.x)*(x.y-I.y)}fr.isLeft=o;function a(I,x,P){return o(I,x,P)>0}function s(I,x,P){return o(I,x,P)<0}function u(I){var x=I.slice(0).sort(function(H,j){return H.x!==j.x?j.x-H.x:j.y-H.y}),P=I.length,L,M=0,R=x[0].x;for(L=1;L<P&&x[L].x===R;++L);var V=L-1,U=[];if(U.push(x[M]),V===P-1)x[V].y!==x[M].y&&U.push(x[V]);else{var q,$=P-1,X=x[P-1].x;for(L=P-2;L>=0&&x[L].x===X;L--);for(q=L+1,L=V;++L<=q;)if(!(o(x[M],x[q],x[L])>=0&&L<q)){for(;U.length>1&&!(o(U[U.length-2],U[U.length-1],x[L])>0);)U.length-=1;L!=M&&U.push(x[L])}$!=q&&U.push(x[$]);var B=U.length;for(L=q;--L>=V;)if(!(o(x[$],x[V],x[L])>=0&&L>V)){for(;U.length>B&&!(o(U[U.length-2],U[U.length-1],x[L])>0);)U.length-=1;L!=M&&U.push(x[L])}}return U}fr.ConvexHull=u;function l(I,x,P){x.slice(0).sort(function(L,M){return Math.atan2(L.y-I.y,L.x-I.x)-Math.atan2(M.y-I.y,M.x-I.x)}).forEach(P)}fr.clockwiseRadialSweep=l;function f(I,x){var P=x.slice(0);return P.push(x[0]),{rtan:c(I,P),ltan:h(I,P)}}function c(I,x){var P=x.length-1,L,M,R,V,U;if(s(I,x[1],x[0])&&!a(I,x[P-1],x[0]))return 0;for(L=0,M=P;;){if(M-L===1)return a(I,x[L],x[M])?L:M;if(R=Math.floor((L+M)/2),U=s(I,x[R+1],x[R]),U&&!a(I,x[R-1],x[R]))return R;V=a(I,x[L+1],x[L]),V?U||a(I,x[L],x[R])?M=R:L=R:U&&s(I,x[L],x[R])?M=R:L=R}}function h(I,x){var P=x.length-1,L,M,R,V,U;if(a(I,x[P-1],x[0])&&!s(I,x[1],x[0]))return 0;for(L=0,M=P;;){if(M-L===1)return s(I,x[L],x[M])?L:M;if(R=Math.floor((L+M)/2),U=s(I,x[R+1],x[R]),a(I,x[R-1],x[R])&&!U)return R;V=s(I,x[L+1],x[L]),V?U?s(I,x[L],x[R])?M=R:L=R:M=R:U?L=R:a(I,x[L],x[R])?M=R:L=R}}function d(I,x,P,L,M,R){var V,U;V=P(x[0],I),U=L(I[V],x);for(var q=!1;!q;){for(q=!0;V===I.length-1&&(V=0),!M(x[U],I[V],I[V+1]);)++V;for(;U===0&&(U=x.length-1),!R(I[V],x[U],x[U-1]);)--U,q=!1}return{t1:V,t2:U}}fr.tangent_PolyPolyC=d;function p(I,x){var P=g(x,I);return{t1:P.t2,t2:P.t1}}fr.LRtangent_PolyPolyC=p;function g(I,x){return d(I,x,c,h,a,s)}fr.RLtangent_PolyPolyC=g;function w(I,x){return d(I,x,h,h,s,s)}fr.LLtangent_PolyPolyC=w;function v(I,x){return d(I,x,c,c,a,a)}fr.RRtangent_PolyPolyC=v;var m=function(){function I(x,P){this.t1=x,this.t2=P}return I}();fr.BiTangent=m;var y=function(){function I(){}return I}();fr.BiTangents=y;var E=function(I){t(x,I);function x(){return I!==null&&I.apply(this,arguments)||this}return x}(r);fr.TVGPoint=E;var T=function(){function I(x,P,L,M){this.id=x,this.polyid=P,this.polyvertid=L,this.p=M,M.vv=this}return I}();fr.VisibilityVertex=T;var C=function(){function I(x,P){this.source=x,this.target=P}return I.prototype.length=function(){var x=this.source.p.x-this.target.p.x,P=this.source.p.y-this.target.p.y;return Math.sqrt(x*x+P*P)},I}();fr.VisibilityEdge=C;var b=function(){function I(x,P){if(this.P=x,this.V=[],this.E=[],P)this.V=P.V.slice(0),this.E=P.E.slice(0);else{for(var L=x.length,M=0;M<L;M++){for(var R=x[M],V=0;V<R.length;++V){var U=R[V],q=new T(this.V.length,M,V,U);this.V.push(q),V>0&&this.E.push(new C(R[V-1].vv,q))}R.length>1&&this.E.push(new C(R[0].vv,R[R.length-1].vv))}for(var M=0;M<L-1;M++)for(var $=x[M],V=M+1;V<L;V++){var X=x[V],B=S($,X);for(var H in B){var j=B[H],K=$[j.t1],te=X[j.t2];this.addEdgeIfVisible(K,te,M,V)}}}}return I.prototype.addEdgeIfVisible=function(x,P,L,M){this.intersectsPolys(new n(x.x,x.y,P.x,P.y),L,M)||this.E.push(new C(x.vv,P.vv))},I.prototype.addPoint=function(x,P){var L=this.P.length;this.V.push(new T(this.V.length,L,0,x));for(var M=0;M<L;++M)if(M!==P){var R=this.P[M],V=f(x,R);this.addEdgeIfVisible(x,R[V.ltan],P,M),this.addEdgeIfVisible(x,R[V.rtan],P,M)}return x.vv},I.prototype.intersectsPolys=function(x,P,L){for(var M=0,R=this.P.length;M<R;++M)if(M!=P&&M!=L&&k(x,this.P[M]).length>0)return!0;return!1},I}();fr.TangentVisibilityGraph=b;function k(I,x){for(var P=[],L=1,M=x.length;L<M;++L){var R=e.Rectangle.lineIntersection(I.x1,I.y1,I.x2,I.y2,x[L-1].x,x[L-1].y,x[L].x,x[L].y);R&&P.push(R)}return P}function S(I,x){for(var P=I.length-1,L=x.length-1,M=new y,R=0;R<P;++R)for(var V=0;V<L;++V){var U=I[R==0?P-1:R-1],q=I[R],$=I[R+1],X=x[V==0?L-1:V-1],B=x[V],H=x[V+1],j=o(U,q,B),K=o(q,X,B),te=o(q,B,H),re=o(X,B,q),ue=o(B,U,q),se=o(B,q,$);j>=0&&K>=0&&te<0&&re>=0&&ue>=0&&se<0?M.ll=new m(R,V):j<=0&&K<=0&&te>0&&re<=0&&ue<=0&&se>0?M.rr=new m(R,V):j<=0&&K>0&&te<=0&&re>=0&&ue<0&&se>=0?M.rl=new m(R,V):j>=0&&K<0&&te>=0&&re<=0&&ue>0&&se<=0&&(M.lr=new m(R,V))}return M}fr.tangents=S;function O(I,x){for(var P=1,L=x.length;P<L;++P)if(s(x[P-1],x[P],I))return!1;return!0}function N(I,x){return!I.every(function(P){return!O(P,x)})}function D(I,x){if(N(I,x)||N(x,I))return!0;for(var P=1,L=I.length;P<L;++P){var M=I[P],R=I[P-1];if(k(new n(R.x,R.y,M.x,M.y),x).length>0)return!0}return!1}return fr.polysOverlap=D,fr}var ro={},y1;function Qx(){if(y1)return ro;y1=1,Object.defineProperty(ro,"__esModule",{value:!0});var t={PADDING:10,GOLDEN_SECTION:(1+Math.sqrt(5))/2,FLOAT_EPSILON:1e-4,MAX_INERATIONS:100};function e(n,i,o,p,d,u){d===void 0&&(d=1),u===void 0&&(u=!0);var l=0,f=0,c=i,h=o,d=typeof d<"u"?d:1,p=typeof p<"u"?p:0,g=0,w=0,v=0,m=0,y=[];if(n.length==0)return;E(n),C(n),u&&T(n);function E(N){N.forEach(function(I){D(I)});function D(I){var x=Number.MAX_VALUE,P=Number.MAX_VALUE,L=0,M=0;I.array.forEach(function(R){var V=typeof R.width<"u"?R.width:p,U=typeof R.height<"u"?R.height:p;V/=2,U/=2,L=Math.max(R.x+V,L),x=Math.min(R.x-V,x),M=Math.max(R.y+U,M),P=Math.min(R.y-U,P)}),I.width=L-x,I.height=M-P}}function T(N){N.forEach(function(D){var I={x:0,y:0};D.array.forEach(function(L){I.x+=L.x,I.y+=L.y}),I.x/=D.array.length,I.y/=D.array.length;var x={x:I.x-D.width/2,y:I.y-D.height/2},P={x:D.x-x.x+c/2-g/2,y:D.y-x.y+h/2-w/2};D.array.forEach(function(L){L.x+=P.x,L.y+=P.y})})}function C(N,D){var I=Number.POSITIVE_INFINITY,x=0;N.sort(function(H,j){return j.height-H.height}),v=N.reduce(function(H,j){return H.width<j.width?H.width:j.width});for(var P=X=v,L=B=S(N),M=0,R=Number.MAX_VALUE,V=Number.MAX_VALUE,U=-1,q=Number.MAX_VALUE,$=Number.MAX_VALUE;q>v||$>t.FLOAT_EPSILON;){if(U!=1)var X=L-(L-P)/t.GOLDEN_SECTION,R=b(N,X);if(U!=0)var B=P+(L-P)/t.GOLDEN_SECTION,V=b(N,B);if(q=Math.abs(X-B),$=Math.abs(R-V),R<I&&(I=R,x=X),V<I&&(I=V,x=B),R>V?(P=X,X=B,R=V,U=1):(L=B,B=X,V=R,U=0),M++>100)break}b(N,x)}function b(N,D){y=[],g=0,w=0,m=f;for(var I=0;I<N.length;I++){var x=N[I];k(x,D)}return Math.abs(O()-d)}function k(N,D){for(var I=void 0,x=0;x<y.length;x++)if(y[x].space_left>=N.height&&y[x].x+y[x].width+N.width+t.PADDING-D<=t.FLOAT_EPSILON){I=y[x];break}y.push(N),I!==void 0?(N.x=I.x+I.width+t.PADDING,N.y=I.bottom,N.space_left=N.height,N.bottom=N.y,I.space_left-=N.height+t.PADDING,I.bottom+=N.height+t.PADDING):(N.y=m,m+=N.height+t.PADDING,N.x=l,N.bottom=N.y,N.space_left=N.height),N.y+N.height-w>-t.FLOAT_EPSILON&&(w=N.y+N.height-f),N.x+N.width-g>-t.FLOAT_EPSILON&&(g=N.x+N.width-l)}function S(N){var D=0;return N.forEach(function(I){return D+=I.width+t.PADDING}),D}function O(){return g/w}}ro.applyPacking=e;function r(n,i){for(var o={},a={},s=[],u=0,l=0;l<i.length;l++){var f=i[l],c=f.source,h=f.target;a[c.index]?a[c.index].push(h):a[c.index]=[h],a[h.index]?a[h.index].push(c):a[h.index]=[c]}for(var l=0;l<n.length;l++){var d=n[l];o[d.index]||p(d,!0)}function p(g,w){if(o[g.index]===void 0){w&&(u++,s.push({array:[]})),o[g.index]=u,s[u-1].array.push(g);var v=a[g.index];if(v)for(var m=0;m<v.length;m++)p(v[m],!1)}}return s}return ro.separateGraphs=r,ro}var b1;function Qo(){return b1||(b1=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Xx(),r=Ov(),n=Nv(),i=Zo(),o=bu(),a=Zx(),s=Qx(),u;(function(c){c[c.start=0]="start",c[c.tick=1]="tick",c[c.end=2]="end"})(u=t.EventType||(t.EventType={}));function l(c){return typeof c.leaves<"u"||typeof c.groups<"u"}var f=function(){function c(){var h=this;this._canvasSize=[1,1],this._linkDistance=20,this._defaultNodeSize=10,this._linkLengthCalculator=null,this._linkType=null,this._avoidOverlaps=!1,this._handleDisconnected=!0,this._running=!1,this._nodes=[],this._groups=[],this._rootGroup=null,this._links=[],this._constraints=[],this._distanceMatrix=null,this._descent=null,this._directedLinkConstraints=null,this._threshold=.01,this._visibilityGraph=null,this._groupCompactness=1e-6,this.event=null,this.linkAccessor={getSourceIndex:c.getSourceIndex,getTargetIndex:c.getTargetIndex,setLength:c.setLinkLength,getType:function(d){return typeof h._linkType=="function"?h._linkType(d):0}}}return c.prototype.on=function(h,d){return this.event||(this.event={}),typeof h=="string"?this.event[u[h]]=d:this.event[h]=d,this},c.prototype.trigger=function(h){this.event&&typeof this.event[h.type]<"u"&&this.event[h.type](h)},c.prototype.kick=function(){for(;!this.tick(););},c.prototype.tick=function(){if(this._alpha<this._threshold)return this._running=!1,this.trigger({type:u.end,alpha:this._alpha=0,stress:this._lastStress}),!0;var h=this._nodes.length;this._links.length;var d,p;for(this._descent.locks.clear(),p=0;p<h;++p)if(d=this._nodes[p],d.fixed){(typeof d.px>"u"||typeof d.py>"u")&&(d.px=d.x,d.py=d.y);var g=[d.px,d.py];this._descent.locks.add(p,g)}var w=this._descent.rungeKutta();return w===0?this._alpha=0:typeof this._lastStress<"u"&&(this._alpha=w),this._lastStress=w,this.updateNodePositions(),this.trigger({type:u.tick,alpha:this._alpha,stress:this._lastStress}),!1},c.prototype.updateNodePositions=function(){for(var h=this._descent.x[0],d=this._descent.x[1],p,g=this._nodes.length;g--;)p=this._nodes[g],p.x=h[g],p.y=d[g]},c.prototype.nodes=function(h){if(!h){if(this._nodes.length===0&&this._links.length>0){var d=0;this._links.forEach(function(g){d=Math.max(d,g.source,g.target)}),this._nodes=new Array(++d);for(var p=0;p<d;++p)this._nodes[p]={}}return this._nodes}return this._nodes=h,this},c.prototype.groups=function(h){var d=this;return h?(this._groups=h,this._rootGroup={},this._groups.forEach(function(p){typeof p.padding>"u"&&(p.padding=1),typeof p.leaves<"u"&&p.leaves.forEach(function(g,w){typeof g=="number"&&((p.leaves[w]=d._nodes[g]).parent=p)}),typeof p.groups<"u"&&p.groups.forEach(function(g,w){typeof g=="number"&&((p.groups[w]=d._groups[g]).parent=p)})}),this._rootGroup.leaves=this._nodes.filter(function(p){return typeof p.parent>"u"}),this._rootGroup.groups=this._groups.filter(function(p){return typeof p.parent>"u"}),this):this._groups},c.prototype.powerGraphGroups=function(h){var d=e.getGroups(this._nodes,this._links,this.linkAccessor,this._rootGroup);return this.groups(d.groups),h(d),this},c.prototype.avoidOverlaps=function(h){return arguments.length?(this._avoidOverlaps=h,this):this._avoidOverlaps},c.prototype.handleDisconnected=function(h){return arguments.length?(this._handleDisconnected=h,this):this._handleDisconnected},c.prototype.flowLayout=function(h,d){return arguments.length||(h="y"),this._directedLinkConstraints={axis:h,getMinSeparation:typeof d=="number"?function(){return d}:d},this},c.prototype.links=function(h){return arguments.length?(this._links=h,this):this._links},c.prototype.constraints=function(h){return arguments.length?(this._constraints=h,this):this._constraints},c.prototype.distanceMatrix=function(h){return arguments.length?(this._distanceMatrix=h,this):this._distanceMatrix},c.prototype.size=function(h){return h?(this._canvasSize=h,this):this._canvasSize},c.prototype.defaultNodeSize=function(h){return h?(this._defaultNodeSize=h,this):this._defaultNodeSize},c.prototype.groupCompactness=function(h){return h?(this._groupCompactness=h,this):this._groupCompactness},c.prototype.linkDistance=function(h){return h?(this._linkDistance=typeof h=="function"?h:+h,this._linkLengthCalculator=null,this):this._linkDistance},c.prototype.linkType=function(h){return this._linkType=h,this},c.prototype.convergenceThreshold=function(h){return h?(this._threshold=typeof h=="function"?h:+h,this):this._threshold},c.prototype.alpha=function(h){return arguments.length?(h=+h,this._alpha?h>0?this._alpha=h:this._alpha=0:h>0&&(this._running||(this._running=!0,this.trigger({type:u.start,alpha:this._alpha=h}),this.kick())),this):this._alpha},c.prototype.getLinkLength=function(h){return typeof this._linkDistance=="function"?+this._linkDistance(h):this._linkDistance},c.setLinkLength=function(h,d){h.length=d},c.prototype.getLinkType=function(h){return typeof this._linkType=="function"?this._linkType(h):0},c.prototype.symmetricDiffLinkLengths=function(h,d){var p=this;return d===void 0&&(d=1),this.linkDistance(function(g){return h*g.length}),this._linkLengthCalculator=function(){return r.symmetricDiffLinkLengths(p._links,p.linkAccessor,d)},this},c.prototype.jaccardLinkLengths=function(h,d){var p=this;return d===void 0&&(d=1),this.linkDistance(function(g){return h*g.length}),this._linkLengthCalculator=function(){return r.jaccardLinkLengths(p._links,p.linkAccessor,d)},this},c.prototype.start=function(h,d,p,g,w,v){var m=this;h===void 0&&(h=0),d===void 0&&(d=0),p===void 0&&(p=0),g===void 0&&(g=0),w===void 0&&(w=!0),v===void 0&&(v=!0);var y,E=this.nodes().length,T=E+2*this._groups.length;this._links.length;var C=this._canvasSize[0],b=this._canvasSize[1],k=new Array(T),S=new Array(T),O=null,N=this._avoidOverlaps;this._nodes.forEach(function(V,U){V.index=U,typeof V.x>"u"&&(V.x=C/2,V.y=b/2),k[U]=V.x,S[U]=V.y}),this._linkLengthCalculator&&this._linkLengthCalculator();var D;this._distanceMatrix?D=this._distanceMatrix:(D=new o.Calculator(T,this._links,c.getSourceIndex,c.getTargetIndex,function(V){return m.getLinkLength(V)}).DistanceMatrix(),O=n.Descent.createSquareMatrix(T,function(){return 2}),this._links.forEach(function(V){typeof V.source=="number"&&(V.source=m._nodes[V.source]),typeof V.target=="number"&&(V.target=m._nodes[V.target])}),this._links.forEach(function(V){var U=c.getSourceIndex(V),q=c.getTargetIndex(V);O[U][q]=O[q][U]=V.weight||1}));var I=n.Descent.createSquareMatrix(T,function(V,U){return D[V][U]});if(this._rootGroup&&typeof this._rootGroup.groups<"u"){var y=E,x=function(U,q,$,X){O[U][q]=O[q][U]=$,I[U][q]=I[q][U]=X};this._groups.forEach(function(U){x(y,y+1,m._groupCompactness,.1),k[y]=0,S[y++]=0,k[y]=0,S[y++]=0})}else this._rootGroup={leaves:this._nodes,groups:[]};var P=this._constraints||[];this._directedLinkConstraints&&(this.linkAccessor.getMinSeparation=this._directedLinkConstraints.getMinSeparation,P=P.concat(r.generateDirectedEdgeConstraints(E,this._links,this._directedLinkConstraints.axis,this.linkAccessor))),this.avoidOverlaps(!1),this._descent=new n.Descent([k,S],I),this._descent.locks.clear();for(var y=0;y<E;++y){var L=this._nodes[y];if(L.fixed){L.px=L.x,L.py=L.y;var M=[L.x,L.y];this._descent.locks.add(y,M)}}if(this._descent.threshold=this._threshold,this.initialLayout(h,k,S),P.length>0&&(this._descent.project=new i.Projection(this._nodes,this._groups,this._rootGroup,P).projectFunctions()),this._descent.run(d),this.separateOverlappingComponents(C,b,v),this.avoidOverlaps(N),N&&(this._nodes.forEach(function(V,U){V.x=k[U],V.y=S[U]}),this._descent.project=new i.Projection(this._nodes,this._groups,this._rootGroup,P,!0).projectFunctions(),this._nodes.forEach(function(V,U){k[U]=V.x,S[U]=V.y})),this._descent.G=O,this._descent.run(p),g){this._descent.snapStrength=1e3,this._descent.snapGridSize=this._nodes[0].width,this._descent.numGridSnapNodes=E,this._descent.scaleSnapByMaxH=E!=T;var R=n.Descent.createSquareMatrix(T,function(V,U){return V>=E||U>=E?O[V][U]:0});this._descent.G=R,this._descent.run(g)}return this.updateNodePositions(),this.separateOverlappingComponents(C,b,v),w?this.resume():this},c.prototype.initialLayout=function(h,d,p){if(this._groups.length>0&&h>0){var g=this._nodes.length,w=this._links.map(function(m){return{source:m.source.index,target:m.target.index}}),v=this._nodes.map(function(m){return{index:m.index}});this._groups.forEach(function(m,y){v.push({index:m.index=g+y})}),this._groups.forEach(function(m,y){typeof m.leaves<"u"&&m.leaves.forEach(function(E){return w.push({source:m.index,target:E.index})}),typeof m.groups<"u"&&m.groups.forEach(function(E){return w.push({source:m.index,target:E.index})})}),new c().size(this.size()).nodes(v).links(w).avoidOverlaps(!1).linkDistance(this.linkDistance()).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(h,0,0,0,!1),this._nodes.forEach(function(m){d[m.index]=v[m.index].x,p[m.index]=v[m.index].y})}else this._descent.run(h)},c.prototype.separateOverlappingComponents=function(h,d,p){var g=this;if(p===void 0&&(p=!0),!this._distanceMatrix&&this._handleDisconnected){var w=this._descent.x[0],v=this._descent.x[1];this._nodes.forEach(function(y,E){y.x=w[E],y.y=v[E]});var m=s.separateGraphs(this._nodes,this._links);s.applyPacking(m,h,d,this._defaultNodeSize,1,p),this._nodes.forEach(function(y,E){g._descent.x[0][E]=y.x,g._descent.x[1][E]=y.y,y.bounds&&(y.bounds.setXCentre(y.x),y.bounds.setYCentre(y.y))})}},c.prototype.resume=function(){return this.alpha(.1)},c.prototype.stop=function(){return this.alpha(0)},c.prototype.prepareEdgeRouting=function(h){h===void 0&&(h=0),this._visibilityGraph=new a.TangentVisibilityGraph(this._nodes.map(function(d){return d.bounds.inflate(-h).vertices()}))},c.prototype.routeEdge=function(h,d,p){d===void 0&&(d=5);var g=[],w=new a.TangentVisibilityGraph(this._visibilityGraph.P,{V:this._visibilityGraph.V,E:this._visibilityGraph.E}),v={x:h.source.x,y:h.source.y},m={x:h.target.x,y:h.target.y},y=w.addPoint(v,h.source.index),E=w.addPoint(m,h.target.index);w.addEdgeIfVisible(v,m,h.source.index,h.target.index),typeof p<"u"&&p(w);var T=function(P){return P.source.id},C=function(P){return P.target.id},b=function(P){return P.length()},k=new o.Calculator(w.V.length,w.E,T,C,b),S=k.PathFromNodeToNode(y.id,E.id);if(S.length===1||S.length===w.V.length){var O=i.makeEdgeBetween(h.source.innerBounds,h.target.innerBounds,d);g=[O.sourceIntersection,O.arrowStart]}else{for(var N=S.length-2,D=w.V[S[N]].p,I=w.V[S[0]].p,g=[h.source.innerBounds.rayIntersection(D.x,D.y)],x=N;x>=0;--x)g.push(w.V[S[x]].p);g.push(i.makeEdgeTo(I,h.target.innerBounds,d))}return g},c.getSourceIndex=function(h){return typeof h.source=="number"?h.source:h.source.index},c.getTargetIndex=function(h){return typeof h.target=="number"?h.target:h.target.index},c.linkId=function(h){return c.getSourceIndex(h)+"-"+c.getTargetIndex(h)},c.dragStart=function(h){l(h)?c.storeOffset(h,c.dragOrigin(h)):(c.stopNode(h),h.fixed|=2)},c.stopNode=function(h){h.px=h.x,h.py=h.y},c.storeOffset=function(h,d){typeof h.leaves<"u"&&h.leaves.forEach(function(p){p.fixed|=2,c.stopNode(p),p._dragGroupOffsetX=p.x-d.x,p._dragGroupOffsetY=p.y-d.y}),typeof h.groups<"u"&&h.groups.forEach(function(p){return c.storeOffset(p,d)})},c.dragOrigin=function(h){return l(h)?{x:h.bounds.cx(),y:h.bounds.cy()}:h},c.drag=function(h,d){l(h)?(typeof h.leaves<"u"&&h.leaves.forEach(function(p){h.bounds.setXCentre(d.x),h.bounds.setYCentre(d.y),p.px=p._dragGroupOffsetX+d.x,p.py=p._dragGroupOffsetY+d.y}),typeof h.groups<"u"&&h.groups.forEach(function(p){return c.drag(p,d)})):(h.px=d.x,h.py=d.y)},c.dragEnd=function(h){l(h)?(typeof h.leaves<"u"&&h.leaves.forEach(function(d){c.dragEnd(d),delete d._dragGroupOffsetX,delete d._dragGroupOffsetY}),typeof h.groups<"u"&&h.groups.forEach(c.dragEnd)):h.fixed&=-7},c.mouseOver=function(h){h.fixed|=4,h.px=h.x,h.py=h.y},c.mouseOut=function(h){h.fixed&=-5},c}();t.Layout=f}(Ed)),Ed}var w1;function CR(){if(w1)return eo;w1=1;var t=It&&It.__extends||function(){var i=function(o,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])},i(o,a)};return function(o,a){i(o,a);function s(){this.constructor=o}o.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}();Object.defineProperty(eo,"__esModule",{value:!0});var e=Qo(),r=function(i){t(o,i);function o(a){var s=i.call(this)||this,u=a;return u.trigger&&(s.trigger=u.trigger),u.kick&&(s.kick=u.kick),u.drag&&(s.drag=u.drag),u.on&&(s.on=u.on),s.dragstart=s.dragStart=e.Layout.dragStart,s.dragend=s.dragEnd=e.Layout.dragEnd,s}return o.prototype.trigger=function(a){},o.prototype.kick=function(){},o.prototype.drag=function(){},o.prototype.on=function(a,s){return this},o}(e.Layout);eo.LayoutAdaptor=r;function n(i){return new r(i)}return eo.adaptor=n,eo}var ws={},no={},E1;function TR(){if(E1)return no;E1=1;var t=It&&It.__extends||function(){var i=function(o,a){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var l in u)u.hasOwnProperty(l)&&(s[l]=u[l])},i(o,a)};return function(o,a){i(o,a);function s(){this.constructor=o}o.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}}();Object.defineProperty(no,"__esModule",{value:!0});var e=Qo(),r=function(i){t(o,i);function o(){var a=i.call(this)||this;a.event=d3.dispatch(e.EventType[e.EventType.start],e.EventType[e.EventType.tick],e.EventType[e.EventType.end]);var s=a;return a.drag=function(){if(!u)var u=d3.behavior.drag().origin(e.Layout.dragOrigin).on("dragstart.d3adaptor",e.Layout.dragStart).on("drag.d3adaptor",function(l){e.Layout.drag(l,d3.event),s.resume()}).on("dragend.d3adaptor",e.Layout.dragEnd);if(!arguments.length)return u;this.call(u)},a}return o.prototype.trigger=function(a){var s={type:e.EventType[a.type],alpha:a.alpha,stress:a.stress};this.event[s.type](s)},o.prototype.kick=function(){var a=this;d3.timer(function(){return i.prototype.tick.call(a)})},o.prototype.on=function(a,s){return typeof a=="string"?this.event.on(a,s):this.event.on(e.EventType[a],s),this},o}(e.Layout);no.D3StyleLayoutAdaptor=r;function n(){return new r}return no.d3adaptor=n,no}var Es={},x1;function SR(){if(x1)return Es;x1=1;var t=It&&It.__extends||function(){var n=function(i,o){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var u in s)s.hasOwnProperty(u)&&(a[u]=s[u])},n(i,o)};return function(i,o){n(i,o);function a(){this.constructor=i}i.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}}();Object.defineProperty(Es,"__esModule",{value:!0});var e=Qo(),r=function(n){t(i,n);function i(o){var a=n.call(this)||this;a.d3Context=o,a.event=o.dispatch(e.EventType[e.EventType.start],e.EventType[e.EventType.tick],e.EventType[e.EventType.end]);var s=a;return a.drag=function(){if(!u)var u=o.drag().subject(e.Layout.dragOrigin).on("start.d3adaptor",e.Layout.dragStart).on("drag.d3adaptor",function(l){e.Layout.drag(l,o.event),s.resume()}).on("end.d3adaptor",e.Layout.dragEnd);if(!arguments.length)return u;arguments[0].call(u)},a}return i.prototype.trigger=function(o){var a={type:e.EventType[o.type],alpha:o.alpha,stress:o.stress};this.event.call(a.type,a)},i.prototype.kick=function(){var o=this,a=this.d3Context.timer(function(){return n.prototype.tick.call(o)&&a.stop()})},i.prototype.on=function(o,a){return typeof o=="string"?this.event.on(o,a):this.event.on(e.EventType[o],a),this},i}(e.Layout);return Es.D3StyleLayoutAdaptor=r,Es}var _1;function DR(){if(_1)return ws;_1=1,Object.defineProperty(ws,"__esModule",{value:!0});var t=TR(),e=SR();function r(i){return!i||n(i)?new t.D3StyleLayoutAdaptor:new e.D3StyleLayoutAdaptor(i)}ws.d3adaptor=r;function n(i){var o=/^3\./;return i.version&&i.version.match(o)!==null}return ws}var Fi={},C1;function Jx(){if(C1)return Fi;C1=1,Object.defineProperty(Fi,"__esModule",{value:!0});var t=Zo(),e=Iv(),r=bu(),n=function(){function s(u,l,f){this.id=u,this.rect=l,this.children=f,this.leaf=typeof f>"u"||f.length===0}return s}();Fi.NodeWrapper=n;var i=function(){function s(u,l,f,c,h){c===void 0&&(c=null),h===void 0&&(h=null),this.id=u,this.x=l,this.y=f,this.node=c,this.line=h}return s}();Fi.Vert=i;var o=function(){function s(u,l){this.s=u,this.t=l;var f=s.findMatch(u,l),c=l.slice(0).reverse(),h=s.findMatch(u,c);f.length>=h.length?(this.length=f.length,this.si=f.si,this.ti=f.ti,this.reversed=!1):(this.length=h.length,this.si=h.si,this.ti=l.length-h.ti-h.length,this.reversed=!0)}return s.findMatch=function(u,l){for(var f=u.length,c=l.length,h={length:0,si:-1,ti:-1},d=new Array(f),p=0;p<f;p++){d[p]=new Array(c);for(var g=0;g<c;g++)if(u[p]===l[g]){var w=d[p][g]=p===0||g===0?1:d[p-1][g-1]+1;w>h.length&&(h.length=w,h.si=p-w+1,h.ti=g-w+1)}else d[p][g]=0}return h},s.prototype.getSequence=function(){return this.length>=0?this.s.slice(this.si,this.si+this.length):[]},s}();Fi.LongestCommonSubsequence=o;var a=function(){function s(u,l,f){var c=this;f===void 0&&(f=12),this.originalnodes=u,this.groupPadding=f,this.leaves=null,this.nodes=u.map(function(C,b){return new n(b,l.getBounds(C),l.getChildren(C))}),this.leaves=this.nodes.filter(function(C){return C.leaf}),this.groups=this.nodes.filter(function(C){return!C.leaf}),this.cols=this.getGridLines("x"),this.rows=this.getGridLines("y"),this.groups.forEach(function(C){return C.children.forEach(function(b){return c.nodes[b].parent=C})}),this.root={children:[]},this.nodes.forEach(function(C){typeof C.parent>"u"&&(C.parent=c.root,c.root.children.push(C.id)),C.ports=[]}),this.backToFront=this.nodes.slice(0),this.backToFront.sort(function(C,b){return c.getDepth(C)-c.getDepth(b)});var h=this.backToFront.slice(0).reverse().filter(function(C){return!C.leaf});h.forEach(function(C){var b=t.Rectangle.empty();C.children.forEach(function(k){return b=b.union(c.nodes[k].rect)}),C.rect=b.inflate(c.groupPadding)});var d=this.midPoints(this.cols.map(function(C){return C.pos})),p=this.midPoints(this.rows.map(function(C){return C.pos})),g=d[0],w=d[d.length-1],v=p[0],m=p[p.length-1],y=this.rows.map(function(C){return{x1:g,x2:w,y1:C.pos,y2:C.pos}}).concat(p.map(function(C){return{x1:g,x2:w,y1:C,y2:C}})),E=this.cols.map(function(C){return{x1:C.pos,x2:C.pos,y1:v,y2:m}}).concat(d.map(function(C){return{x1:C,x2:C,y1:v,y2:m}})),T=y.concat(E);T.forEach(function(C){return C.verts=[]}),this.verts=[],this.edges=[],y.forEach(function(C){return E.forEach(function(b){var k=new i(c.verts.length,b.x1,C.y1);C.verts.push(k),b.verts.push(k),c.verts.push(k);for(var S=c.backToFront.length;S-- >0;){var O=c.backToFront[S],N=O.rect,D=Math.abs(k.x-N.cx()),I=Math.abs(k.y-N.cy());if(D<N.width()/2&&I<N.height()/2){k.node=O;break}}})}),T.forEach(function(C,b){c.nodes.forEach(function(I,x){I.rect.lineIntersections(C.x1,C.y1,C.x2,C.y2).forEach(function(P,L){var M=new i(c.verts.length,P.x,P.y,I,C);c.verts.push(M),C.verts.push(M),I.ports.push(M)})});var k=Math.abs(C.y1-C.y2)<.1,S=function(I,x){return k?x.x-I.x:x.y-I.y};C.verts.sort(S);for(var O=1;O<C.verts.length;O++){var N=C.verts[O-1],D=C.verts[O];N.node&&N.node===D.node&&N.node.leaf||c.edges.push({source:N.id,target:D.id,length:Math.abs(S(N,D))})}})}return s.prototype.avg=function(u){return u.reduce(function(l,f){return l+f})/u.length},s.prototype.getGridLines=function(u){for(var l=[],f=this.leaves.slice(0,this.leaves.length);f.length>0;){var c=f.filter(function(d){return d.rect["overlap"+u.toUpperCase()](f[0].rect)}),h={nodes:c,pos:this.avg(c.map(function(d){return d.rect["c"+u]()}))};l.push(h),h.nodes.forEach(function(d){return f.splice(f.indexOf(d),1)})}return l.sort(function(d,p){return d.pos-p.pos}),l},s.prototype.getDepth=function(u){for(var l=0;u.parent!==this.root;)l++,u=u.parent;return l},s.prototype.midPoints=function(u){for(var l=u[1]-u[0],f=[u[0]-l/2],c=1;c<u.length;c++)f.push((u[c]+u[c-1])/2);return f.push(u[u.length-1]+l/2),f},s.prototype.findLineage=function(u){var l=[u];do u=u.parent,l.push(u);while(u!==this.root);return l.reverse()},s.prototype.findAncestorPathBetween=function(u,l){for(var f=this.findLineage(u),c=this.findLineage(l),h=0;f[h]===c[h];)h++;return{commonAncestor:f[h-1],lineages:f.slice(h).concat(c.slice(h))}},s.prototype.siblingObstacles=function(u,l){var f=this,c=this.findAncestorPathBetween(u,l),h={};c.lineages.forEach(function(p){return h[p.id]={}});var d=c.commonAncestor.children.filter(function(p){return!(p in h)});return c.lineages.filter(function(p){return p.parent!==c.commonAncestor}).forEach(function(p){return d=d.concat(p.parent.children.filter(function(g){return g!==p.id}))}),d.map(function(p){return f.nodes[p]})},s.getSegmentSets=function(u,l,f){for(var c=[],h=0;h<u.length;h++)for(var d=u[h],p=0;p<d.length;p++){var g=d[p];g.edgeid=h,g.i=p;var w=g[1][l]-g[0][l];Math.abs(w)<.1&&c.push(g)}c.sort(function(E,T){return E[0][l]-T[0][l]});for(var v=[],m=null,y=0;y<c.length;y++){var g=c[y];(!m||Math.abs(g[0][l]-m.pos)>.1)&&(m={pos:g[0][l],segments:[]},v.push(m)),m.segments.push(g)}return v},s.nudgeSegs=function(u,l,f,c,h,d){var p=c.length;if(!(p<=1)){for(var g=c.map(function(O){return new e.Variable(O[0][u])}),w=[],v=0;v<p;v++)for(var m=0;m<p;m++)if(v!==m){var y=c[v],E=c[m],T=y.edgeid,C=E.edgeid,b=-1,k=-1;u=="x"?h(T,C)&&(y[0][l]<y[1][l]?(b=m,k=v):(b=v,k=m)):h(T,C)&&(y[0][l]<y[1][l]?(b=v,k=m):(b=m,k=v)),b>=0&&w.push(new e.Constraint(g[b],g[k],d))}var S=new e.Solver(g,w);S.solve(),g.forEach(function(O,N){var D=c[N],I=O.position();D[0][u]=D[1][u]=I;var x=f[D.edgeid];D.i>0&&(x[D.i-1][1][u]=I),D.i<x.length-1&&(x[D.i+1][0][u]=I)})}},s.nudgeSegments=function(u,l,f,c,h){for(var d=s.getSegmentSets(u,l,f),p=0;p<d.length;p++){for(var g=d[p],w=[],v=0;v<g.segments.length;v++){var m=g.segments[v];w.push({type:0,s:m,pos:Math.min(m[0][f],m[1][f])}),w.push({type:1,s:m,pos:Math.max(m[0][f],m[1][f])})}w.sort(function(T,C){return T.pos-C.pos+T.type-C.type});var y=[],E=0;w.forEach(function(T){T.type===0?(y.push(T.s),E++):E--,E==0&&(s.nudgeSegs(l,f,u,y,c,h),y=[])})}},s.prototype.routeEdges=function(u,l,f,c){var h=this,d=u.map(function(w){return h.route(f(w),c(w))}),p=s.orderEdges(d),g=d.map(function(w){return s.makeSegments(w)});return s.nudgeSegments(g,"x","y",p,l),s.nudgeSegments(g,"y","x",p,l),s.unreverseEdges(g,d),g},s.unreverseEdges=function(u,l){u.forEach(function(f,c){var h=l[c];h.reversed&&(f.reverse(),f.forEach(function(d){d.reverse()}))})},s.angleBetween2Lines=function(u,l){var f=Math.atan2(u[0].y-u[1].y,u[0].x-u[1].x),c=Math.atan2(l[0].y-l[1].y,l[0].x-l[1].x),h=f-c;return(h>Math.PI||h<-Math.PI)&&(h=c-f),h},s.isLeft=function(u,l,f){return(l.x-u.x)*(f.y-u.y)-(l.y-u.y)*(f.x-u.x)<=0},s.getOrder=function(u){for(var l={},f=0;f<u.length;f++){var c=u[f];typeof l[c.l]>"u"&&(l[c.l]={}),l[c.l][c.r]=!0}return function(h,d){return typeof l[h]<"u"&&l[h][d]}},s.orderEdges=function(u){for(var l=[],f=0;f<u.length-1;f++)for(var c=f+1;c<u.length;c++){var h=u[f],d=u[c],p=new o(h,d),g,w,v;if(p.length!==0){if(p.reversed&&(d.reverse(),d.reversed=!0,p=new o(h,d)),(p.si<=0||p.ti<=0)&&(p.si+p.length>=h.length||p.ti+p.length>=d.length)){l.push({l:f,r:c});continue}p.si+p.length>=h.length||p.ti+p.length>=d.length?(g=h[p.si+1],v=h[p.si-1],w=d[p.ti-1]):(g=h[p.si+p.length-2],w=h[p.si+p.length],v=d[p.ti+p.length]),s.isLeft(g,w,v)?l.push({l:c,r:f}):l.push({l:f,r:c})}}return s.getOrder(l)},s.makeSegments=function(u){function l(w){return{x:w.x,y:w.y}}for(var f=function(w,v,m){return Math.abs((v.x-w.x)*(m.y-w.y)-(v.y-w.y)*(m.x-w.x))<.001},c=[],h=l(u[0]),d=1;d<u.length;d++){var p=l(u[d]),g=d<u.length-1?u[d+1]:null;(!g||!f(h,p,g))&&(c.push([h,p]),h=p)}return c},s.prototype.route=function(u,l){var f=this,c=this.nodes[u],h=this.nodes[l];this.obstacles=this.siblingObstacles(c,h);var d={};this.obstacles.forEach(function(k){return d[k.id]=k}),this.passableEdges=this.edges.filter(function(k){var S=f.verts[k.source],O=f.verts[k.target];return!(S.node&&S.node.id in d||O.node&&O.node.id in d)});for(var p=1;p<c.ports.length;p++){var g=c.ports[0].id,w=c.ports[p].id;this.passableEdges.push({source:g,target:w,length:0})}for(var p=1;p<h.ports.length;p++){var g=h.ports[0].id,w=h.ports[p].id;this.passableEdges.push({source:g,target:w,length:0})}var v=function(k){return k.source},m=function(k){return k.target},y=function(k){return k.length},E=new r.Calculator(this.verts.length,this.passableEdges,v,m,y),T=function(k,S,O){var N=f.verts[k],D=f.verts[S],I=f.verts[O],x=Math.abs(I.x-N.x),P=Math.abs(I.y-N.y);return N.node===c&&N.node===D.node||D.node===h&&D.node===I.node?0:x>1&&P>1?1e3:0},C=E.PathFromNodeToNodeWithPrevCost(c.ports[0].id,h.ports[0].id,T),b=C.reverse().map(function(k){return f.verts[k]});return b.push(this.nodes[h.id].ports[0]),b.filter(function(k,S){return!(S<b.length-1&&b[S+1].node===c&&k.node===c||S>0&&k.node===h&&b[S-1].node===h)})},s.getRoutePath=function(u,l,f,c){var h={routepath:"M "+u[0][0].x+" "+u[0][0].y+" ",arrowpath:""};if(u.length>1)for(var d=0;d<u.length;d++){var p=u[d],g=p[1].x,w=p[1].y,v=g-p[0].x,m=w-p[0].y;if(d<u.length-1){Math.abs(v)>0?g-=v/Math.abs(v)*l:w-=m/Math.abs(m)*l,h.routepath+="L "+g+" "+w+" ";var y=u[d+1],E=y[0].x,T=y[0].y,C=y[1].x,b=y[1].y;v=C-E,m=b-T;var k=s.angleBetween2Lines(p,y)<0?1:0,S,O;Math.abs(v)>0?(S=E+v/Math.abs(v)*l,O=T):(S=E,O=T+m/Math.abs(m)*l);var N=Math.abs(S-g),D=Math.abs(O-w);h.routepath+="A "+N+" "+D+" 0 0 "+k+" "+S+" "+O+" "}else{var I=[g,w],x,P;Math.abs(v)>0?(g-=v/Math.abs(v)*c,x=[g,w+f],P=[g,w-f]):(w-=m/Math.abs(m)*c,x=[g+f,w],P=[g-f,w]),h.routepath+="L "+g+" "+w+" ",c>0&&(h.arrowpath="M "+I[0]+" "+I[1]+" L "+x[0]+" "+x[1]+" L "+P[0]+" "+P[1])}}else{var p=u[0],g=p[1].x,w=p[1].y,v=g-p[0].x,m=w-p[0].y,I=[g,w],x,P;Math.abs(v)>0?(g-=v/Math.abs(v)*c,x=[g,w+f],P=[g,w-f]):(w-=m/Math.abs(m)*c,x=[g+f,w],P=[g-f,w]),h.routepath+="L "+g+" "+w+" ",c>0&&(h.arrowpath="M "+I[0]+" "+I[1]+" L "+x[0]+" "+x[1]+" L "+P[0]+" "+P[1])}return h},s}();return Fi.GridRouter=a,Fi}var pa={},T1;function kR(){if(T1)return pa;T1=1,Object.defineProperty(pa,"__esModule",{value:!0});var t=bu(),e=Nv(),r=Zo(),n=Ov(),i=function(){function u(l,f){this.source=l,this.target=f}return u.prototype.actualLength=function(l){var f=this;return Math.sqrt(l.reduce(function(c,h){var d=h[f.target]-h[f.source];return c+d*d},0))},u}();pa.Link3D=i;var o=function(){function u(l,f,c){l===void 0&&(l=0),f===void 0&&(f=0),c===void 0&&(c=0),this.x=l,this.y=f,this.z=c}return u}();pa.Node3D=o;var a=function(){function u(l,f,c){var h=this;c===void 0&&(c=1),this.nodes=l,this.links=f,this.idealLinkLength=c,this.constraints=null,this.useJaccardLinkLengths=!0,this.result=new Array(u.k);for(var d=0;d<u.k;++d)this.result[d]=new Array(l.length);l.forEach(function(p,g){for(var w=0,v=u.dims;w<v.length;w++){var m=v[w];typeof p[m]>"u"&&(p[m]=Math.random())}h.result[0][g]=p.x,h.result[1][g]=p.y,h.result[2][g]=p.z})}return u.prototype.linkLength=function(l){return l.actualLength(this.result)},u.prototype.start=function(l){var f=this;l===void 0&&(l=100);var c=this.nodes.length,h=new s;this.useJaccardLinkLengths&&n.jaccardLinkLengths(this.links,h,1.5),this.links.forEach(function(m){return m.length*=f.idealLinkLength});var d=new t.Calculator(c,this.links,function(m){return m.source},function(m){return m.target},function(m){return m.length}).DistanceMatrix(),p=e.Descent.createSquareMatrix(c,function(m,y){return d[m][y]}),g=e.Descent.createSquareMatrix(c,function(){return 2});this.links.forEach(function(m){var y=m.source,E=m.target;return g[y][E]=g[E][y]=1}),this.descent=new e.Descent(this.result,p),this.descent.threshold=.001,this.descent.G=g,this.constraints&&(this.descent.project=new r.Projection(this.nodes,null,null,this.constraints).projectFunctions());for(var w=0;w<this.nodes.length;w++){var v=this.nodes[w];v.fixed&&this.descent.locks.add(w,[v.x,v.y,v.z])}return this.descent.run(l),this},u.prototype.tick=function(){this.descent.locks.clear();for(var l=0;l<this.nodes.length;l++){var f=this.nodes[l];f.fixed&&this.descent.locks.add(l,[f.x,f.y,f.z])}return this.descent.rungeKutta()},u.dims=["x","y","z"],u.k=u.dims.length,u}();pa.Layout3D=a;var s=function(){function u(){}return u.prototype.getSourceIndex=function(l){return l.source},u.prototype.getTargetIndex=function(l){return l.target},u.prototype.getLength=function(l){return l.length},u.prototype.setLength=function(l,f){l.length=f},u}();return pa}var io={},S1;function AR(){if(S1)return io;S1=1,Object.defineProperty(io,"__esModule",{value:!0});var t=Qo(),e=Jx();function r(o,a,s,u){o.cola.start(0,0,0,10,!1);var l=n(o.cola.nodes(),o.cola.groups(),s,u);return l.routeEdges(o.powerGraph.powerEdges,a,function(f){return f.source.routerNode.id},function(f){return f.target.routerNode.id})}io.gridify=r;function n(o,a,s,u){o.forEach(function(f){f.routerNode={name:f.name,bounds:f.bounds.inflate(-s)}}),a.forEach(function(f){f.routerNode={bounds:f.bounds.inflate(-u),children:(typeof f.groups<"u"?f.groups.map(function(c){return o.length+c.id}):[]).concat(typeof f.leaves<"u"?f.leaves.map(function(c){return c.index}):[])}});var l=o.concat(a).map(function(f,c){return f.routerNode.id=c,f.routerNode});return new e.GridRouter(l,{getChildren:function(f){return f.children},getBounds:function(f){return f.bounds}},s-u)}function i(o,a,s){var u;o.nodes.forEach(function(h,d){return h.index=d}),new t.Layout().avoidOverlaps(!1).nodes(o.nodes).links(o.links).powerGraphGroups(function(h){u=h,u.groups.forEach(function(d){return d.padding=s})});var l=o.nodes.length,f=[],c=o.nodes.slice(0);return c.forEach(function(h,d){return h.index=d}),u.groups.forEach(function(h){var d=h.index=h.id+l;c.push(h),typeof h.leaves<"u"&&h.leaves.forEach(function(p){return f.push({source:d,target:p.index})}),typeof h.groups<"u"&&h.groups.forEach(function(p){return f.push({source:d,target:p.id+l})})}),u.powerEdges.forEach(function(h){f.push({source:h.source.index,target:h.target.index})}),new t.Layout().size(a).nodes(c).links(f).avoidOverlaps(!1).linkDistance(30).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(100,0,0,0,!1),{cola:new t.Layout().convergenceThreshold(.001).size(a).avoidOverlaps(!0).nodes(o.nodes).links(o.links).groupCompactness(1e-4).linkDistance(30).symmetricDiffLinkLengths(5).powerGraphGroups(function(h){u=h,u.groups.forEach(function(d){d.padding=s})}).start(50,0,100,0,!1),powerGraph:u}}return io.powerGraphGridLayout=i,io}var D1;function LR(){return D1||(D1=1,function(t){function e(r){for(var n in r)t.hasOwnProperty(n)||(t[n]=r[n])}Object.defineProperty(t,"__esModule",{value:!0}),e(CR()),e(DR()),e(Nv()),e(Zx()),e(Jx()),e(Qx()),e(Qo()),e(kR()),e(Ov()),e(Xx()),e(Kx()),e(jx()),e(Zo()),e(bu()),e(Iv()),e(AR())}(wd)),wd}(function(t,e){(function(n,i){t.exports=i(LR())})(It,function(r){return function(n){var i={};function o(a){if(i[a])return i[a].exports;var s=i[a]={i:a,l:!1,exports:{}};return n[a].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=i,o.i=function(a){return a},o.d=function(a,s,u){o.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:u})},o.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(s,"a",s),s},o.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},o.p="",o(o.s=3)}([function(n,i,o){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},s=o(1),u=o(2),l=o(5)||(typeof window<"u"?window.cola:null),f=o(4),c=function(y){return(typeof y>"u"?"undefined":a(y))===a("")},h=function(y){return(typeof y>"u"?"undefined":a(y))===a(0)},d=function(y){return y!=null&&(typeof y>"u"?"undefined":a(y))===a({})},p=function(y){return y!=null&&(typeof y>"u"?"undefined":a(y))===a(function(){})},g=function(){},w=function(y,E){if(p(y)){var T=y;return T.apply(E,[E])}else return y};function v(m){this.options=s({},u,m)}v.prototype.run=function(){var m=this,y=this.options;m.manuallyStopped=!1;var E=y.cy,T=y.eles,C=T.nodes(),b=T.edges(),k=!1,S=function(de){return de.isParent()},O=C.filter(S),N=C.subtract(O),D=y.boundingBox||{x1:0,y1:0,w:E.width(),h:E.height()};D.x2===void 0&&(D.x2=D.x1+D.w),D.w===void 0&&(D.w=D.x2-D.x1),D.y2===void 0&&(D.y2=D.y1+D.h),D.h===void 0&&(D.h=D.y2-D.y1);var I=function(){for(var de=0;de<C.length;de++){var be=C[de],z=be.layoutDimensions(y),ae=be.scratch("cola");if(!ae.updatedDims){var Z=w(y.nodeSpacing,be);ae.width=z.w+2*Z,ae.height=z.h+2*Z}}C.positions(function(W){var Y=W.scratch().cola,ie=void 0;return!W.grabbed()&&N.contains(W)&&(ie={x:D.x1+Y.x,y:D.y1+Y.y},(!h(ie.x)||!h(ie.y))&&(ie=void 0)),ie}),C.updateCompoundBounds(),k||(P(),k=!0),y.fit&&E.fit(y.padding)},x=function(){y.ungrabifyWhileSimulating&&R.grabify(),E.off("destroy",V),C.off("grab free position",U),C.off("lock unlock",q),m.one("layoutstop",y.stop),m.trigger({type:"layoutstop",layout:m})},P=function(){m.one("layoutready",y.ready),m.trigger({type:"layoutready",layout:m})},L=y.refresh;y.refresh<0?L=1:L=Math.max(1,L);var M=m.adaptor=l.adaptor({trigger:function(de){var be=l.EventType?l.EventType.tick:null,z=l.EventType?l.EventType.end:null;switch(de.type){case"tick":case be:y.animate&&I();break;case"end":case z:I(),y.infinite||x();break}},kick:function(){var de=!0,be=function(){if(m.manuallyStopped)return x(),!0;var W=M.tick();return!y.infinite&&!de&&M.convergenceThreshold(y.convergenceThreshold),de=!1,W&&y.infinite&&M.resume(),W},z=function(){for(var W=void 0,Y=0;Y<L&&!W;Y++)W=W||be();return W};if(y.animate){var ae=function Z(){z()||f(Z)};f(ae)}else for(;!be(););},on:g,drag:g});m.adaptor=M;var R=C.filter(":grabbable");y.ungrabifyWhileSimulating&&R.ungrabify();var V=void 0;E.one("destroy",V=function(){m.stop()});var U=void 0;C.on("grab free position",U=function(de){var be=this,z=be.scratch().cola,ae=be.position(),Z=de.cyTarget===be||de.target===be;if(Z)switch(de.type){case"grab":M.dragstart(z);break;case"free":M.dragend(z);break;case"position":(z.px!==ae.x-D.x1||z.py!==ae.y-D.y1)&&(z.px=ae.x-D.x1,z.py=ae.y-D.y1);break}});var q=void 0;C.on("lock unlock",q=function(){var de=this,be=de.scratch().cola;be.fixed=de.locked(),de.locked()?M.dragstart(be):M.dragend(be)}),M.nodes(N.map(function(se,de){var be=w(y.nodeSpacing,se),z=se.position(),ae=se.layoutDimensions(y),Z=se.scratch().cola={x:y.randomize&&!se.locked()||z.x===void 0?Math.round(Math.random()*D.w):z.x,y:y.randomize&&!se.locked()||z.y===void 0?Math.round(Math.random()*D.h):z.y,width:ae.w+2*be,height:ae.h+2*be,index:de,fixed:se.locked()};return Z}));var $=[];if(y.alignment){if(y.alignment.vertical){var X=y.alignment.vertical;X.forEach(function(se){var de=[];se.forEach(function(be){var z=be.node,ae=z.scratch().cola,Z=ae.index;de.push({node:Z,offset:be.offset?be.offset:0})}),$.push({type:"alignment",axis:"x",offsets:de})})}if(y.alignment.horizontal){var B=y.alignment.horizontal;B.forEach(function(se){var de=[];se.forEach(function(be){var z=be.node,ae=z.scratch().cola,Z=ae.index;de.push({node:Z,offset:be.offset?be.offset:0})}),$.push({type:"alignment",axis:"y",offsets:de})})}}y.gapInequalities&&y.gapInequalities.forEach(function(se){var de=se.left.scratch().cola.index,be=se.right.scratch().cola.index;$.push({axis:se.axis,left:de,right:be,gap:se.gap,equality:se.equality})}),$.length>0&&M.constraints($),M.groups(O.map(function(se,de){var be=w(y.nodeSpacing,se),z=function(ve){return parseFloat(se.style("padding-"+ve))},ae=z("left")+be,Z=z("right")+be,W=z("top")+be,Y=z("bottom")+be;return se.scratch().cola={index:de,padding:Math.max(ae,Z,W,Y),leaves:se.children().intersection(N).map(function(ie){return ie[0].scratch().cola.index}),fixed:se.locked()},se}).map(function(se){return se.scratch().cola.groups=se.children().intersection(O).map(function(de){return de.scratch().cola.index}),se.scratch().cola}));var H=void 0,j=void 0;y.edgeLength!=null?(H=y.edgeLength,j="linkDistance"):y.edgeSymDiffLength!=null?(H=y.edgeSymDiffLength,j="symmetricDiffLinkLengths"):y.edgeJaccardLength!=null?(H=y.edgeJaccardLength,j="jaccardLinkLengths"):(H=100,j="linkDistance");var K=function(de){return de.calcLength};if(M.links(b.stdFilter(function(se){return N.contains(se.source())&&N.contains(se.target())}).map(function(se){var de=se.scratch().cola={source:se.source()[0].scratch().cola.index,target:se.target()[0].scratch().cola.index};return H!=null&&(de.calcLength=w(H,se)),de})),M.size([D.w,D.h]),H!=null&&M[j](K),y.flow){var te=void 0,re="y",ue=50;c(y.flow)?te={axis:y.flow,minSeparation:ue}:h(y.flow)?te={axis:re,minSeparation:y.flow}:d(y.flow)?(te=y.flow,te.axis=te.axis||re,te.minSeparation=te.minSeparation!=null?te.minSeparation:ue):te={axis:re,minSeparation:ue},M.flowLayout(te.axis,te.minSeparation)}return m.trigger({type:"layoutstart",layout:m}),M.avoidOverlaps(y.avoidOverlap).handleDisconnected(y.handleDisconnected).start(y.unconstrIter,y.userConstIter,y.allConstIter,void 0,void 0,y.centerGraph),y.infinite||setTimeout(function(){m.manuallyStopped||M.stop()},y.maxSimulationTime),this},v.prototype.stop=function(){return this.adaptor&&(this.manuallyStopped=!0,this.adaptor.stop()),this},n.exports=v},function(n,i,o){n.exports=Object.assign!=null?Object.assign.bind(Object):function(a){for(var s=arguments.length,u=Array(s>1?s-1:0),l=1;l<s;l++)u[l-1]=arguments[l];return u.filter(function(f){return f!=null}).forEach(function(f){Object.keys(f).forEach(function(c){return a[c]=f[c]})}),a}},function(n,i,o){var a={animate:!0,refresh:1,maxSimulationTime:4e3,ungrabifyWhileSimulating:!1,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,ready:function(){},stop:function(){},randomize:!1,avoidOverlap:!0,handleDisconnected:!0,convergenceThreshold:.01,nodeSpacing:function(u){return 10},flow:void 0,alignment:void 0,gapInequalities:void 0,centerGraph:!0,edgeLength:void 0,edgeSymDiffLength:void 0,edgeJaccardLength:void 0,unconstrIter:void 0,userConstIter:void 0,allConstIter:void 0,infinite:!1};n.exports=a},function(n,i,o){var a=o(0),s=function(l){l&&l("layout","cola",a)};typeof cytoscape<"u"&&s(cytoscape),n.exports=s},function(n,i,o){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},s=void 0;(typeof window>"u"?"undefined":a(window))!=="undefined"?s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(u){return setTimeout(u,16)}:s=function(l){l()},n.exports=s},function(n,i){n.exports=r}])})})(Yx);var MR=Yx.exports;const OR=qn(MR);function NR(t,e){for(let r=0;r<t.length;r++)if(t[r]===e)return!0;return!1}function xs(t,e){let r;t==null?r="1":r=t.data("label");let n=!1,i;if(e.hasClass("fixed")&&!e.hasClass("byLav")?(i=e.data("value")+"*"+r,n=!0):e.hasClass("forcefree")&&(i="NA*"+r,n=!0),e.hasClass("label")){const o=e.data("label");n?i+=" + "+o+"*"+r:i=o+"*"+r}else n?i+=" + "+r:i=r;return i}function e_(t){let e=Ut(tr),r=Ut(wt),n="",i="";t||(i+=`library(lavaan)
`,r.dataAvail?i+="data <- read.csv("+r.loadedFileName+`)
`:i+=`#make sure your data is loaded into the 'data' variable
`);const o=e.nodes(function(p){return p.hasClass("latent-variable")});let a=!1;for(let p=0;p<o.length;p++){const g=o[p];let w="";const v=g.connectedEdges(function(m){return m.hasClass("directed")&&m.source().id()==g.id()&&m.target().hasClass("observed-variable")});if(v.length>0){a||(n+=`# measurement model
`,a=!0);const m=Math.max(...v.map(C=>C.target().position().x))-Math.min(...v.map(C=>C.target().position().x)),y=Math.max(...v.map(C=>C.target().position().y))-Math.min(...v.map(C=>C.target().position().y)),E=m>=y?"x":"y",T=v.map((C,b)=>({index:b,value:C.target().position()[E]})).sort((C,b)=>C.value-b.value).map(C=>C.index);for(let C=0;C<v.length;C++){const b=v[T[C]].target();C>0&&(w+=" + "),w+=xs(b,v[T[C]])}n+=" "+g.data("label")+" =~ "+w+`
`}}let s=e.edges(function(p){return p.hasClass("directed")&&!p.source().hasClass("constant")&&!(p.source().hasClass("latent-variable")&&p.target().hasClass("observed-variable"))}),u=[];for(let p=0;p<s.length;p++)NR(u,s[p].target())||u.push(s[p].target());if(u.length>0){n+=`
# regressions`;for(let p=0;p<u.length;p++){const g=u[p],w=g.connectedEdges(function(v){return v.hasClass("directed")&&v.target().id()==g.id()});if(w.length>0){let v="";for(var l=0;l<w.length;l++){var f=w[l].source();l>0&&(v+=" + "),v+=xs(f,w[l])}n+=`
 `+g.data("label")+" ~ "+v}}}let c=e.edges(function(p){return(p.hasClass("undirected")||p.hasClass("loop"))&&!p.hasClass("fromLav")});if(c.length>0){n+=`

# residual (co)variances`;for(let p=0;p<c.length;p++){let g=c[p].source().data("label");n+=`
 `+g+" ~~ "+xs(c[p].target(),c[p])}}const h=e.nodes(function(p){return p.hasClass("constant")});for(let p=0;p<h.length;p++){const w=h[p].connectedEdges(function(v){return!v.hasClass("fromLav")});if(w.length>0){n+=`# intercepts
 `;for(var l=0;l<w.length;l++){var f=w[l].target();n+=f.data("label")+" ~ "+xs(void 0,w[l])+`
`}}}n=`'
`+n+`'

`;const d=IR();if(i+="model <-"+n,i+="result <- lavaan(model, data, "+d,t){const p=Ut(Qn);return{model:{options:d,syntax:n,run:t},cache:{lastFitLavFit:p.lastFitLavFit,lastFitModel:p.lastFitModel,lastFitData:p.lastFitData}}}else return i}function IR(){const t=Ut(sr),e=jn(t.meanStruc),r=jn(t.intOvFree),n=jn(t.intLvFree);let i=`meanstructure = ${e},
		 int.ov.free = ${r}, int.lv.free = ${n},
		 estimator = ${xd(t.estimator)}, se = ${xd(t.se)},
		 missing = ${xd(t.missing)}, auto.fix.first = ${jn(t.fix_first)} ,
		 auto.fix.single = ${jn(t.fix_single)}, auto.var = ${jn(t.auto_var)},
		 auto.cov.lv.x = ${jn(t.auto_cov_lv_x)}, auto.cov.y = ${jn(t.auto_cov_y)},
  		 fixed.x = ${jn(t.fixed_x)}`;if(t.se=="boot"){const o=`, bootstrap = ${t.n_boot})`;i=i+o}else i=i+")";return i}function xd(t){return'"'+t+'"'}function jn(t){if(t==!0||t=="true")return"TRUE";if(t==!1||t=="false")return"FALSE";if(t=="default")return'"default"';throw new Error("Should not happen")}let _d=0,t_=!1;function r_(){return typeof Shiny=="object"&&Shiny!==null}function PR(t){const e=Object.keys(t),r=t[e[0]].length,n=[];for(let i=0;i<r;i++){const o={};for(const a of e)o[a]=t[a][i];n.push(o)}return n}function Gd(t,e=!0){t_=e,_d=_d+1;let r=e_(!0);r.name=t,r.counter=_d,r_()&&Shiny.setInputValue("layout",JSON.stringify(r))}r_()&&Shiny.addCustomMessageHandler("semPlotLayout",function(t){t=PR(t);const e=125,r=300;let n=1/0,i=1/0;for(let l=0;l<t.length;l++)for(let f=l+1;f<t.length;f++){const c=Math.abs(t[l].x-t[f].x),h=Math.abs(t[l].y-t[f].y);c<n&&t[l].y===t[f].y&&(n=c),h<i&&t[l].x===t[f].x&&(i=h)}const o=e/n,a=r/i;let s={};t.forEach(l=>{const f=l.x*o+400,c=l.y*-1*a+400;s[l.name]={x:f,y:c}});let u={name:"preset",positions:function(l){const f=l.data("label");return s[f]},fit:!0,padding:60,animate:!0};t_?Ut(ko).do("layout",{options:u}):Ut(tr).layout(u).run()});function RR(t){let e,r;return e=new mv({props:{name:"Apply Layout",menuItems:t[1],minimal:t[0]}}),{c(){vt(e.$$.fragment)},m(n,i){ct(e,n,i),r=!0},p(n,[i]){const o={};i&2&&(o.menuItems=n[1]),i&1&&(o.minimal=n[0]),e.$set(o)},i(n){r||(qe(e.$$.fragment,n),r=!0)},o(n){Ve(e.$$.fragment,n),r=!1},d(n){ht(e,n)}}}function FR(t,e,r){let n,i,o;jt(t,wt,h=>r(2,i=h)),jt(t,ko,h=>r(3,o=h));let{minimal:a=!1}=e;Ut(tr),Di(()=>{Rn.use(bR),Rn.use(_R),Rn.use(OR)});function s(){const h={name:"dagre",rankSep:150,animate:!0};o.do("layout",{options:h})}function u(){const h={name:"breadthfirst",animate:!0,spacingFactor:1};o.do("layout",{options:h})}function l(){const h={name:"circle",animate:!0};o.do("layout",{options:h})}function f(){const h={name:"fcose",animate:!0,idealEdgeLength:d=>150,quality:"proof",randomize:!1,nodeSeparation:200};o.do("layout",{options:h})}function c(){const h={name:"cola",animate:!0,nodeSpacing(d){return 50}};o.do("layout",{options:h})}return t.$$set=h=>{"minimal"in h&&r(0,a=h.minimal)},t.$$.update=()=>{t.$$.dirty&4&&r(1,n=[{name:"Recommended: Tree",action:()=>Gd("tree"),disable:i.modelEmpty},{name:"Recommended: Tree2",action:()=>Gd("tree2"),disable:i.modelEmpty},{name:"Experimental: Tree",action:s,disable:i.modelEmpty},{name:"Experimental: Tree2",action:u,disable:i.modelEmpty},{name:"Experimental: Circle",action:l,disable:i.modelEmpty},{name:"Experimental: Force-directed",action:f,disable:i.modelEmpty},{name:"Experimental: Cola",action:c,disable:i.modelEmpty}])},[a,n,i]}class n_ extends At{constructor(e){super(),kt(this,e,FR,RR,St,{minimal:0})}}function k1(t,e,r){const n=t.slice();return n[4]=e[r],n[5]=e,n[6]=r,n}function A1(t){let e,r,n,i;function o(u){t[2](u,t[4])}function a(u){t[3](u,t[4])}let s={};return t[4].name!==void 0&&(s.name=t[4].name),t[1][t[4].modelProperty]!==void 0&&(s.checked=t[1][t[4].modelProperty]),e=new Ao({props:s}),Tr.push(()=>Qr(e,"name",o)),Tr.push(()=>Qr(e,"checked",a)),{c(){vt(e.$$.fragment)},m(u,l){ct(e,u,l),i=!0},p(u,l){t=u;const f={};!r&&l&1&&(r=!0,f.name=t[4].name,Zr(()=>r=!1)),!n&&l&3&&(n=!0,f.checked=t[1][t[4].modelProperty],Zr(()=>n=!1)),e.$set(f)},i(u){i||(qe(e.$$.fragment,u),i=!0)},o(u){Ve(e.$$.fragment,u),i=!1},d(u){ht(e,u)}}}function zR(t){let e,r,n=t[0],i=[];for(let a=0;a<n.length;a+=1)i[a]=A1(k1(t,n,a));const o=a=>Ve(i[a],1,1,()=>{i[a]=null});return{c(){for(let a=0;a<i.length;a+=1)i[a].c();e=Bn()},m(a,s){for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(a,s);Ue(a,e,s),r=!0},p(a,s){if(s&3){n=a[0];let u;for(u=0;u<n.length;u+=1){const l=k1(a,n,u);i[u]?(i[u].p(l,s),qe(i[u],1)):(i[u]=A1(l),i[u].c(),qe(i[u],1),i[u].m(e.parentNode,e))}for(dn(),u=n.length;u<i.length;u+=1)o(u);vn()}},i(a){if(!r){for(let s=0;s<n.length;s+=1)qe(i[s]);r=!0}},o(a){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)Ve(i[s]);r=!1},d(a){hn(i,a),a&&He(e)}}}function BR(t){let e,r;return e=new Wo({props:{name:qR,$$slots:{default:[zR]},$$scope:{ctx:t}}}),{c(){vt(e.$$.fragment)},m(n,i){ct(e,n,i),r=!0},p(n,[i]){const o={};i&131&&(o.$$scope={dirty:i,ctx:n}),e.$set(o)},i(n){r||(qe(e.$$.fragment,n),r=!0)},o(n){Ve(e.$$.fragment,n),r=!1},d(n){ht(e,n)}}}const qR="Automatically..";function $R(t,e,r){let n;jt(t,sr,s=>r(1,n=s));const i=[{name:"Fix Factor Loading of First Indicator at 1",modelProperty:"fix_first"},{name:"Include Variances",modelProperty:"auto_var"},{name:"Include Covariances of Exogenous Latent Variables",modelProperty:"auto_cov_lv_x"},{name:"Include Covariances of Dependent Variables",modelProperty:"auto_cov_y"},{name:"Fix Variance of Only Indicator to 0",modelProperty:"fix_single"},{name:"Treat Exogenous Observed Variables as Fixed Variables",modelProperty:"fixed_x"}];function o(s,u){t.$$.not_equal(u.name,s)&&(u.name=s,r(0,i))}function a(s,u){t.$$.not_equal(n[u.modelProperty],s)&&(n[u.modelProperty]=s,sr.set(n))}return[i,n,o,a]}class GR extends At{constructor(e){super(),kt(this,e,$R,BR,St,{})}}function HR(t){let e,r;return e=new mv({props:{name:"Help",menuItems:t[0]}}),{c(){vt(e.$$.fragment)},m(n,i){ct(e,n,i),r=!0},p:Lt,i(n){r||(qe(e.$$.fragment,n),r=!0)},o(n){Ve(e.$$.fragment,n),r=!1},d(n){ht(e,n)}}}function L1(){Shiny.setInputValue("show_help",Math.random())}function UR(t){return[[{name:"Show Commands",action:L1},{name:"Open Manual",action:L1}]]}class VR extends At{constructor(e){super(),kt(this,e,UR,HR,St,{})}}function WR(t){let e,r,n,i,o,a,s,u,l,f,c,h,d,p;return e=new XE({}),n=new KE({}),o=new LN({}),s=new GR({}),l=new PN({}),c=new n_({}),d=new VR({}),{c(){vt(e.$$.fragment),r=it(),vt(n.$$.fragment),i=it(),vt(o.$$.fragment),a=it(),vt(s.$$.fragment),u=it(),vt(l.$$.fragment),f=it(),vt(c.$$.fragment),h=it(),vt(d.$$.fragment)},m(g,w){ct(e,g,w),Ue(g,r,w),ct(n,g,w),Ue(g,i,w),ct(o,g,w),Ue(g,a,w),ct(s,g,w),Ue(g,u,w),ct(l,g,w),Ue(g,f,w),ct(c,g,w),Ue(g,h,w),ct(d,g,w),p=!0},i(g){p||(qe(e.$$.fragment,g),qe(n.$$.fragment,g),qe(o.$$.fragment,g),qe(s.$$.fragment,g),qe(l.$$.fragment,g),qe(c.$$.fragment,g),qe(d.$$.fragment,g),p=!0)},o(g){Ve(e.$$.fragment,g),Ve(n.$$.fragment,g),Ve(o.$$.fragment,g),Ve(s.$$.fragment,g),Ve(l.$$.fragment,g),Ve(c.$$.fragment,g),Ve(d.$$.fragment,g),p=!1},d(g){ht(e,g),g&&He(r),ht(n,g),g&&He(i),ht(o,g),g&&He(a),ht(s,g),g&&He(u),ht(l,g),g&&He(f),ht(c,g),g&&He(h),ht(d,g)}}}function YR(t){let e,r;return e=new QO({props:{$$slots:{default:[WR]},$$scope:{ctx:t}}}),{c(){vt(e.$$.fragment)},m(n,i){ct(e,n,i),r=!0},p(n,[i]){const o={};i&1&&(o.$$scope={dirty:i,ctx:n}),e.$set(o)},i(n){r||(qe(e.$$.fragment,n),r=!0)},o(n){Ve(e.$$.fragment,n),r=!1},d(n){ht(e,n)}}}class XR extends At{constructor(e){super(),kt(this,e,null,YR,St,{})}}function jR(t){let e;return{c(){e=Ke("pre"),Oe(e,"id","lavaan_syntax_R"),Oe(e,"class","shiny-html-output well svelte-74yvxb"),Oe(e,"data-testid","result-text")},m(r,n){Ue(r,e,n)},p:Lt,i:Lt,o:Lt,d(r){r&&He(e)}}}class KR extends At{constructor(e){super(),kt(this,e,null,jR,St,{})}}function ZR(t){return window.cy=Ut(tr),wt.subscribe(e=>{window.appState=e}),sr.subscribe(e=>{window.modelOptions=e}),ka.subscribe(e=>{window.dataInfo=e}),Qn.subscribe(e=>{window.fitCache=e}),[]}class QR extends At{constructor(e){super(),kt(this,e,ZR,null,St,{})}}var i_={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(self,function(){return(()=>{var r={621:(o,a,s)=>{function u(U,q){(q==null||q>U.length)&&(q=U.length);for(var $=0,X=new Array(q);$<q;$++)X[$]=U[$];return X}function l(U){for(var q="",$=0;$<U.length;$++)q+=U[$],$!==U.length-1&&(q+=" ");return q}function f(U,q,$){$?U.setAttribute(q,""):U.removeAttribute(q)}function c(U,q,$){customElements.get(U)===void 0&&customElements.define(U,q,{extends:$})}s.r(a),s.d(a,{contextMenus:()=>V});var h="cy-context-menus-divider",d={evtType:"cxttap",menuItems:[],menuItemClasses:["cy-context-menus-cxt-menuitem"],contextMenuClasses:["cy-context-menus-cxt-menu"],submenuIndicator:{src:"assets/submenu-indicator-default.svg",width:12,height:12}};function p(U){return(p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q})(U)}function g(U,q){var $;if(typeof Symbol>"u"||U[Symbol.iterator]==null){if(Array.isArray(U)||($=function(te,re){if(te){if(typeof te=="string")return w(te,re);var ue=Object.prototype.toString.call(te).slice(8,-1);return ue==="Object"&&te.constructor&&(ue=te.constructor.name),ue==="Map"||ue==="Set"?Array.from(te):ue==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ue)?w(te,re):void 0}}(U))||q&&U&&typeof U.length=="number"){$&&(U=$);var X=0,B=function(){};return{s:B,n:function(){return X>=U.length?{done:!0}:{done:!1,value:U[X++]}},e:function(te){throw te},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var H,j=!0,K=!1;return{s:function(){$=U[Symbol.iterator]()},n:function(){var te=$.next();return j=te.done,te},e:function(te){K=!0,H=te},f:function(){try{j||$.return==null||$.return()}finally{if(K)throw H}}}}function w(U,q){(q==null||q>U.length)&&(q=U.length);for(var $=0,X=new Array(q);$<q;$++)X[$]=U[$];return X}function v(U,q){if(!(U instanceof q))throw new TypeError("Cannot call a class as a function")}function m(U,q){for(var $=0;$<q.length;$++){var X=q[$];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(U,X.key,X)}}function y(U,q,$){return q&&m(U.prototype,q),$&&m(U,$),U}function E(U,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(q&&q.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),q&&D(U,q)}function T(U){var q=N();return function(){var $,X=I(U);if(q){var B=I(this).constructor;$=Reflect.construct(X,arguments,B)}else $=X.apply(this,arguments);return C(this,$)}}function C(U,q){return!q||p(q)!=="object"&&typeof q!="function"?b(U):q}function b(U){if(U===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U}function k(U,q,$){return(k=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(X,B,H){var j=function(te,re){for(;!Object.prototype.hasOwnProperty.call(te,re)&&(te=I(te))!==null;);return te}(X,B);if(j){var K=Object.getOwnPropertyDescriptor(j,B);return K.get?K.get.call(H):K.value}})(U,q,$||U)}function S(U){var q=typeof Map=="function"?new Map:void 0;return(S=function($){if($===null||(X=$,Function.toString.call(X).indexOf("[native code]")===-1))return $;var X;if(typeof $!="function")throw new TypeError("Super expression must either be null or a function");if(q!==void 0){if(q.has($))return q.get($);q.set($,B)}function B(){return O($,arguments,I(this).constructor)}return B.prototype=Object.create($.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),D(B,$)})(U)}function O(U,q,$){return(O=N()?Reflect.construct:function(X,B,H){var j=[null];j.push.apply(j,B);var K=new(Function.bind.apply(X,j));return H&&D(K,H.prototype),K}).apply(null,arguments)}function N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function D(U,q){return(D=Object.setPrototypeOf||function($,X){return $.__proto__=X,$})(U,q)}function I(U){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(q){return q.__proto__||Object.getPrototypeOf(q)})(U)}function x(U){U.preventDefault(),U.stopPropagation()}var P=function(U){E($,U);var q=T($);function $(X,B,H){var j,K,te,re,ue,se,de,be,z,ae;v(this,$),k((K=b(ae=q.call(this)),I($.prototype)),"setAttribute",K).call(K,"id",X.id);var Z=ae._getMenuItemClassStr(H.cxtMenuItemClasses,X.hasTrailingDivider);if(k((te=b(ae),I($.prototype)),"setAttribute",te).call(te,"class",Z),k((re=b(ae),I($.prototype)),"setAttribute",re).call(re,"title",(j=X.tooltipText)!==null&&j!==void 0?j:""),X.disabled&&f(b(ae),"disabled",!0),X.image){var W=document.createElement("img");W.src=X.image.src,W.width=X.image.width,W.height=X.image.height,W.style.position="absolute",W.style.top=X.image.y+"px",W.style.left=X.image.x+"px",k((ue=b(ae),I($.prototype)),"appendChild",ue).call(ue,W)}if(ae.innerHTML+=X.content,ae.onMenuItemClick=B,ae.data={},ae.clickFns=[],ae.selector=X.selector,ae.hasTrailingDivider=X.hasTrailingDivider,ae.show=X.show===void 0||X.show,ae.coreAsWell=X.coreAsWell||!1,ae.scratchpad=H,X.onClickFunction===void 0&&X.submenu===void 0)throw new Error("A menu item must either have click function or a submenu or both");return ae.onClickFunction=X.onClickFunction,X.submenu instanceof Array&&ae._createSubmenu(X.submenu),k((se=b(ae),I($.prototype)),"addEventListener",se).call(se,"mousedown",x),k((de=b(ae),I($.prototype)),"addEventListener",de).call(de,"mouseup",x),k((be=b(ae),I($.prototype)),"addEventListener",be).call(be,"touchstart",x),k((z=b(ae),I($.prototype)),"addEventListener",z).call(z,"touchend",x),ae}return y($,[{key:"bindOnClickFunction",value:function(X){this.clickFns.push(X),k(I($.prototype),"addEventListener",this).call(this,"click",X)}},{key:"unbindOnClickFunctions",value:function(){var X,B=g(this.clickFns);try{for(B.s();!(X=B.n()).done;){var H=X.value;k(I($.prototype),"removeEventListener",this).call(this,"click",H)}}catch(j){B.e(j)}finally{B.f()}this.clickFns=[]}},{key:"enable",value:function(){f(this,"disabled",!1),this.hasSubmenu()&&this.addEventListener("mouseenter",this.mouseEnterHandler)}},{key:"disable",value:function(){f(this,"disabled",!0),this.hasSubmenu()&&this.removeEventListener("mouseenter",this.mouseEnterHandler)}},{key:"hide",value:function(){this.show=!1,this.style.display="none"}},{key:"getHasTrailingDivider",value:function(){return!!this.hasTrailingDivider}},{key:"setHasTrailingDivider",value:function(X){this.hasTrailingDivider=X}},{key:"hasSubmenu",value:function(){return this.submenu instanceof L}},{key:"appendSubmenuItem",value:function(X){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;this.hasSubmenu()||this._createSubmenu(),this.submenu.appendMenuItem(X,B)}},{key:"isClickable",value:function(){return this.onClickFunction!==void 0}},{key:"display",value:function(){this.show=!0,this.style.display="block"}},{key:"isVisible",value:function(){return this.show===!0&&this.style.display!=="none"}},{key:"removeSubmenu",value:function(){this.hasSubmenu()&&(this.submenu.removeAllMenuItems(),this.detachSubmenu())}},{key:"detachSubmenu",value:function(){this.hasSubmenu()&&(this.removeChild(this.submenu),this.removeChild(this.indicator),this.removeEventListener("mouseenter",this.mouseEnterHandler),this.removeEventListener("mouseleave",this.mouseLeaveHandler),this.submenu=void 0,this.indicator=void 0)}},{key:"_onMouseEnter",value:function(X){var B=this.getBoundingClientRect(),H=function(ue){ue.style.opacity="0",ue.style.display="block";var se=ue.getBoundingClientRect();return ue.style.opacity="1",ue.style.display="none",se}(this.submenu),j=B.right+H.width>window.innerWidth,K=B.top+H.height>window.innerHeight;j||K?j&&!K?(this.submenu.style.right=this.clientWidth+"px",this.submenu.style.top="0px",this.submenu.style.left="auto",this.submenu.style.bottom="auto"):j&&K?(this.submenu.style.right=this.clientWidth+"px",this.submenu.style.bottom="0px",this.submenu.style.top="auto",this.submenu.style.left="auto"):(this.submenu.style.left=this.clientWidth+"px",this.submenu.style.bottom="0px",this.submenu.style.right="auto",this.submenu.style.top="auto"):(this.submenu.style.left=this.clientWidth+"px",this.submenu.style.top="0px",this.submenu.style.right="auto",this.submenu.style.bottom="auto"),this.submenu.display();var te=Array.from(this.submenu.children).filter(function(ue){if(ue instanceof $)return ue.isVisible()}),re=te.length;te.forEach(function(ue,se){ue instanceof $&&(se<re-1&&ue.getHasTrailingDivider()?ue.classList.add(h):ue.getHasTrailingDivider()&&ue.classList.remove(h))})}},{key:"_onMouseLeave",value:function(X){var B,H,j,K,te;B={x:X.clientX,y:X.clientY},H=this.submenu,K=B.y,(j=B.x)>=(te=H.getBoundingClientRect()).left&&j<=te.right&&K>=te.top&&K<=te.bottom||this.submenu.hide()}},{key:"_createSubmenu",value:function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.indicator=this.scratchpad.submenuIndicatorGen(),this.submenu=new L(this.onMenuItemClick,this.scratchpad),this.appendChild(this.indicator),this.appendChild(this.submenu);var B,H=g(X);try{for(H.s();!(B=H.n()).done;){var j=B.value,K=new $(j,this.onMenuItemClick,this.scratchpad);this.submenu.appendMenuItem(K)}}catch(te){H.e(te)}finally{H.f()}this.mouseEnterHandler=this._onMouseEnter.bind(this),this.mouseLeaveHandler=this._onMouseLeave.bind(this),this.addEventListener("mouseenter",this.mouseEnterHandler),this.addEventListener("mouseleave",this.mouseLeaveHandler)}},{key:"_getMenuItemClassStr",value:function(X,B){return B?X+" "+h:X}}],[{key:"define",value:function(){c("ctx-menu-item",$,"button")}}]),$}(S(HTMLButtonElement)),L=function(U){E($,U);var q=T($);function $(X,B){var H,j;return v(this,$),k((H=b(j=q.call(this)),I($.prototype)),"setAttribute",H).call(H,"class",B.cxtMenuClasses),j.style.position="absolute",j.onMenuItemClick=X,j.scratchpad=B,j}return y($,[{key:"hide",value:function(){this.isVisible()&&(this.hideSubmenus(),this.style.display="none")}},{key:"display",value:function(){this.style.display="block"}},{key:"isVisible",value:function(){return this.style.display!=="none"}},{key:"hideMenuItems",value:function(){var X,B=g(this.children);try{for(B.s();!(X=B.n()).done;){var H=X.value;H instanceof HTMLElement?H.style.display="none":console.warn("".concat(H," is not a HTMLElement"))}}catch(j){B.e(j)}finally{B.f()}}},{key:"hideSubmenus",value:function(){var X,B=g(this.children);try{for(B.s();!(X=B.n()).done;){var H=X.value;H instanceof P&&H.submenu&&H.submenu.hide()}}catch(j){B.e(j)}finally{B.f()}}},{key:"appendMenuItem",value:function(X){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;if(B!==void 0){if(B.parentNode!==this)throw new Error("The item with id='".concat(B.id,"' is not a child of the context menu"));this.insertBefore(X,B)}else this.appendChild(X);X.isClickable()&&this._performBindings(X)}},{key:"moveBefore",value:function(X,B){if(X.parentNode!==this)throw new Error("The item with id='".concat(X.id,"' is not a child of context menu"));if(B.parentNode!==this)throw new Error("The item with id='".concat(B.id,"' is not a child of context menu"));this.removeChild(X),this.insertBefore(X,B)}},{key:"removeAllMenuItems",value:function(){for(;this.firstChild;){var X=this.lastChild;X instanceof P?this._removeImmediateMenuItem(X):(console.warn("Found non menu item in the context menu: ",X),this.removeChild(X))}}},{key:"_removeImmediateMenuItem",value:function(X){if(!this._detachImmediateMenuItem(X))throw new Error("menu item(id=".concat(X.id,") is not in the context menu"));X.detachSubmenu(),X.unbindOnClickFunctions()}},{key:"_detachImmediateMenuItem",value:function(X){if(X.parentNode===this){if(this.removeChild(X),this.children.length<=0){var B=this.parentNode;B instanceof P&&B.detachSubmenu()}return!0}return!1}},{key:"_performBindings",value:function(X){var B=this._bindOnClick(X.onClickFunction);X.bindOnClickFunction(B),X.bindOnClickFunction(this.onMenuItemClick)}},{key:"_bindOnClick",value:function(X){var B=this;return function(){var H=B.scratchpad.currentCyEvent;X(H)}}}],[{key:"define",value:function(){c("menu-item-list",$,"div")}}]),$}(S(HTMLDivElement)),M=function(U){E($,U);var q=T($);function $(X,B){var H;return v(this,$),(H=q.call(this,X,B)).onMenuItemClick=function(j){x(j),H.hide(),X()},H}return y($,[{key:"removeMenuItem",value:function(X){var B=X.parentElement;B instanceof L&&this.contains(B)&&B._removeImmediateMenuItem(X)}},{key:"appendMenuItem",value:function(X){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;this.ensureDoesntContain(X.id),k(I($.prototype),"appendMenuItem",this).call(this,X,B)}},{key:"insertMenuItem",value:function(X){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},H=B.before,j=B.parent;if(this.ensureDoesntContain(X.id),H!==void 0){if(!this.contains(H))throw new Error("before(id=".concat(H.id,") is not in the context menu"));var K=H.parentNode;if(!(K instanceof L))throw new Error("Parent of before(id=".concat(H.id,") is not a submenu"));K.appendMenuItem(X,H)}else if(j!==void 0){if(!this.contains(j))throw new Error("parent(id=".concat(j.id,") is not a descendant of the context menu"));j.appendSubmenuItem(X)}else this.appendMenuItem(X)}},{key:"moveBefore",value:function(X,B){var H=X.parentElement;if(!this.contains(H))throw new Error("parent(id=".concat(H.id,") is not in the contex menu"));if(!this.contains(B))throw new Error("before(id=".concat(B.id,") is not in the context menu"));H.removeChild(X),this.insertMenuItem(X,{before:B})}},{key:"moveToSubmenu",value:function(X){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,j=X.parentElement;if(!(j instanceof L))throw new Error("current parent(id=".concat(j.id,") is not a submenu"));if(!this.contains(j))throw new Error("parent of the menu item(id=".concat(j.id,") is not in the context menu"));if(B!==null){if(!this.contains(B))throw new Error("parent(id=".concat(B.id,") is not in the context menu"));j._detachImmediateMenuItem(X),B.appendSubmenuItem(X)}else H!==null&&(X.selector=H.selector,X.coreAsWell=H.coreAsWell),j._detachImmediateMenuItem(X),this.appendMenuItem(X)}},{key:"ensureDoesntContain",value:function(X){var B=document.getElementById(X);if(B!==void 0&&this.contains(B))throw new Error("There is already an element with id=".concat(X," in the context menu"))}}],[{key:"define",value:function(){c("ctx-menu",$,"div")}}]),$}(L);function R(U,q){(q==null||q>U.length)&&(q=U.length);for(var $=0,X=new Array(q);$<q;$++)X[$]=U[$];return X}function V(U){var q=this;q.scratch("cycontextmenus")||q.scratch("cycontextmenus",{});var $,X,B=function(Z){return q.scratch("cycontextmenus")[Z]},H=function(Z,W){return q.scratch("cycontextmenus")[Z]=W},j=B("options"),K=B("cxtMenu"),te=function(Z){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,Y=ue(Z);if(W!==void 0){var ie=de(W);K.insertMenuItem(Y,{parent:ie})}else K.insertMenuItem(Y)},re=function(Z){for(var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,Y=0;Y<Z.length;Y++)te(Z[Y],W)},ue=function(Z){var W=q.scratch("cycontextmenus");return new P(Z,K.onMenuItemClick,W)},se=function(){B("active")&&(K.removeAllMenuItems(),q.off("tapstart",B("eventCyTapStart")),q.off(j.evtType,B("onCxttap")),q.off("viewport",B("onViewport")),document.removeEventListener("mouseup",B("hideOnNonCyClick")),K.parentNode.removeChild(K),K=void 0,H("cxtMenu",void 0),H("active",!1),H("anyVisibleChild",!1),H("onCxttap",void 0),H("onViewport",void 0),H("hideOnNonCyClick",void 0))},de=function(Z){var W=document.getElementById(Z);if(W instanceof P)return W;throw new Error("The item with id=".concat(Z," is not a menu item"))};if(U!=="get"){P.define(),L.define(),M.define(),j=function(Z,W){var Y={};for(var ie in Z)Y[ie]=Z[ie];for(var ve in W)Y[ve]instanceof Array?Y[ve]=Y[ve].concat(W[ve]):Y[ve]=W[ve];return Y}(d,U),H("options",j),B("active")&&se(),H("active",!0),H("submenuIndicatorGen",function(Z){var W=document.createElement("img");return W.src=Z.src,W.width=Z.width,W.height=Z.height,W.classList.add("cy-context-menus-submenu-indicator"),W}.bind(void 0,j.submenuIndicator));var be=l(j.contextMenuClasses);H("cxtMenuClasses",be);var z=q.scratch("cycontextmenus");K=new M(function(){return H("cxtMenuPosition",void 0)},z),H("cxtMenu",K),q.container().appendChild(K),H("cxtMenuItemClasses",l(j.menuItemClasses));var ae=j.menuItems;re(ae),X=function(Z){H("currentCyEvent",Z),function(le){var ee,oe=q.container(),ge=B("cxtMenuPosition"),_e=le.position||le.cyPosition;if(ge!=_e){K.hideMenuItems(),H("anyVisibleChild",!1),H("cxtMenuPosition",_e);var we={top:(ee=oe.getBoundingClientRect()).top,left:ee.left},ze=le.renderedPosition||le.cyRenderedPosition,Me=getComputedStyle(oe)["border-width"],Re=parseInt(Me.replace("px",""))||0;Re>0&&(we.top+=Re,we.left+=Re);var Ce=oe.clientHeight,Ee=oe.clientWidth,Se=Ce/2,Ne=Ee/2;ze.y>Se&&ze.x<=Ne?(K.style.left=ze.x+"px",K.style.bottom=Ce-ze.y+"px",K.style.right="auto",K.style.top="auto"):ze.y>Se&&ze.x>Ne?(K.style.right=Ee-ze.x+"px",K.style.bottom=Ce-ze.y+"px",K.style.left="auto",K.style.top="auto"):ze.y<=Se&&ze.x<=Ne?(K.style.left=ze.x+"px",K.style.top=ze.y+"px",K.style.right="auto",K.style.bottom="auto"):(K.style.right=Ee-ze.x+"px",K.style.top=ze.y+"px",K.style.left="auto",K.style.bottom="auto")}}(Z);var W,Y=Z.target||Z.cyTarget,ie=function(le,ee){var oe;if(typeof Symbol>"u"||le[Symbol.iterator]==null){if(Array.isArray(le)||(oe=function(Re,Ce){if(Re){if(typeof Re=="string")return R(Re,Ce);var Ee=Object.prototype.toString.call(Re).slice(8,-1);return Ee==="Object"&&Re.constructor&&(Ee=Re.constructor.name),Ee==="Map"||Ee==="Set"?Array.from(Re):Ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ee)?R(Re,Ce):void 0}}(le))||ee&&le&&typeof le.length=="number"){oe&&(le=oe);var ge=0,_e=function(){};return{s:_e,n:function(){return ge>=le.length?{done:!0}:{done:!1,value:le[ge++]}},e:function(Re){throw Re},f:_e}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var we,ze=!0,Me=!1;return{s:function(){oe=le[Symbol.iterator]()},n:function(){var Re=oe.next();return ze=Re.done,Re},e:function(Re){Me=!0,we=Re},f:function(){try{ze||oe.return==null||oe.return()}finally{if(Me)throw we}}}}(K.children);try{for(ie.s();!(W=ie.n()).done;){var ve=W.value;ve instanceof P&&(Y===q?ve.coreAsWell:Y.is(ve.selector))&&ve.show&&(K.display(),H("anyVisibleChild",!0),ve.display())}}catch(le){ie.e(le)}finally{ie.f()}var me=Array.from(K.children).filter(function(le){if(le instanceof P)return le.isVisible()}),fe=me.length;me.forEach(function(le,ee){le instanceof P&&(ee<fe-1&&le.getHasTrailingDivider()?le.classList.add(h):le.getHasTrailingDivider()&&le.classList.remove(h))}),!B("anyVisibleChild")&&!function(le){return le.offsetWidth<=0&&le.offsetHeight<=0||le.style&&le.style.display||getComputedStyle(le).display}(K)&&K.hide()},q.on(j.evtType,X),H("onCxttap",X),function(){var Z=function(Y){if(K.contains(Y.originalEvent.target))return!1;K.hide(),H("cxtMenuPosition",void 0),H("currentCyEvent",void 0)};q.on("tapstart",Z),H("eventCyTapStart",Z);var W=function(){K.hide()};q.on("viewport",W),H("onViewport",W)}(),$=function(Z){q.container().contains(Z.target)||K.contains(Z.target)||(K.hide(),H("cxtMenuPosition",void 0))},document.addEventListener("mouseup",$),H("hideOnNonCyClick",$),function(){var Z,W=function(Y,ie){var ve;if(typeof Symbol>"u"||Y[Symbol.iterator]==null){if(Array.isArray(Y)||(ve=function(ge,_e){if(ge){if(typeof ge=="string")return u(ge,_e);var we=Object.prototype.toString.call(ge).slice(8,-1);return we==="Object"&&ge.constructor&&(we=ge.constructor.name),we==="Map"||we==="Set"?Array.from(ge):we==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(we)?u(ge,_e):void 0}}(Y))||ie&&Y&&typeof Y.length=="number"){ve&&(Y=ve);var me=0,fe=function(){};return{s:fe,n:function(){return me>=Y.length?{done:!0}:{done:!1,value:Y[me++]}},e:function(ge){throw ge},f:fe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var le,ee=!0,oe=!1;return{s:function(){ve=Y[Symbol.iterator]()},n:function(){var ge=ve.next();return ee=ge.done,ge},e:function(ge){oe=!0,le=ge},f:function(){try{ee||ve.return==null||ve.return()}finally{if(oe)throw le}}}}(document.getElementsByClassName("cy-context-menus-cxt-menu"));try{for(W.s();!(Z=W.n()).done;)Z.value.addEventListener("contextmenu",function(Y){return Y.preventDefault()})}catch(Y){W.e(Y)}finally{W.f()}}()}return function(Z){return{isActive:function(){return B("active")},appendMenuItem:function(W){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;return te(W,Y),Z},appendMenuItems:function(W){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;return re(W,Y),Z},removeMenuItem:function(W){var Y=de(W);return K.removeMenuItem(Y),Z},setTrailingDivider:function(W,Y){var ie=de(W);return ie.setHasTrailingDivider(Y),Y?ie.classList.add(h):ie.classList.remove(h),Z},insertBeforeMenuItem:function(W,Y){var ie=ue(W),ve=de(Y);return K.insertMenuItem(ie,{before:ve}),Z},moveToSubmenu:function(W){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,ie=de(W);if(Y===null)K.moveToSubmenu(ie);else if(typeof Y=="string"){var ve=de(Y.toString());K.moveToSubmenu(ie,ve)}else Y.coreAsWell!==void 0||Y.selector!==void 0?K.moveToSubmenu(ie,null,Y):console.warn("options neither has coreAsWell nor selector property but it is an object. Are you sure that this is what you want to do?");return Z},moveBeforeOtherMenuItem:function(W,Y){var ie=de(W),ve=de(Y);return K.moveBefore(ie,ve),Z},disableMenuItem:function(W){return de(W).disable(),Z},enableMenuItem:function(W){return de(W).enable(),Z},hideMenuItem:function(W){return de(W).hide(),Z},showMenuItem:function(W){return de(W).display(),Z},destroy:function(){return se(),Z}}}(this)}},579:(o,a,s)=>{var u=s(621).contextMenus,l=function(f){f&&f("core","contextMenus",u)};typeof cytoscape<"u"&&l(cytoscape),o.exports=l}},n={};function i(o){var a=n[o];if(a!==void 0)return a.exports;var s=n[o]={exports:{}};return r[o](s,s.exports,i),s.exports}return i.d=(o,a)=>{for(var s in a)i.o(a,s)&&!i.o(o,s)&&Object.defineProperty(o,s,{enumerable:!0,get:a[s]})},i.o=(o,a)=>Object.prototype.hasOwnProperty.call(o,a),i.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i(579)})()})})(i_);var JR=i_.exports;const eF=qn(JR);function tF(t){return new RegExp("^[a-zA-Z\\._][a-zA-Z0-9\\._]*(?<!\\.)$").test(t)}function M1(t){return t==""?(bootbox.alert("Provide a label"),!1):tF(t)?!0:(bootbox.alert("Provide a valid label"),!1)}function rF(t){if(t=="")return bootbox.alert("Provide a degree"),!1;const e=parseInt(t);return e<0||e>360?(bootbox.alert("Provide a valid degree (0-360)"),!1):!0}function nF(t,e){const r=e?"full":"minimal";return t.filter(n=>n.show===r||n.show==="both")}function iF(t,e,r){let n;jt(t,wt,s=>r(0,n=s));let i=Ut(tr);Rn.use(eF);const o=[{id:"add-observed",content:"Add Observed Variable",coreAsWell:!0,onClickFunction(s){const u=s.position||s.cyPosition;Hi("observed-variable",u)},show:"full"},{id:"add-latent",content:"Add Latent Variable",coreAsWell:!0,onClickFunction(s){const u=s.position||s.cyPosition;Hi("latent-variable",u)},show:"full"},{id:"add-constant",content:"Add Constant Variable",coreAsWell:!0,onClickFunction(s){const u=s.position||s.cyPosition;Hi("constant",u)},show:"full"},{id:"label-para",content:"Add/Change Label",selector:"edge.fromUser",onClickFunction(s){const u=s.target||s.cyTarget;bootbox.prompt({title:"Enter a Label",callback(l){if(!M1(l))return!1;l!==null&&(u.data("label",l),u.addClass("label"),u.removeClass("nolabel"),u.removeClass("fromLav"),u.removeClass("byLav"))}})},show:"both",hasTrailingDivider:!1},{id:"label-remove",content:"Remove Label",selector:"edge.label",onClickFunction(s){const u=s.target||s.cyTarget;u.removeClass("label"),u.addClass("nolabel"),u.data("label",void 0)},show:"both",hasTrailingDivider:!1},{id:"remove-edge",content:"Delete edge",selector:"edge.fromUser",onClickFunction(s){(s.target||s.cyTarget).remove()},show:"full",hasTrailingDivider:!0},{id:"fix-para",content:"Fix Parameter",selector:"edge.free.fromUser, edge.forcefree.fromUser",onClickFunction(s){const u=s.target||s.cyTarget;bootbox.prompt({title:"Enter a Value",inputType:"number",callback(l){if(l=="")return bootbox.alert("Provide a value"),!1;l!==null&&(u.data("value",l),u.removeClass("free"),u.removeClass("forcefree"),u.removeClass("fromLav"),u.removeClass("byLav"),u.removeClass("hasEst"),u.addClass("fixed"))}})},show:"full",hasTrailingDivider:!1},{id:"free-para",content:"Free Parameter",selector:"edge.fixed.fromUser, edge.forcefree.fromUser",onClickFunction(s){var u=s.target||s.cyTarget;u.removeClass("fixed"),u.removeClass("forcefree"),u.removeClass("fromLav"),u.removeClass("byLav"),u.addClass("free")},show:"full",hasTrailingDivider:!1},{id:"free-force-para",content:"Force Parameter Free",selector:"edge.free.fromUser, edge.fixed.fromUser",onClickFunction(s){const u=s.target||s.cyTarget;u.removeClass("free"),u.removeClass("fixed"),u.removeClass("fromLav"),u.removeClass("byLav"),u.addClass("forcefree")},show:"full",hasTrailingDivider:!0},{id:"revert-arrow",content:"Revert Direction",selector:'edge[isMean="0"].directed.fromUser',onClickFunction(s){const u=s.target||s.cyTarget,l=u.source().id(),f=u.target().id();u.move({source:f,target:l})},show:"full",hasTrailingDivider:!1},{id:"set-undirected",content:"Set Undirected",selector:'edge[isMean="0"].directed.fromUser',onClickFunction(s){const u=s.target||s.cyTarget;u.removeClass("directed"),u.addClass("undirected")},show:"full",hasTrailingDivider:!0},{id:"set-arrow",content:"Set Directed",selector:"edge.undirected.fromUser",onClickFunction(s){const u=s.target||s.cyTarget;u.removeClass("undirected"),u.addClass("directed")},show:"full",hasTrailingDivider:!0},{id:"change-curve",content:"Change Curvature",selector:"edge.undirected",onClickFunction(s){const u=s.target||s.cyTarget;bootbox.prompt({title:`Enter a New Value 
 (Larger absolute values  more curvature. Switching the sign  reverts curvature)`,inputType:"number",value:parseInt(u.style().controlPointDistances),callback(l){if(l=="")return bootbox.alert("Provide a value"),!1;l!==null&&u.style("controlPointDistances",l)}})},show:"both",hasTrailingDivider:!0},{id:"free-orientation",content:"Free Loop Orientation",selector:"edge.loop.fixDeg",onClickFunction(s){const u=s.target||s.cyTarget;u.removeClass("fixDeg"),Ei(u.source().id())},show:"both",hasTrailingDivider:!1},{id:"change-orientation",content:"Change/Fix Loop Orientation",selector:"edge.loop",onClickFunction(s){const u=s.target||s.cyTarget;bootbox.prompt({title:"Enter a Degree from 0 to 360 (0 is top, 90 right, 180 bottom, and 270 left)",inputType:"number",value:parseInt(u.style("loop-direction")),callback(l){if(l=="")return bootbox.alert("Provide a value"),!1;if(!rF)return!1;l!==null&&(u.style("loop-direction",`${l}deg`),u.addClass("fixDeg"))}})},show:"both",hasTrailingDivider:!0},{id:"change-fromUser",content:" Explicitly Include in Model",selector:"edge.fromLav",onClickFunction(s){const u=s.target||s.cyTarget;u.removeClass("fromLav"),u.addClass("fromUser")},show:"full",hasTrailingDivider:!1},{id:"rename-node",show:"full",content:"Rename Variable",selector:"node.latent-variable, node.observed-variable",onClickFunction(s){const u=s.target||s.cyTarget,l=n.columnNames;let f;n.dataAvail&&(f=l.map(h=>`<option value="${h}">${h}</option>`).join(""));const c=n.dataAvail&&u.hasClass("observed-variable")?`
      <label>Or Select From Variables in Your Data:</label>
      <select class="form-control" id="label-dropdown">
        <option value="">--Select--</option>
        ${f}
      </select>
    `:"";bootbox.dialog({title:"Rename Variable",message:`
        <div>
          <label>Enter a label:</label>
          <input type="text" class="form-control" id="new-label">
          ${c}
        </div>
      `,buttons:{cancel:{label:"Cancel",className:"btn-default"},confirm:{label:"Rename",className:"btn-primary",callback(){const h=document.getElementById("new-label").value,d=n.dataAvail&&u.hasClass("observed-variable")?document.getElementById("label-dropdown").value:"",p=h||d;if(!M1(p))return!1;p&&(u.data("label",p),l&&l.includes(u.data("label"))?(u.addClass("linked"),En("success",`Variable ${u.data("label")} linked to data`)):u.hasClass("linked")&&(u.removeClass("linked"),En("info",`Variable ${u.data("label")} unlinked`)))}}}})}},{id:"remove-node",content:"Delete Variable",selector:"node",onClickFunction(s){(s.target||s.cyTarget).remove()},show:"full",hasTrailingDivider:!0},{id:"change-latent",content:"Change to Latent",selector:"node.observed-variable",onClickFunction(s){const u=s.target||s.cyTarget;u.removeClass("observed-variable"),u.addClass("latent-variable"),u.removeClass("linked")},show:"full",hasTrailingDivider:!1},{id:"change-observed",show:"full",content:"Change to Observed",selector:"node.latent-variable",onClickFunction(s){const u=s.target||s.cyTarget;u.removeClass("latent-variable"),u.addClass("observed-variable");let l=n.columnNames;l&&l.includes(u.data("label"))&&(u.addClass("linked"),n.loadingMode||bootbox.alert("Variable linked with data set"))}}],a=nF(o,n.full);return Di(()=>{console.log(o),i.contextMenus({menuItems:a})}),[]}class aF extends At{constructor(e){super(),kt(this,e,iF,null,St,{})}}function oF(t){let e;return{c(){e=Ke("div"),e.innerHTML=`<label class="control-label shiny-label-null" for="fileInput" id="fileInput-label"></label> 
  <div class="input-group svelte-1qxcvef"><label class="input-group-btn input-group-prepend"><span class="btn btn-default btn-file">Browse...
        <input id="fileInput" name="fileInput" type="file" style="position: absolute !important; top: -99999px !important; left: -99999px !important;" accept=".csv,.sav, .xlsx, .rds"/></span></label> 
    <input type="text" class="form-control" placeholder="No file selected" readonly="readonly"/></div> 
  <div id="fileInput_progress" class="progress active shiny-file-input-progress svelte-1qxcvef"><div class="progress-bar svelte-1qxcvef"></div></div>`,Oe(e,"class","form-group shiny-input-container svelte-1qxcvef")},m(r,n){Ue(r,e,n)},p:Lt,i:Lt,o:Lt,d(r){r&&He(e)}}}class sF extends At{constructor(e){super(),kt(this,e,null,oF,St,{})}}function uF(t){let e,r,n,i,o,a,s,u,l,f,c,h,d,p,g;return{c(){e=Ke("div"),r=Ke("div"),n=Ke("button"),i=Ir("Show User Model / Script"),a=it(),s=Ke("button"),u=Ir("Show Full Model"),f=it(),c=Ke("button"),h=Ir("Fit Model"),Oe(n,"type","button"),Oe(n,"class","btn btn-default"),n.disabled=o=t[0].modelEmpty,Oe(s,"type","button"),Oe(s,"class","btn btn-default"),s.disabled=l=t[0].modelEmpty,Oe(c,"type","button"),Oe(c,"class","btn btn-default"),c.disabled=d=t[0].modelEmpty||!t[0].dataAvail,Oe(r,"class","btn-group svelte-c0otqx"),Oe(r,"role","group"),Oe(e,"class","toolbox navbar-static-bottom svelte-c0otqx")},m(w,v){Ue(w,e,v),je(e,r),je(r,n),je(n,i),je(r,a),je(r,s),je(s,u),je(r,f),je(r,c),je(c,h),p||(g=[cr(n,"click",t[2]),cr(s,"click",t[3]),cr(c,"click",t[4])],p=!0)},p(w,[v]){v&1&&o!==(o=w[0].modelEmpty)&&(n.disabled=o),v&1&&l!==(l=w[0].modelEmpty)&&(s.disabled=l),v&1&&d!==(d=w[0].modelEmpty||!w[0].dataAvail)&&(c.disabled=d)},i:Lt,o:Lt,d(w){w&&He(e),p=!1,zn(g)}}}function O1(){return typeof Shiny=="object"&&Shiny!==null}function lF(t,e,r){let n,i;jt(t,sr,l=>r(5,n=l)),jt(t,wt,l=>r(0,i=l));function o(l){let f=Ut(tr);const c=f.edges();for(var h=0;h<c.length;h++)c[h].removeData("est"),c[h].removeClass("hasEst");let p=e_(l!=="user model");if(Dt(wt,i.result="script",i),l!="user model"&&O1())Dt(sr,n.showLav=!0,n),p.mode=l,Shiny.setInputValue("fromJavascript",JSON.stringify(p)),Shiny.setInputValue("runCounter",Math.random());else if(l=="user model"){if(Dt(sr,n.showLav=!1,n),!O1())document.getElementById("lavaan_syntax_R").innerText=p;else{const g={mode:l,syntax:p};Shiny.setInputValue("fromJavascript",JSON.stringify(g)),Shiny.setInputValue("runCounter",Math.random())}f.edges(".byLav").forEach(g=>{g.removeClass("fixed"),g.addClass("free"),g.removeData("value"),g.removeClass("byLav")})}}return[i,o,()=>{o("user model")},()=>{o("full model")},()=>{o("estimate")}]}class fF extends At{constructor(e){super(),kt(this,e,lF,uF,St,{})}}const Kn=2;function cF(){return typeof Shiny=="object"&&Shiny!==null}function N1(t,e,r){let n,i,o;return e==="=~"?(n="directed",i=t,o=r):e=="~1"?(i=1,o=t,n="directed"):(o=t,i=r,e==="~~"?t===r?n="loop":n="undirected":e==="~"&&(n="directed")),{directed:n,source:i,target:o}}function hF(t){let e=0,r=Number.NEGATIVE_INFINITY,n=Number.NEGATIVE_INFINITY,i=t.nodes().length;t.nodes().forEach(s=>{let u=s.position();e+=u.x,u.x>r&&(r=u.x),u.y>n&&(n=u.y)});let o=e/i,a=n+100;return{x:o,y:a}}function dF(t,e){if(!t)throw new Error(e||"Assertion failed")}function vF(t,e,r){let n,i,o;jt(t,wt,l=>r(0,n=l)),jt(t,Qn,l=>r(1,i=l)),jt(t,ka,l=>r(2,o=l));function a(l,f,c){const h=N1(l,f,c);return Ut(tr).edges(function(g){let w;return h.source!=1?(w=g.source().data("label")==h.source&&g.target().data("label")==h.target,h.directed=="undirected"&&(w=w||g.source().data("label")==h.target&&g.target().data("label")==h.source)):w=g.source().hasClass("constant")&&g.target().data("label")==h.target,w})}function s(l,f){Hi(l,void 0,f)}function u(l,f){Dt(wt,n.result="model",n),Dt(wt,n.meansModelled=!1,n);let c=Ut(tr);if(!f)c.edges().removeClass("validated");else{const p=l.obs;for(let w=0;w<p.length;w++)s("observed-variable",p[w]);const g=l.latent;for(let w=0;w<g.length;w++)s("latent-variable",g[w]);l=l.parTable}let h=!1,d;for(let p=0;p<l.lhs.length;p++){let g=a(l.lhs[p],l.op[p],l.rhs[p]);if(!f&&l.user[p]==1)dF(g.length==1),g.addClass("validated"),g.hasClass("byLav")&&g.hasClass("fixed")&&(g.removeClass("fixed"),g.removeClass("byLav")),l.free[p]==0&&!g.hasClass("fixed")&&(g.addClass("fixed"),g.removeClass("free"),g.data("value",l.ustart[p]),g.addClass("byLav"));else{let w;if(f||g.length==0){const v=N1(l.lhs[p],l.op[p],l.rhs[p]);let m;if(v.source!==1)m=c.nodes(function(E){return E.data("label")==v.source})[0].id();else{if(Dt(wt,n.meansModelled=!0,n),l.free[p]==0&&l.ustart[p]==0)continue;h||(d=Hi("constant",hF(c)),h=!0,c.nodes(function(T){return T.id()==d})[0].addClass("fromLav")),m=d}const y=c.nodes(function(E){return E.data("label")==v.target})[0].id();w=c.add({groups:"edges",data:{source:m,target:y},classes:v.directed+" nolabel"}),l.label[p]!=""&&(w.addClass("label"),w.data("label",l.label[p])),l.user[p]==1?w.addClass("fromUser"):w.addClass("fromLav"),Ei(m),Ei(y)}else!f&&g.length==1&&(w=g);l.free[p]==0?l.ustart[p]!==0&&l.exo[p]!==1?(w.addClass("fixed"),w.data("value",l.ustart[p])):w.remove():w.addClass("free"),f||w.addClass("validated")}}f?Gd("tree",!1):(c.edges().forEach(p=>{p.hasClass("validated")||p.remove()}),c.nodes(".fromLav").forEach(p=>{p.connectedEdges().length==0&&(p.remove(),c.nodes().forEach(g=>{Ei(g.id())}))})),n.parsedModel||Dt(wt,n.parsedModel=!0,n)}return cF()&&(Shiny.addCustomMessageHandler("dataInfo",function(l){gv(l.columns,!0),Dt(wt,n.columnNames=[...l.columns],n),Dt(wt,n.ids=[...l.columns],n),Dt(wt,n.loadedFileName=l.name,n),Dt(wt,n.dataAvail=!0,n),Dt(ka,o=l.summary,o)}),Shiny.addCustomMessageHandler("lav_failed",function(l){Dt(wt,n.fitting=!1,n),l=="stopped"?En("danger","Fitting stopped by user"):En("danger","Fitting failed")}),Shiny.addCustomMessageHandler("fitting",function(l){Dt(wt,n.fitting=!0,n)}),Shiny.addCustomMessageHandler("usecache",function(l){En("info","Reusing cached results because model and data did not change since last fit")}),Shiny.addCustomMessageHandler("data_missing",function(l){En("danger","Could not fit model because no data is available")}),Shiny.addCustomMessageHandler("missing_vars",function(l){var f=[].concat(l).join(", ");En("danger","Could not fit model because "+f+" are observed variables in the model but not present in the data.")}),Shiny.addCustomMessageHandler("lav_model",function(l){u(l,!1)}),Shiny.addCustomMessageHandler("imported_model",function(l){u(l,!0)}),Shiny.addCustomMessageHandler("lav_results",function(l){const f=l.normal,c=l.std;Dt(Qn,i.lastFitLavFit=l.fitted_model,i),Dt(Qn,i.lastFitModel=l.model,i),Dt(Qn,i.lastFitData=l.data,i),Ut(tr);for(let h=0;h<f.lhs.length;h++){let d=a(f.lhs[h],f.op[h],f.rhs[h]);if(d.length!=1)debugger;if(d.hasClass("free")){let p={};p.est=f.est[h].toFixed(Kn),p.p_value=f.pvalue[h].toFixed(Kn),p.se=f.se[h].toFixed(Kn),p.ciLow=f["ci.lower"][h].toFixed(Kn),p.ciHigh=f["ci.upper"][h].toFixed(Kn),p.est_std=c["est.std"][h].toFixed(Kn),p.se_std=c.se[h].toFixed(Kn),p.ciLow_std=c["ci.lower"][h].toFixed(Kn),p.ciHigh_std=c["ci.upper"][h].toFixed(Kn),d.data("estimates",p),d.addClass("hasEst")}}Dt(wt,n.fitting=!1,n),Dt(wt,n.result="estimates_sucess",n),En("success","Succesfully fitted model")})),[]}class pF extends At{constructor(e){super(),kt(this,e,vF,null,St,{})}}function gF(t){let e;return{c(){e=Ke("a"),e.innerHTML=`<i class="fas fa-download" role="presentation" aria-label="download icon"></i>
  Download`,Oe(e,"id","downloadData"),Oe(e,"class","btn btn-default shiny-download-link shinyjs-hide svelte-1jvspx4"),Oe(e,"href","#"),Oe(e,"target","_blank"),Oe(e,"download","")},m(r,n){Ue(r,e,n)},p:Lt,i:Lt,o:Lt,d(r){r&&He(e)}}}class mF extends At{constructor(e){super(),kt(this,e,null,gF,St,{})}}var a_={exports:{}},Cd={exports:{}};/*!
 * jQuery JavaScript Library v3.7.0
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-05-11T18:29Z
 */var I1;function yF(){return I1||(I1=1,function(t){(function(e,r){t.exports=e.document?r(e,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return r(n)}})(typeof window<"u"?window:It,function(e,r){var n=[],i=Object.getPrototypeOf,o=n.slice,a=n.flat?function(_){return n.flat.call(_)}:function(_){return n.concat.apply([],_)},s=n.push,u=n.indexOf,l={},f=l.toString,c=l.hasOwnProperty,h=c.toString,d=h.call(Object),p={},g=function(A){return typeof A=="function"&&typeof A.nodeType!="number"&&typeof A.item!="function"},w=function(A){return A!=null&&A===A.window},v=e.document,m={type:!0,src:!0,nonce:!0,noModule:!0};function y(_,A,F){F=F||v;var G,Q,J=F.createElement("script");if(J.text=_,A)for(G in m)Q=A[G]||A.getAttribute&&A.getAttribute(G),Q&&J.setAttribute(G,Q);F.head.appendChild(J).parentNode.removeChild(J)}function E(_){return _==null?_+"":typeof _=="object"||typeof _=="function"?l[f.call(_)]||"object":typeof _}var T="3.7.0",C=/HTML$/i,b=function(_,A){return new b.fn.init(_,A)};b.fn=b.prototype={jquery:T,constructor:b,length:0,toArray:function(){return o.call(this)},get:function(_){return _==null?o.call(this):_<0?this[_+this.length]:this[_]},pushStack:function(_){var A=b.merge(this.constructor(),_);return A.prevObject=this,A},each:function(_){return b.each(this,_)},map:function(_){return this.pushStack(b.map(this,function(A,F){return _.call(A,F,A)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(b.grep(this,function(_,A){return(A+1)%2}))},odd:function(){return this.pushStack(b.grep(this,function(_,A){return A%2}))},eq:function(_){var A=this.length,F=+_+(_<0?A:0);return this.pushStack(F>=0&&F<A?[this[F]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},b.extend=b.fn.extend=function(){var _,A,F,G,Q,J,ne=arguments[0]||{},pe=1,he=arguments.length,xe=!1;for(typeof ne=="boolean"&&(xe=ne,ne=arguments[pe]||{},pe++),typeof ne!="object"&&!g(ne)&&(ne={}),pe===he&&(ne=this,pe--);pe<he;pe++)if((_=arguments[pe])!=null)for(A in _)G=_[A],!(A==="__proto__"||ne===G)&&(xe&&G&&(b.isPlainObject(G)||(Q=Array.isArray(G)))?(F=ne[A],Q&&!Array.isArray(F)?J=[]:!Q&&!b.isPlainObject(F)?J={}:J=F,Q=!1,ne[A]=b.extend(xe,J,G)):G!==void 0&&(ne[A]=G));return ne},b.extend({expando:"jQuery"+(T+Math.random()).replace(/\D/g,""),isReady:!0,error:function(_){throw new Error(_)},noop:function(){},isPlainObject:function(_){var A,F;return!_||f.call(_)!=="[object Object]"?!1:(A=i(_),A?(F=c.call(A,"constructor")&&A.constructor,typeof F=="function"&&h.call(F)===d):!0)},isEmptyObject:function(_){var A;for(A in _)return!1;return!0},globalEval:function(_,A,F){y(_,{nonce:A&&A.nonce},F)},each:function(_,A){var F,G=0;if(k(_))for(F=_.length;G<F&&A.call(_[G],G,_[G])!==!1;G++);else for(G in _)if(A.call(_[G],G,_[G])===!1)break;return _},text:function(_){var A,F="",G=0,Q=_.nodeType;if(Q){if(Q===1||Q===9||Q===11)return _.textContent;if(Q===3||Q===4)return _.nodeValue}else for(;A=_[G++];)F+=b.text(A);return F},makeArray:function(_,A){var F=A||[];return _!=null&&(k(Object(_))?b.merge(F,typeof _=="string"?[_]:_):s.call(F,_)),F},inArray:function(_,A,F){return A==null?-1:u.call(A,_,F)},isXMLDoc:function(_){var A=_&&_.namespaceURI,F=_&&(_.ownerDocument||_).documentElement;return!C.test(A||F&&F.nodeName||"HTML")},merge:function(_,A){for(var F=+A.length,G=0,Q=_.length;G<F;G++)_[Q++]=A[G];return _.length=Q,_},grep:function(_,A,F){for(var G,Q=[],J=0,ne=_.length,pe=!F;J<ne;J++)G=!A(_[J],J),G!==pe&&Q.push(_[J]);return Q},map:function(_,A,F){var G,Q,J=0,ne=[];if(k(_))for(G=_.length;J<G;J++)Q=A(_[J],J,F),Q!=null&&ne.push(Q);else for(J in _)Q=A(_[J],J,F),Q!=null&&ne.push(Q);return a(ne)},guid:1,support:p}),typeof Symbol=="function"&&(b.fn[Symbol.iterator]=n[Symbol.iterator]),b.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(_,A){l["[object "+A+"]"]=A.toLowerCase()});function k(_){var A=!!_&&"length"in _&&_.length,F=E(_);return g(_)||w(_)?!1:F==="array"||A===0||typeof A=="number"&&A>0&&A-1 in _}function S(_,A){return _.nodeName&&_.nodeName.toLowerCase()===A.toLowerCase()}var O=n.pop,N=n.sort,D=n.splice,I="[\\x20\\t\\r\\n\\f]",x=new RegExp("^"+I+"+|((?:^|[^\\\\])(?:\\\\.)*)"+I+"+$","g");b.contains=function(_,A){var F=A&&A.parentNode;return _===F||!!(F&&F.nodeType===1&&(_.contains?_.contains(F):_.compareDocumentPosition&&_.compareDocumentPosition(F)&16))};var P=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function L(_,A){return A?_==="\0"?"":_.slice(0,-1)+"\\"+_.charCodeAt(_.length-1).toString(16)+" ":"\\"+_}b.escapeSelector=function(_){return(_+"").replace(P,L)};var M=v,R=s;(function(){var _,A,F,G,Q,J=R,ne,pe,he,xe,Le,Pe=b.expando,De=0,$e=0,Et=rs(),Pt=rs(),Tt=rs(),xr=rs(),gr=function(ce,ye){return ce===ye&&(Q=!0),0},kn="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",An="(?:\\\\[\\da-fA-F]{1,6}"+I+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Nt="\\["+I+"*("+An+")(?:"+I+"*([*^$|!~]?=)"+I+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+An+"))|)"+I+"*\\]",Ii=":("+An+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Nt+")*)|.*)\\)|)",Rt=new RegExp(I+"+","g"),lr=new RegExp("^"+I+"*,"+I+"*"),Ya=new RegExp("^"+I+"*([>+~]|"+I+")"+I+"*"),ku=new RegExp(I+"|>"),Ln=new RegExp(Ii),Xa=new RegExp("^"+An+"$"),Mn={ID:new RegExp("^#("+An+")"),CLASS:new RegExp("^\\.("+An+")"),TAG:new RegExp("^("+An+"|[*])"),ATTR:new RegExp("^"+Nt),PSEUDO:new RegExp("^"+Ii),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+I+"*(even|odd|(([+-]|)(\\d*)n|)"+I+"*(?:([+-]|)"+I+"*(\\d+)|))"+I+"*\\)|)","i"),bool:new RegExp("^(?:"+kn+")$","i"),needsContext:new RegExp("^"+I+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+I+"*((?:-\\d)?\\d*)"+I+"*\\)|)(?=[^-]|$)","i")},ci=/^(?:input|select|textarea|button)$/i,hi=/^h\d$/i,un=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Au=/[+~]/,Wn=new RegExp("\\\\[\\da-fA-F]{1,6}"+I+"?|\\\\([^\\r\\n\\f])","g"),Yn=function(ce,ye){var Te="0x"+ce.slice(1)-65536;return ye||(Te<0?String.fromCharCode(Te+65536):String.fromCharCode(Te>>10|55296,Te&1023|56320))},L_=function(){di()},M_=as(function(ce){return ce.disabled===!0&&S(ce,"fieldset")},{dir:"parentNode",next:"legend"});function O_(){try{return ne.activeElement}catch{}}try{J.apply(n=o.call(M.childNodes),M.childNodes),n[M.childNodes.length].nodeType}catch{J={apply:function(ye,Te){R.apply(ye,o.call(Te))},call:function(ye){R.apply(ye,o.call(arguments,1))}}}function Yt(ce,ye,Te,Ae){var Ie,We,et,st,tt,Mt,bt,xt=ye&&ye.ownerDocument,Ot=ye?ye.nodeType:9;if(Te=Te||[],typeof ce!="string"||!ce||Ot!==1&&Ot!==9&&Ot!==11)return Te;if(!Ae&&(di(ye),ye=ye||ne,he)){if(Ot!==11&&(tt=un.exec(ce)))if(Ie=tt[1]){if(Ot===9)if(et=ye.getElementById(Ie)){if(et.id===Ie)return J.call(Te,et),Te}else return Te;else if(xt&&(et=xt.getElementById(Ie))&&Yt.contains(ye,et)&&et.id===Ie)return J.call(Te,et),Te}else{if(tt[2])return J.apply(Te,ye.getElementsByTagName(ce)),Te;if((Ie=tt[3])&&ye.getElementsByClassName)return J.apply(Te,ye.getElementsByClassName(Ie)),Te}if(!xr[ce+" "]&&(!xe||!xe.test(ce))){if(bt=ce,xt=ye,Ot===1&&(ku.test(ce)||Ya.test(ce))){for(xt=Au.test(ce)&&Lu(ye.parentNode)||ye,(xt!=ye||!p.scope)&&((st=ye.getAttribute("id"))?st=b.escapeSelector(st):ye.setAttribute("id",st=Pe)),Mt=ns(ce),We=Mt.length;We--;)Mt[We]=(st?"#"+st:":scope")+" "+is(Mt[We]);bt=Mt.join(",")}try{return J.apply(Te,xt.querySelectorAll(bt)),Te}catch{xr(ce,!0)}finally{st===Pe&&ye.removeAttribute("id")}}}return jv(ce.replace(x,"$1"),ye,Te,Ae)}function rs(){var ce=[];function ye(Te,Ae){return ce.push(Te+" ")>A.cacheLength&&delete ye[ce.shift()],ye[Te+" "]=Ae}return ye}function yn(ce){return ce[Pe]=!0,ce}function ia(ce){var ye=ne.createElement("fieldset");try{return!!ce(ye)}catch{return!1}finally{ye.parentNode&&ye.parentNode.removeChild(ye),ye=null}}function N_(ce){return function(ye){return S(ye,"input")&&ye.type===ce}}function I_(ce){return function(ye){return(S(ye,"input")||S(ye,"button"))&&ye.type===ce}}function Yv(ce){return function(ye){return"form"in ye?ye.parentNode&&ye.disabled===!1?"label"in ye?"label"in ye.parentNode?ye.parentNode.disabled===ce:ye.disabled===ce:ye.isDisabled===ce||ye.isDisabled!==!ce&&M_(ye)===ce:ye.disabled===ce:"label"in ye?ye.disabled===ce:!1}}function Pi(ce){return yn(function(ye){return ye=+ye,yn(function(Te,Ae){for(var Ie,We=ce([],Te.length,ye),et=We.length;et--;)Te[Ie=We[et]]&&(Te[Ie]=!(Ae[Ie]=Te[Ie]))})})}function Lu(ce){return ce&&typeof ce.getElementsByTagName<"u"&&ce}function di(ce){var ye,Te=ce?ce.ownerDocument||ce:M;return Te==ne||Te.nodeType!==9||!Te.documentElement||(ne=Te,pe=ne.documentElement,he=!b.isXMLDoc(ne),Le=pe.matches||pe.webkitMatchesSelector||pe.msMatchesSelector,M!=ne&&(ye=ne.defaultView)&&ye.top!==ye&&ye.addEventListener("unload",L_),p.getById=ia(function(Ae){return pe.appendChild(Ae).id=b.expando,!ne.getElementsByName||!ne.getElementsByName(b.expando).length}),p.disconnectedMatch=ia(function(Ae){return Le.call(Ae,"*")}),p.scope=ia(function(){return ne.querySelectorAll(":scope")}),p.cssHas=ia(function(){try{return ne.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),p.getById?(A.filter.ID=function(Ae){var Ie=Ae.replace(Wn,Yn);return function(We){return We.getAttribute("id")===Ie}},A.find.ID=function(Ae,Ie){if(typeof Ie.getElementById<"u"&&he){var We=Ie.getElementById(Ae);return We?[We]:[]}}):(A.filter.ID=function(Ae){var Ie=Ae.replace(Wn,Yn);return function(We){var et=typeof We.getAttributeNode<"u"&&We.getAttributeNode("id");return et&&et.value===Ie}},A.find.ID=function(Ae,Ie){if(typeof Ie.getElementById<"u"&&he){var We,et,st,tt=Ie.getElementById(Ae);if(tt){if(We=tt.getAttributeNode("id"),We&&We.value===Ae)return[tt];for(st=Ie.getElementsByName(Ae),et=0;tt=st[et++];)if(We=tt.getAttributeNode("id"),We&&We.value===Ae)return[tt]}return[]}}),A.find.TAG=function(Ae,Ie){return typeof Ie.getElementsByTagName<"u"?Ie.getElementsByTagName(Ae):Ie.querySelectorAll(Ae)},A.find.CLASS=function(Ae,Ie){if(typeof Ie.getElementsByClassName<"u"&&he)return Ie.getElementsByClassName(Ae)},xe=[],ia(function(Ae){var Ie;pe.appendChild(Ae).innerHTML="<a id='"+Pe+"' href='' disabled='disabled'></a><select id='"+Pe+"-\r\\' disabled='disabled'><option selected=''></option></select>",Ae.querySelectorAll("[selected]").length||xe.push("\\["+I+"*(?:value|"+kn+")"),Ae.querySelectorAll("[id~="+Pe+"-]").length||xe.push("~="),Ae.querySelectorAll("a#"+Pe+"+*").length||xe.push(".#.+[+~]"),Ae.querySelectorAll(":checked").length||xe.push(":checked"),Ie=ne.createElement("input"),Ie.setAttribute("type","hidden"),Ae.appendChild(Ie).setAttribute("name","D"),pe.appendChild(Ae).disabled=!0,Ae.querySelectorAll(":disabled").length!==2&&xe.push(":enabled",":disabled"),Ie=ne.createElement("input"),Ie.setAttribute("name",""),Ae.appendChild(Ie),Ae.querySelectorAll("[name='']").length||xe.push("\\["+I+"*name"+I+"*="+I+`*(?:''|"")`)}),p.cssHas||xe.push(":has"),xe=xe.length&&new RegExp(xe.join("|")),gr=function(Ae,Ie){if(Ae===Ie)return Q=!0,0;var We=!Ae.compareDocumentPosition-!Ie.compareDocumentPosition;return We||(We=(Ae.ownerDocument||Ae)==(Ie.ownerDocument||Ie)?Ae.compareDocumentPosition(Ie):1,We&1||!p.sortDetached&&Ie.compareDocumentPosition(Ae)===We?Ae===ne||Ae.ownerDocument==M&&Yt.contains(M,Ae)?-1:Ie===ne||Ie.ownerDocument==M&&Yt.contains(M,Ie)?1:G?u.call(G,Ae)-u.call(G,Ie):0:We&4?-1:1)}),ne}Yt.matches=function(ce,ye){return Yt(ce,null,null,ye)},Yt.matchesSelector=function(ce,ye){if(di(ce),he&&!xr[ye+" "]&&(!xe||!xe.test(ye)))try{var Te=Le.call(ce,ye);if(Te||p.disconnectedMatch||ce.document&&ce.document.nodeType!==11)return Te}catch{xr(ye,!0)}return Yt(ye,ne,null,[ce]).length>0},Yt.contains=function(ce,ye){return(ce.ownerDocument||ce)!=ne&&di(ce),b.contains(ce,ye)},Yt.attr=function(ce,ye){(ce.ownerDocument||ce)!=ne&&di(ce);var Te=A.attrHandle[ye.toLowerCase()],Ae=Te&&c.call(A.attrHandle,ye.toLowerCase())?Te(ce,ye,!he):void 0;return Ae!==void 0?Ae:ce.getAttribute(ye)},Yt.error=function(ce){throw new Error("Syntax error, unrecognized expression: "+ce)},b.uniqueSort=function(ce){var ye,Te=[],Ae=0,Ie=0;if(Q=!p.sortStable,G=!p.sortStable&&o.call(ce,0),N.call(ce,gr),Q){for(;ye=ce[Ie++];)ye===ce[Ie]&&(Ae=Te.push(Ie));for(;Ae--;)D.call(ce,Te[Ae],1)}return G=null,ce},b.fn.uniqueSort=function(){return this.pushStack(b.uniqueSort(o.apply(this)))},A=b.expr={cacheLength:50,createPseudo:yn,match:Mn,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(ce){return ce[1]=ce[1].replace(Wn,Yn),ce[3]=(ce[3]||ce[4]||ce[5]||"").replace(Wn,Yn),ce[2]==="~="&&(ce[3]=" "+ce[3]+" "),ce.slice(0,4)},CHILD:function(ce){return ce[1]=ce[1].toLowerCase(),ce[1].slice(0,3)==="nth"?(ce[3]||Yt.error(ce[0]),ce[4]=+(ce[4]?ce[5]+(ce[6]||1):2*(ce[3]==="even"||ce[3]==="odd")),ce[5]=+(ce[7]+ce[8]||ce[3]==="odd")):ce[3]&&Yt.error(ce[0]),ce},PSEUDO:function(ce){var ye,Te=!ce[6]&&ce[2];return Mn.CHILD.test(ce[0])?null:(ce[3]?ce[2]=ce[4]||ce[5]||"":Te&&Ln.test(Te)&&(ye=ns(Te,!0))&&(ye=Te.indexOf(")",Te.length-ye)-Te.length)&&(ce[0]=ce[0].slice(0,ye),ce[2]=Te.slice(0,ye)),ce.slice(0,3))}},filter:{TAG:function(ce){var ye=ce.replace(Wn,Yn).toLowerCase();return ce==="*"?function(){return!0}:function(Te){return S(Te,ye)}},CLASS:function(ce){var ye=Et[ce+" "];return ye||(ye=new RegExp("(^|"+I+")"+ce+"("+I+"|$)"))&&Et(ce,function(Te){return ye.test(typeof Te.className=="string"&&Te.className||typeof Te.getAttribute<"u"&&Te.getAttribute("class")||"")})},ATTR:function(ce,ye,Te){return function(Ae){var Ie=Yt.attr(Ae,ce);return Ie==null?ye==="!=":ye?(Ie+="",ye==="="?Ie===Te:ye==="!="?Ie!==Te:ye==="^="?Te&&Ie.indexOf(Te)===0:ye==="*="?Te&&Ie.indexOf(Te)>-1:ye==="$="?Te&&Ie.slice(-Te.length)===Te:ye==="~="?(" "+Ie.replace(Rt," ")+" ").indexOf(Te)>-1:ye==="|="?Ie===Te||Ie.slice(0,Te.length+1)===Te+"-":!1):!0}},CHILD:function(ce,ye,Te,Ae,Ie){var We=ce.slice(0,3)!=="nth",et=ce.slice(-4)!=="last",st=ye==="of-type";return Ae===1&&Ie===0?function(tt){return!!tt.parentNode}:function(tt,Mt,bt){var xt,Ot,gt,Jt,Xr,Or=We!==et?"nextSibling":"previousSibling",ln=tt.parentNode,On=st&&tt.nodeName.toLowerCase(),aa=!bt&&!st,Gr=!1;if(ln){if(We){for(;Or;){for(gt=tt;gt=gt[Or];)if(st?S(gt,On):gt.nodeType===1)return!1;Xr=Or=ce==="only"&&!Xr&&"nextSibling"}return!0}if(Xr=[et?ln.firstChild:ln.lastChild],et&&aa){for(Ot=ln[Pe]||(ln[Pe]={}),xt=Ot[ce]||[],Jt=xt[0]===De&&xt[1],Gr=Jt&&xt[2],gt=Jt&&ln.childNodes[Jt];gt=++Jt&&gt&&gt[Or]||(Gr=Jt=0)||Xr.pop();)if(gt.nodeType===1&&++Gr&&gt===tt){Ot[ce]=[De,Jt,Gr];break}}else if(aa&&(Ot=tt[Pe]||(tt[Pe]={}),xt=Ot[ce]||[],Jt=xt[0]===De&&xt[1],Gr=Jt),Gr===!1)for(;(gt=++Jt&&gt&&gt[Or]||(Gr=Jt=0)||Xr.pop())&&!((st?S(gt,On):gt.nodeType===1)&&++Gr&&(aa&&(Ot=gt[Pe]||(gt[Pe]={}),Ot[ce]=[De,Gr]),gt===tt)););return Gr-=Ie,Gr===Ae||Gr%Ae===0&&Gr/Ae>=0}}},PSEUDO:function(ce,ye){var Te,Ae=A.pseudos[ce]||A.setFilters[ce.toLowerCase()]||Yt.error("unsupported pseudo: "+ce);return Ae[Pe]?Ae(ye):Ae.length>1?(Te=[ce,ce,"",ye],A.setFilters.hasOwnProperty(ce.toLowerCase())?yn(function(Ie,We){for(var et,st=Ae(Ie,ye),tt=st.length;tt--;)et=u.call(Ie,st[tt]),Ie[et]=!(We[et]=st[tt])}):function(Ie){return Ae(Ie,0,Te)}):Ae}},pseudos:{not:yn(function(ce){var ye=[],Te=[],Ae=Iu(ce.replace(x,"$1"));return Ae[Pe]?yn(function(Ie,We,et,st){for(var tt,Mt=Ae(Ie,null,st,[]),bt=Ie.length;bt--;)(tt=Mt[bt])&&(Ie[bt]=!(We[bt]=tt))}):function(Ie,We,et){return ye[0]=Ie,Ae(ye,null,et,Te),ye[0]=null,!Te.pop()}}),has:yn(function(ce){return function(ye){return Yt(ce,ye).length>0}}),contains:yn(function(ce){return ce=ce.replace(Wn,Yn),function(ye){return(ye.textContent||b.text(ye)).indexOf(ce)>-1}}),lang:yn(function(ce){return Xa.test(ce||"")||Yt.error("unsupported lang: "+ce),ce=ce.replace(Wn,Yn).toLowerCase(),function(ye){var Te;do if(Te=he?ye.lang:ye.getAttribute("xml:lang")||ye.getAttribute("lang"))return Te=Te.toLowerCase(),Te===ce||Te.indexOf(ce+"-")===0;while((ye=ye.parentNode)&&ye.nodeType===1);return!1}}),target:function(ce){var ye=e.location&&e.location.hash;return ye&&ye.slice(1)===ce.id},root:function(ce){return ce===pe},focus:function(ce){return ce===O_()&&ne.hasFocus()&&!!(ce.type||ce.href||~ce.tabIndex)},enabled:Yv(!1),disabled:Yv(!0),checked:function(ce){return S(ce,"input")&&!!ce.checked||S(ce,"option")&&!!ce.selected},selected:function(ce){return ce.parentNode&&ce.parentNode.selectedIndex,ce.selected===!0},empty:function(ce){for(ce=ce.firstChild;ce;ce=ce.nextSibling)if(ce.nodeType<6)return!1;return!0},parent:function(ce){return!A.pseudos.empty(ce)},header:function(ce){return hi.test(ce.nodeName)},input:function(ce){return ci.test(ce.nodeName)},button:function(ce){return S(ce,"input")&&ce.type==="button"||S(ce,"button")},text:function(ce){var ye;return S(ce,"input")&&ce.type==="text"&&((ye=ce.getAttribute("type"))==null||ye.toLowerCase()==="text")},first:Pi(function(){return[0]}),last:Pi(function(ce,ye){return[ye-1]}),eq:Pi(function(ce,ye,Te){return[Te<0?Te+ye:Te]}),even:Pi(function(ce,ye){for(var Te=0;Te<ye;Te+=2)ce.push(Te);return ce}),odd:Pi(function(ce,ye){for(var Te=1;Te<ye;Te+=2)ce.push(Te);return ce}),lt:Pi(function(ce,ye,Te){var Ae;for(Te<0?Ae=Te+ye:Te>ye?Ae=ye:Ae=Te;--Ae>=0;)ce.push(Ae);return ce}),gt:Pi(function(ce,ye,Te){for(var Ae=Te<0?Te+ye:Te;++Ae<ye;)ce.push(Ae);return ce})}},A.pseudos.nth=A.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})A.pseudos[_]=N_(_);for(_ in{submit:!0,reset:!0})A.pseudos[_]=I_(_);function Xv(){}Xv.prototype=A.filters=A.pseudos,A.setFilters=new Xv;function ns(ce,ye){var Te,Ae,Ie,We,et,st,tt,Mt=Pt[ce+" "];if(Mt)return ye?0:Mt.slice(0);for(et=ce,st=[],tt=A.preFilter;et;){(!Te||(Ae=lr.exec(et)))&&(Ae&&(et=et.slice(Ae[0].length)||et),st.push(Ie=[])),Te=!1,(Ae=Ya.exec(et))&&(Te=Ae.shift(),Ie.push({value:Te,type:Ae[0].replace(x," ")}),et=et.slice(Te.length));for(We in A.filter)(Ae=Mn[We].exec(et))&&(!tt[We]||(Ae=tt[We](Ae)))&&(Te=Ae.shift(),Ie.push({value:Te,type:We,matches:Ae}),et=et.slice(Te.length));if(!Te)break}return ye?et.length:et?Yt.error(ce):Pt(ce,st).slice(0)}function is(ce){for(var ye=0,Te=ce.length,Ae="";ye<Te;ye++)Ae+=ce[ye].value;return Ae}function as(ce,ye,Te){var Ae=ye.dir,Ie=ye.next,We=Ie||Ae,et=Te&&We==="parentNode",st=$e++;return ye.first?function(tt,Mt,bt){for(;tt=tt[Ae];)if(tt.nodeType===1||et)return ce(tt,Mt,bt);return!1}:function(tt,Mt,bt){var xt,Ot,gt=[De,st];if(bt){for(;tt=tt[Ae];)if((tt.nodeType===1||et)&&ce(tt,Mt,bt))return!0}else for(;tt=tt[Ae];)if(tt.nodeType===1||et)if(Ot=tt[Pe]||(tt[Pe]={}),Ie&&S(tt,Ie))tt=tt[Ae]||tt;else{if((xt=Ot[We])&&xt[0]===De&&xt[1]===st)return gt[2]=xt[2];if(Ot[We]=gt,gt[2]=ce(tt,Mt,bt))return!0}return!1}}function Mu(ce){return ce.length>1?function(ye,Te,Ae){for(var Ie=ce.length;Ie--;)if(!ce[Ie](ye,Te,Ae))return!1;return!0}:ce[0]}function P_(ce,ye,Te){for(var Ae=0,Ie=ye.length;Ae<Ie;Ae++)Yt(ce,ye[Ae],Te);return Te}function os(ce,ye,Te,Ae,Ie){for(var We,et=[],st=0,tt=ce.length,Mt=ye!=null;st<tt;st++)(We=ce[st])&&(!Te||Te(We,Ae,Ie))&&(et.push(We),Mt&&ye.push(st));return et}function Ou(ce,ye,Te,Ae,Ie,We){return Ae&&!Ae[Pe]&&(Ae=Ou(Ae)),Ie&&!Ie[Pe]&&(Ie=Ou(Ie,We)),yn(function(et,st,tt,Mt){var bt,xt,Ot,gt,Jt=[],Xr=[],Or=st.length,ln=et||P_(ye||"*",tt.nodeType?[tt]:tt,[]),On=ce&&(et||!ye)?os(ln,Jt,ce,tt,Mt):ln;if(Te?(gt=Ie||(et?ce:Or||Ae)?[]:st,Te(On,gt,tt,Mt)):gt=On,Ae)for(bt=os(gt,Xr),Ae(bt,[],tt,Mt),xt=bt.length;xt--;)(Ot=bt[xt])&&(gt[Xr[xt]]=!(On[Xr[xt]]=Ot));if(et){if(Ie||ce){if(Ie){for(bt=[],xt=gt.length;xt--;)(Ot=gt[xt])&&bt.push(On[xt]=Ot);Ie(null,gt=[],bt,Mt)}for(xt=gt.length;xt--;)(Ot=gt[xt])&&(bt=Ie?u.call(et,Ot):Jt[xt])>-1&&(et[bt]=!(st[bt]=Ot))}}else gt=os(gt===st?gt.splice(Or,gt.length):gt),Ie?Ie(null,st,gt,Mt):J.apply(st,gt)})}function Nu(ce){for(var ye,Te,Ae,Ie=ce.length,We=A.relative[ce[0].type],et=We||A.relative[" "],st=We?1:0,tt=as(function(xt){return xt===ye},et,!0),Mt=as(function(xt){return u.call(ye,xt)>-1},et,!0),bt=[function(xt,Ot,gt){var Jt=!We&&(gt||Ot!=F)||((ye=Ot).nodeType?tt(xt,Ot,gt):Mt(xt,Ot,gt));return ye=null,Jt}];st<Ie;st++)if(Te=A.relative[ce[st].type])bt=[as(Mu(bt),Te)];else{if(Te=A.filter[ce[st].type].apply(null,ce[st].matches),Te[Pe]){for(Ae=++st;Ae<Ie&&!A.relative[ce[Ae].type];Ae++);return Ou(st>1&&Mu(bt),st>1&&is(ce.slice(0,st-1).concat({value:ce[st-2].type===" "?"*":""})).replace(x,"$1"),Te,st<Ae&&Nu(ce.slice(st,Ae)),Ae<Ie&&Nu(ce=ce.slice(Ae)),Ae<Ie&&is(ce))}bt.push(Te)}return Mu(bt)}function R_(ce,ye){var Te=ye.length>0,Ae=ce.length>0,Ie=function(We,et,st,tt,Mt){var bt,xt,Ot,gt=0,Jt="0",Xr=We&&[],Or=[],ln=F,On=We||Ae&&A.find.TAG("*",Mt),aa=De+=ln==null?1:Math.random()||.1,Gr=On.length;for(Mt&&(F=et==ne||et||Mt);Jt!==Gr&&(bt=On[Jt])!=null;Jt++){if(Ae&&bt){for(xt=0,!et&&bt.ownerDocument!=ne&&(di(bt),st=!he);Ot=ce[xt++];)if(Ot(bt,et||ne,st)){J.call(tt,bt);break}Mt&&(De=aa)}Te&&((bt=!Ot&&bt)&&gt--,We&&Xr.push(bt))}if(gt+=Jt,Te&&Jt!==gt){for(xt=0;Ot=ye[xt++];)Ot(Xr,Or,et,st);if(We){if(gt>0)for(;Jt--;)Xr[Jt]||Or[Jt]||(Or[Jt]=O.call(tt));Or=os(Or)}J.apply(tt,Or),Mt&&!We&&Or.length>0&&gt+ye.length>1&&b.uniqueSort(tt)}return Mt&&(De=aa,F=ln),Xr};return Te?yn(Ie):Ie}function Iu(ce,ye){var Te,Ae=[],Ie=[],We=Tt[ce+" "];if(!We){for(ye||(ye=ns(ce)),Te=ye.length;Te--;)We=Nu(ye[Te]),We[Pe]?Ae.push(We):Ie.push(We);We=Tt(ce,R_(Ie,Ae)),We.selector=ce}return We}function jv(ce,ye,Te,Ae){var Ie,We,et,st,tt,Mt=typeof ce=="function"&&ce,bt=!Ae&&ns(ce=Mt.selector||ce);if(Te=Te||[],bt.length===1){if(We=bt[0]=bt[0].slice(0),We.length>2&&(et=We[0]).type==="ID"&&ye.nodeType===9&&he&&A.relative[We[1].type]){if(ye=(A.find.ID(et.matches[0].replace(Wn,Yn),ye)||[])[0],ye)Mt&&(ye=ye.parentNode);else return Te;ce=ce.slice(We.shift().value.length)}for(Ie=Mn.needsContext.test(ce)?0:We.length;Ie--&&(et=We[Ie],!A.relative[st=et.type]);)if((tt=A.find[st])&&(Ae=tt(et.matches[0].replace(Wn,Yn),Au.test(We[0].type)&&Lu(ye.parentNode)||ye))){if(We.splice(Ie,1),ce=Ae.length&&is(We),!ce)return J.apply(Te,Ae),Te;break}}return(Mt||Iu(ce,bt))(Ae,ye,!he,Te,!ye||Au.test(ce)&&Lu(ye.parentNode)||ye),Te}p.sortStable=Pe.split("").sort(gr).join("")===Pe,di(),p.sortDetached=ia(function(ce){return ce.compareDocumentPosition(ne.createElement("fieldset"))&1}),b.find=Yt,b.expr[":"]=b.expr.pseudos,b.unique=b.uniqueSort,Yt.compile=Iu,Yt.select=jv,Yt.setDocument=di,Yt.escape=b.escapeSelector,Yt.getText=b.text,Yt.isXML=b.isXMLDoc,Yt.selectors=b.expr,Yt.support=b.support,Yt.uniqueSort=b.uniqueSort})();var V=function(_,A,F){for(var G=[],Q=F!==void 0;(_=_[A])&&_.nodeType!==9;)if(_.nodeType===1){if(Q&&b(_).is(F))break;G.push(_)}return G},U=function(_,A){for(var F=[];_;_=_.nextSibling)_.nodeType===1&&_!==A&&F.push(_);return F},q=b.expr.match.needsContext,$=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function X(_,A,F){return g(A)?b.grep(_,function(G,Q){return!!A.call(G,Q,G)!==F}):A.nodeType?b.grep(_,function(G){return G===A!==F}):typeof A!="string"?b.grep(_,function(G){return u.call(A,G)>-1!==F}):b.filter(A,_,F)}b.filter=function(_,A,F){var G=A[0];return F&&(_=":not("+_+")"),A.length===1&&G.nodeType===1?b.find.matchesSelector(G,_)?[G]:[]:b.find.matches(_,b.grep(A,function(Q){return Q.nodeType===1}))},b.fn.extend({find:function(_){var A,F,G=this.length,Q=this;if(typeof _!="string")return this.pushStack(b(_).filter(function(){for(A=0;A<G;A++)if(b.contains(Q[A],this))return!0}));for(F=this.pushStack([]),A=0;A<G;A++)b.find(_,Q[A],F);return G>1?b.uniqueSort(F):F},filter:function(_){return this.pushStack(X(this,_||[],!1))},not:function(_){return this.pushStack(X(this,_||[],!0))},is:function(_){return!!X(this,typeof _=="string"&&q.test(_)?b(_):_||[],!1).length}});var B,H=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,j=b.fn.init=function(_,A,F){var G,Q;if(!_)return this;if(F=F||B,typeof _=="string")if(_[0]==="<"&&_[_.length-1]===">"&&_.length>=3?G=[null,_,null]:G=H.exec(_),G&&(G[1]||!A))if(G[1]){if(A=A instanceof b?A[0]:A,b.merge(this,b.parseHTML(G[1],A&&A.nodeType?A.ownerDocument||A:v,!0)),$.test(G[1])&&b.isPlainObject(A))for(G in A)g(this[G])?this[G](A[G]):this.attr(G,A[G]);return this}else return Q=v.getElementById(G[2]),Q&&(this[0]=Q,this.length=1),this;else return!A||A.jquery?(A||F).find(_):this.constructor(A).find(_);else{if(_.nodeType)return this[0]=_,this.length=1,this;if(g(_))return F.ready!==void 0?F.ready(_):_(b)}return b.makeArray(_,this)};j.prototype=b.fn,B=b(v);var K=/^(?:parents|prev(?:Until|All))/,te={children:!0,contents:!0,next:!0,prev:!0};b.fn.extend({has:function(_){var A=b(_,this),F=A.length;return this.filter(function(){for(var G=0;G<F;G++)if(b.contains(this,A[G]))return!0})},closest:function(_,A){var F,G=0,Q=this.length,J=[],ne=typeof _!="string"&&b(_);if(!q.test(_)){for(;G<Q;G++)for(F=this[G];F&&F!==A;F=F.parentNode)if(F.nodeType<11&&(ne?ne.index(F)>-1:F.nodeType===1&&b.find.matchesSelector(F,_))){J.push(F);break}}return this.pushStack(J.length>1?b.uniqueSort(J):J)},index:function(_){return _?typeof _=="string"?u.call(b(_),this[0]):u.call(this,_.jquery?_[0]:_):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(_,A){return this.pushStack(b.uniqueSort(b.merge(this.get(),b(_,A))))},addBack:function(_){return this.add(_==null?this.prevObject:this.prevObject.filter(_))}});function re(_,A){for(;(_=_[A])&&_.nodeType!==1;);return _}b.each({parent:function(_){var A=_.parentNode;return A&&A.nodeType!==11?A:null},parents:function(_){return V(_,"parentNode")},parentsUntil:function(_,A,F){return V(_,"parentNode",F)},next:function(_){return re(_,"nextSibling")},prev:function(_){return re(_,"previousSibling")},nextAll:function(_){return V(_,"nextSibling")},prevAll:function(_){return V(_,"previousSibling")},nextUntil:function(_,A,F){return V(_,"nextSibling",F)},prevUntil:function(_,A,F){return V(_,"previousSibling",F)},siblings:function(_){return U((_.parentNode||{}).firstChild,_)},children:function(_){return U(_.firstChild)},contents:function(_){return _.contentDocument!=null&&i(_.contentDocument)?_.contentDocument:(S(_,"template")&&(_=_.content||_),b.merge([],_.childNodes))}},function(_,A){b.fn[_]=function(F,G){var Q=b.map(this,A,F);return _.slice(-5)!=="Until"&&(G=F),G&&typeof G=="string"&&(Q=b.filter(G,Q)),this.length>1&&(te[_]||b.uniqueSort(Q),K.test(_)&&Q.reverse()),this.pushStack(Q)}});var ue=/[^\x20\t\r\n\f]+/g;function se(_){var A={};return b.each(_.match(ue)||[],function(F,G){A[G]=!0}),A}b.Callbacks=function(_){_=typeof _=="string"?se(_):b.extend({},_);var A,F,G,Q,J=[],ne=[],pe=-1,he=function(){for(Q=Q||_.once,G=A=!0;ne.length;pe=-1)for(F=ne.shift();++pe<J.length;)J[pe].apply(F[0],F[1])===!1&&_.stopOnFalse&&(pe=J.length,F=!1);_.memory||(F=!1),A=!1,Q&&(F?J=[]:J="")},xe={add:function(){return J&&(F&&!A&&(pe=J.length-1,ne.push(F)),function Le(Pe){b.each(Pe,function(De,$e){g($e)?(!_.unique||!xe.has($e))&&J.push($e):$e&&$e.length&&E($e)!=="string"&&Le($e)})}(arguments),F&&!A&&he()),this},remove:function(){return b.each(arguments,function(Le,Pe){for(var De;(De=b.inArray(Pe,J,De))>-1;)J.splice(De,1),De<=pe&&pe--}),this},has:function(Le){return Le?b.inArray(Le,J)>-1:J.length>0},empty:function(){return J&&(J=[]),this},disable:function(){return Q=ne=[],J=F="",this},disabled:function(){return!J},lock:function(){return Q=ne=[],!F&&!A&&(J=F=""),this},locked:function(){return!!Q},fireWith:function(Le,Pe){return Q||(Pe=Pe||[],Pe=[Le,Pe.slice?Pe.slice():Pe],ne.push(Pe),A||he()),this},fire:function(){return xe.fireWith(this,arguments),this},fired:function(){return!!G}};return xe};function de(_){return _}function be(_){throw _}function z(_,A,F,G){var Q;try{_&&g(Q=_.promise)?Q.call(_).done(A).fail(F):_&&g(Q=_.then)?Q.call(_,A,F):A.apply(void 0,[_].slice(G))}catch(J){F.apply(void 0,[J])}}b.extend({Deferred:function(_){var A=[["notify","progress",b.Callbacks("memory"),b.Callbacks("memory"),2],["resolve","done",b.Callbacks("once memory"),b.Callbacks("once memory"),0,"resolved"],["reject","fail",b.Callbacks("once memory"),b.Callbacks("once memory"),1,"rejected"]],F="pending",G={state:function(){return F},always:function(){return Q.done(arguments).fail(arguments),this},catch:function(J){return G.then(null,J)},pipe:function(){var J=arguments;return b.Deferred(function(ne){b.each(A,function(pe,he){var xe=g(J[he[4]])&&J[he[4]];Q[he[1]](function(){var Le=xe&&xe.apply(this,arguments);Le&&g(Le.promise)?Le.promise().progress(ne.notify).done(ne.resolve).fail(ne.reject):ne[he[0]+"With"](this,xe?[Le]:arguments)})}),J=null}).promise()},then:function(J,ne,pe){var he=0;function xe(Le,Pe,De,$e){return function(){var Et=this,Pt=arguments,Tt=function(){var gr,kn;if(!(Le<he)){if(gr=De.apply(Et,Pt),gr===Pe.promise())throw new TypeError("Thenable self-resolution");kn=gr&&(typeof gr=="object"||typeof gr=="function")&&gr.then,g(kn)?$e?kn.call(gr,xe(he,Pe,de,$e),xe(he,Pe,be,$e)):(he++,kn.call(gr,xe(he,Pe,de,$e),xe(he,Pe,be,$e),xe(he,Pe,de,Pe.notifyWith))):(De!==de&&(Et=void 0,Pt=[gr]),($e||Pe.resolveWith)(Et,Pt))}},xr=$e?Tt:function(){try{Tt()}catch(gr){b.Deferred.exceptionHook&&b.Deferred.exceptionHook(gr,xr.error),Le+1>=he&&(De!==be&&(Et=void 0,Pt=[gr]),Pe.rejectWith(Et,Pt))}};Le?xr():(b.Deferred.getErrorHook?xr.error=b.Deferred.getErrorHook():b.Deferred.getStackHook&&(xr.error=b.Deferred.getStackHook()),e.setTimeout(xr))}}return b.Deferred(function(Le){A[0][3].add(xe(0,Le,g(pe)?pe:de,Le.notifyWith)),A[1][3].add(xe(0,Le,g(J)?J:de)),A[2][3].add(xe(0,Le,g(ne)?ne:be))}).promise()},promise:function(J){return J!=null?b.extend(J,G):G}},Q={};return b.each(A,function(J,ne){var pe=ne[2],he=ne[5];G[ne[1]]=pe.add,he&&pe.add(function(){F=he},A[3-J][2].disable,A[3-J][3].disable,A[0][2].lock,A[0][3].lock),pe.add(ne[3].fire),Q[ne[0]]=function(){return Q[ne[0]+"With"](this===Q?void 0:this,arguments),this},Q[ne[0]+"With"]=pe.fireWith}),G.promise(Q),_&&_.call(Q,Q),Q},when:function(_){var A=arguments.length,F=A,G=Array(F),Q=o.call(arguments),J=b.Deferred(),ne=function(pe){return function(he){G[pe]=this,Q[pe]=arguments.length>1?o.call(arguments):he,--A||J.resolveWith(G,Q)}};if(A<=1&&(z(_,J.done(ne(F)).resolve,J.reject,!A),J.state()==="pending"||g(Q[F]&&Q[F].then)))return J.then();for(;F--;)z(Q[F],ne(F),J.reject);return J.promise()}});var ae=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;b.Deferred.exceptionHook=function(_,A){e.console&&e.console.warn&&_&&ae.test(_.name)&&e.console.warn("jQuery.Deferred exception: "+_.message,_.stack,A)},b.readyException=function(_){e.setTimeout(function(){throw _})};var Z=b.Deferred();b.fn.ready=function(_){return Z.then(_).catch(function(A){b.readyException(A)}),this},b.extend({isReady:!1,readyWait:1,ready:function(_){(_===!0?--b.readyWait:b.isReady)||(b.isReady=!0,!(_!==!0&&--b.readyWait>0)&&Z.resolveWith(v,[b]))}}),b.ready.then=Z.then;function W(){v.removeEventListener("DOMContentLoaded",W),e.removeEventListener("load",W),b.ready()}v.readyState==="complete"||v.readyState!=="loading"&&!v.documentElement.doScroll?e.setTimeout(b.ready):(v.addEventListener("DOMContentLoaded",W),e.addEventListener("load",W));var Y=function(_,A,F,G,Q,J,ne){var pe=0,he=_.length,xe=F==null;if(E(F)==="object"){Q=!0;for(pe in F)Y(_,A,pe,F[pe],!0,J,ne)}else if(G!==void 0&&(Q=!0,g(G)||(ne=!0),xe&&(ne?(A.call(_,G),A=null):(xe=A,A=function(Le,Pe,De){return xe.call(b(Le),De)})),A))for(;pe<he;pe++)A(_[pe],F,ne?G:G.call(_[pe],pe,A(_[pe],F)));return Q?_:xe?A.call(_):he?A(_[0],F):J},ie=/^-ms-/,ve=/-([a-z])/g;function me(_,A){return A.toUpperCase()}function fe(_){return _.replace(ie,"ms-").replace(ve,me)}var le=function(_){return _.nodeType===1||_.nodeType===9||!+_.nodeType};function ee(){this.expando=b.expando+ee.uid++}ee.uid=1,ee.prototype={cache:function(_){var A=_[this.expando];return A||(A={},le(_)&&(_.nodeType?_[this.expando]=A:Object.defineProperty(_,this.expando,{value:A,configurable:!0}))),A},set:function(_,A,F){var G,Q=this.cache(_);if(typeof A=="string")Q[fe(A)]=F;else for(G in A)Q[fe(G)]=A[G];return Q},get:function(_,A){return A===void 0?this.cache(_):_[this.expando]&&_[this.expando][fe(A)]},access:function(_,A,F){return A===void 0||A&&typeof A=="string"&&F===void 0?this.get(_,A):(this.set(_,A,F),F!==void 0?F:A)},remove:function(_,A){var F,G=_[this.expando];if(G!==void 0){if(A!==void 0)for(Array.isArray(A)?A=A.map(fe):(A=fe(A),A=A in G?[A]:A.match(ue)||[]),F=A.length;F--;)delete G[A[F]];(A===void 0||b.isEmptyObject(G))&&(_.nodeType?_[this.expando]=void 0:delete _[this.expando])}},hasData:function(_){var A=_[this.expando];return A!==void 0&&!b.isEmptyObject(A)}};var oe=new ee,ge=new ee,_e=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,we=/[A-Z]/g;function ze(_){return _==="true"?!0:_==="false"?!1:_==="null"?null:_===+_+""?+_:_e.test(_)?JSON.parse(_):_}function Me(_,A,F){var G;if(F===void 0&&_.nodeType===1)if(G="data-"+A.replace(we,"-$&").toLowerCase(),F=_.getAttribute(G),typeof F=="string"){try{F=ze(F)}catch{}ge.set(_,A,F)}else F=void 0;return F}b.extend({hasData:function(_){return ge.hasData(_)||oe.hasData(_)},data:function(_,A,F){return ge.access(_,A,F)},removeData:function(_,A){ge.remove(_,A)},_data:function(_,A,F){return oe.access(_,A,F)},_removeData:function(_,A){oe.remove(_,A)}}),b.fn.extend({data:function(_,A){var F,G,Q,J=this[0],ne=J&&J.attributes;if(_===void 0){if(this.length&&(Q=ge.get(J),J.nodeType===1&&!oe.get(J,"hasDataAttrs"))){for(F=ne.length;F--;)ne[F]&&(G=ne[F].name,G.indexOf("data-")===0&&(G=fe(G.slice(5)),Me(J,G,Q[G])));oe.set(J,"hasDataAttrs",!0)}return Q}return typeof _=="object"?this.each(function(){ge.set(this,_)}):Y(this,function(pe){var he;if(J&&pe===void 0)return he=ge.get(J,_),he!==void 0||(he=Me(J,_),he!==void 0)?he:void 0;this.each(function(){ge.set(this,_,pe)})},null,A,arguments.length>1,null,!0)},removeData:function(_){return this.each(function(){ge.remove(this,_)})}}),b.extend({queue:function(_,A,F){var G;if(_)return A=(A||"fx")+"queue",G=oe.get(_,A),F&&(!G||Array.isArray(F)?G=oe.access(_,A,b.makeArray(F)):G.push(F)),G||[]},dequeue:function(_,A){A=A||"fx";var F=b.queue(_,A),G=F.length,Q=F.shift(),J=b._queueHooks(_,A),ne=function(){b.dequeue(_,A)};Q==="inprogress"&&(Q=F.shift(),G--),Q&&(A==="fx"&&F.unshift("inprogress"),delete J.stop,Q.call(_,ne,J)),!G&&J&&J.empty.fire()},_queueHooks:function(_,A){var F=A+"queueHooks";return oe.get(_,F)||oe.access(_,F,{empty:b.Callbacks("once memory").add(function(){oe.remove(_,[A+"queue",F])})})}}),b.fn.extend({queue:function(_,A){var F=2;return typeof _!="string"&&(A=_,_="fx",F--),arguments.length<F?b.queue(this[0],_):A===void 0?this:this.each(function(){var G=b.queue(this,_,A);b._queueHooks(this,_),_==="fx"&&G[0]!=="inprogress"&&b.dequeue(this,_)})},dequeue:function(_){return this.each(function(){b.dequeue(this,_)})},clearQueue:function(_){return this.queue(_||"fx",[])},promise:function(_,A){var F,G=1,Q=b.Deferred(),J=this,ne=this.length,pe=function(){--G||Q.resolveWith(J,[J])};for(typeof _!="string"&&(A=_,_=void 0),_=_||"fx";ne--;)F=oe.get(J[ne],_+"queueHooks"),F&&F.empty&&(G++,F.empty.add(pe));return pe(),Q.promise(A)}});var Re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ce=new RegExp("^(?:([+-])=|)("+Re+")([a-z%]*)$","i"),Ee=["Top","Right","Bottom","Left"],Se=v.documentElement,Ne=function(_){return b.contains(_.ownerDocument,_)},ke={composed:!0};Se.getRootNode&&(Ne=function(_){return b.contains(_.ownerDocument,_)||_.getRootNode(ke)===_.ownerDocument});var Fe=function(_,A){return _=A||_,_.style.display==="none"||_.style.display===""&&Ne(_)&&b.css(_,"display")==="none"};function Ze(_,A,F,G){var Q,J,ne=20,pe=G?function(){return G.cur()}:function(){return b.css(_,A,"")},he=pe(),xe=F&&F[3]||(b.cssNumber[A]?"":"px"),Le=_.nodeType&&(b.cssNumber[A]||xe!=="px"&&+he)&&Ce.exec(b.css(_,A));if(Le&&Le[3]!==xe){for(he=he/2,xe=xe||Le[3],Le=+he||1;ne--;)b.style(_,A,Le+xe),(1-J)*(1-(J=pe()/he||.5))<=0&&(ne=0),Le=Le/J;Le=Le*2,b.style(_,A,Le+xe),F=F||[]}return F&&(Le=+Le||+he||0,Q=F[1]?Le+(F[1]+1)*F[2]:+F[2],G&&(G.unit=xe,G.start=Le,G.end=Q)),Q}var Ye={};function Ge(_){var A,F=_.ownerDocument,G=_.nodeName,Q=Ye[G];return Q||(A=F.body.appendChild(F.createElement(G)),Q=b.css(A,"display"),A.parentNode.removeChild(A),Q==="none"&&(Q="block"),Ye[G]=Q,Q)}function Be(_,A){for(var F,G,Q=[],J=0,ne=_.length;J<ne;J++)G=_[J],G.style&&(F=G.style.display,A?(F==="none"&&(Q[J]=oe.get(G,"display")||null,Q[J]||(G.style.display="")),G.style.display===""&&Fe(G)&&(Q[J]=Ge(G))):F!=="none"&&(Q[J]="none",oe.set(G,"display",F)));for(J=0;J<ne;J++)Q[J]!=null&&(_[J].style.display=Q[J]);return _}b.fn.extend({show:function(){return Be(this,!0)},hide:function(){return Be(this)},toggle:function(_){return typeof _=="boolean"?_?this.show():this.hide():this.each(function(){Fe(this)?b(this).show():b(this).hide()})}});var Qe=/^(?:checkbox|radio)$/i,pt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,at=/^$|^module$|\/(?:java|ecma)script/i;(function(){var _=v.createDocumentFragment(),A=_.appendChild(v.createElement("div")),F=v.createElement("input");F.setAttribute("type","radio"),F.setAttribute("checked","checked"),F.setAttribute("name","t"),A.appendChild(F),p.checkClone=A.cloneNode(!0).cloneNode(!0).lastChild.checked,A.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!A.cloneNode(!0).lastChild.defaultValue,A.innerHTML="<option></option>",p.option=!!A.lastChild})();var yt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};yt.tbody=yt.tfoot=yt.colgroup=yt.caption=yt.thead,yt.th=yt.td,p.option||(yt.optgroup=yt.option=[1,"<select multiple='multiple'>","</select>"]);function Je(_,A){var F;return typeof _.getElementsByTagName<"u"?F=_.getElementsByTagName(A||"*"):typeof _.querySelectorAll<"u"?F=_.querySelectorAll(A||"*"):F=[],A===void 0||A&&S(_,A)?b.merge([_],F):F}function rt(_,A){for(var F=0,G=_.length;F<G;F++)oe.set(_[F],"globalEval",!A||oe.get(A[F],"globalEval"))}var _t=/<|&#?\w+;/;function ut(_,A,F,G,Q){for(var J,ne,pe,he,xe,Le,Pe=A.createDocumentFragment(),De=[],$e=0,Et=_.length;$e<Et;$e++)if(J=_[$e],J||J===0)if(E(J)==="object")b.merge(De,J.nodeType?[J]:J);else if(!_t.test(J))De.push(A.createTextNode(J));else{for(ne=ne||Pe.appendChild(A.createElement("div")),pe=(pt.exec(J)||["",""])[1].toLowerCase(),he=yt[pe]||yt._default,ne.innerHTML=he[1]+b.htmlPrefilter(J)+he[2],Le=he[0];Le--;)ne=ne.lastChild;b.merge(De,ne.childNodes),ne=Pe.firstChild,ne.textContent=""}for(Pe.textContent="",$e=0;J=De[$e++];){if(G&&b.inArray(J,G)>-1){Q&&Q.push(J);continue}if(xe=Ne(J),ne=Je(Pe.appendChild(J),"script"),xe&&rt(ne),F)for(Le=0;J=ne[Le++];)at.test(J.type||"")&&F.push(J)}return Pe}var lt=/^([^.]*)(?:\.(.+)|)/;function Ht(){return!0}function ot(){return!1}function dt(_,A,F,G,Q,J){var ne,pe;if(typeof A=="object"){typeof F!="string"&&(G=G||F,F=void 0);for(pe in A)dt(_,pe,F,G,A[pe],J);return _}if(G==null&&Q==null?(Q=F,G=F=void 0):Q==null&&(typeof F=="string"?(Q=G,G=void 0):(Q=G,G=F,F=void 0)),Q===!1)Q=ot;else if(!Q)return _;return J===1&&(ne=Q,Q=function(he){return b().off(he),ne.apply(this,arguments)},Q.guid=ne.guid||(ne.guid=b.guid++)),_.each(function(){b.event.add(this,A,Q,G,F)})}b.event={global:{},add:function(_,A,F,G,Q){var J,ne,pe,he,xe,Le,Pe,De,$e,Et,Pt,Tt=oe.get(_);if(le(_))for(F.handler&&(J=F,F=J.handler,Q=J.selector),Q&&b.find.matchesSelector(Se,Q),F.guid||(F.guid=b.guid++),(he=Tt.events)||(he=Tt.events=Object.create(null)),(ne=Tt.handle)||(ne=Tt.handle=function(xr){return typeof b<"u"&&b.event.triggered!==xr.type?b.event.dispatch.apply(_,arguments):void 0}),A=(A||"").match(ue)||[""],xe=A.length;xe--;)pe=lt.exec(A[xe])||[],$e=Pt=pe[1],Et=(pe[2]||"").split(".").sort(),$e&&(Pe=b.event.special[$e]||{},$e=(Q?Pe.delegateType:Pe.bindType)||$e,Pe=b.event.special[$e]||{},Le=b.extend({type:$e,origType:Pt,data:G,handler:F,guid:F.guid,selector:Q,needsContext:Q&&b.expr.match.needsContext.test(Q),namespace:Et.join(".")},J),(De=he[$e])||(De=he[$e]=[],De.delegateCount=0,(!Pe.setup||Pe.setup.call(_,G,Et,ne)===!1)&&_.addEventListener&&_.addEventListener($e,ne)),Pe.add&&(Pe.add.call(_,Le),Le.handler.guid||(Le.handler.guid=F.guid)),Q?De.splice(De.delegateCount++,0,Le):De.push(Le),b.event.global[$e]=!0)},remove:function(_,A,F,G,Q){var J,ne,pe,he,xe,Le,Pe,De,$e,Et,Pt,Tt=oe.hasData(_)&&oe.get(_);if(!(!Tt||!(he=Tt.events))){for(A=(A||"").match(ue)||[""],xe=A.length;xe--;){if(pe=lt.exec(A[xe])||[],$e=Pt=pe[1],Et=(pe[2]||"").split(".").sort(),!$e){for($e in he)b.event.remove(_,$e+A[xe],F,G,!0);continue}for(Pe=b.event.special[$e]||{},$e=(G?Pe.delegateType:Pe.bindType)||$e,De=he[$e]||[],pe=pe[2]&&new RegExp("(^|\\.)"+Et.join("\\.(?:.*\\.|)")+"(\\.|$)"),ne=J=De.length;J--;)Le=De[J],(Q||Pt===Le.origType)&&(!F||F.guid===Le.guid)&&(!pe||pe.test(Le.namespace))&&(!G||G===Le.selector||G==="**"&&Le.selector)&&(De.splice(J,1),Le.selector&&De.delegateCount--,Pe.remove&&Pe.remove.call(_,Le));ne&&!De.length&&((!Pe.teardown||Pe.teardown.call(_,Et,Tt.handle)===!1)&&b.removeEvent(_,$e,Tt.handle),delete he[$e])}b.isEmptyObject(he)&&oe.remove(_,"handle events")}},dispatch:function(_){var A,F,G,Q,J,ne,pe=new Array(arguments.length),he=b.event.fix(_),xe=(oe.get(this,"events")||Object.create(null))[he.type]||[],Le=b.event.special[he.type]||{};for(pe[0]=he,A=1;A<arguments.length;A++)pe[A]=arguments[A];if(he.delegateTarget=this,!(Le.preDispatch&&Le.preDispatch.call(this,he)===!1)){for(ne=b.event.handlers.call(this,he,xe),A=0;(Q=ne[A++])&&!he.isPropagationStopped();)for(he.currentTarget=Q.elem,F=0;(J=Q.handlers[F++])&&!he.isImmediatePropagationStopped();)(!he.rnamespace||J.namespace===!1||he.rnamespace.test(J.namespace))&&(he.handleObj=J,he.data=J.data,G=((b.event.special[J.origType]||{}).handle||J.handler).apply(Q.elem,pe),G!==void 0&&(he.result=G)===!1&&(he.preventDefault(),he.stopPropagation()));return Le.postDispatch&&Le.postDispatch.call(this,he),he.result}},handlers:function(_,A){var F,G,Q,J,ne,pe=[],he=A.delegateCount,xe=_.target;if(he&&xe.nodeType&&!(_.type==="click"&&_.button>=1)){for(;xe!==this;xe=xe.parentNode||this)if(xe.nodeType===1&&!(_.type==="click"&&xe.disabled===!0)){for(J=[],ne={},F=0;F<he;F++)G=A[F],Q=G.selector+" ",ne[Q]===void 0&&(ne[Q]=G.needsContext?b(Q,this).index(xe)>-1:b.find(Q,this,null,[xe]).length),ne[Q]&&J.push(G);J.length&&pe.push({elem:xe,handlers:J})}}return xe=this,he<A.length&&pe.push({elem:xe,handlers:A.slice(he)}),pe},addProp:function(_,A){Object.defineProperty(b.Event.prototype,_,{enumerable:!0,configurable:!0,get:g(A)?function(){if(this.originalEvent)return A(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[_]},set:function(F){Object.defineProperty(this,_,{enumerable:!0,configurable:!0,writable:!0,value:F})}})},fix:function(_){return _[b.expando]?_:new b.Event(_)},special:{load:{noBubble:!0},click:{setup:function(_){var A=this||_;return Qe.test(A.type)&&A.click&&S(A,"input")&&Bt(A,"click",!0),!1},trigger:function(_){var A=this||_;return Qe.test(A.type)&&A.click&&S(A,"input")&&Bt(A,"click"),!0},_default:function(_){var A=_.target;return Qe.test(A.type)&&A.click&&S(A,"input")&&oe.get(A,"click")||S(A,"a")}},beforeunload:{postDispatch:function(_){_.result!==void 0&&_.originalEvent&&(_.originalEvent.returnValue=_.result)}}}};function Bt(_,A,F){if(!F){oe.get(_,A)===void 0&&b.event.add(_,A,Ht);return}oe.set(_,A,!1),b.event.add(_,A,{namespace:!1,handler:function(G){var Q,J=oe.get(this,A);if(G.isTrigger&1&&this[A]){if(J)(b.event.special[A]||{}).delegateType&&G.stopPropagation();else if(J=o.call(arguments),oe.set(this,A,J),this[A](),Q=oe.get(this,A),oe.set(this,A,!1),J!==Q)return G.stopImmediatePropagation(),G.preventDefault(),Q}else J&&(oe.set(this,A,b.event.trigger(J[0],J.slice(1),this)),G.stopPropagation(),G.isImmediatePropagationStopped=Ht)}})}b.removeEvent=function(_,A,F){_.removeEventListener&&_.removeEventListener(A,F)},b.Event=function(_,A){if(!(this instanceof b.Event))return new b.Event(_,A);_&&_.type?(this.originalEvent=_,this.type=_.type,this.isDefaultPrevented=_.defaultPrevented||_.defaultPrevented===void 0&&_.returnValue===!1?Ht:ot,this.target=_.target&&_.target.nodeType===3?_.target.parentNode:_.target,this.currentTarget=_.currentTarget,this.relatedTarget=_.relatedTarget):this.type=_,A&&b.extend(this,A),this.timeStamp=_&&_.timeStamp||Date.now(),this[b.expando]=!0},b.Event.prototype={constructor:b.Event,isDefaultPrevented:ot,isPropagationStopped:ot,isImmediatePropagationStopped:ot,isSimulated:!1,preventDefault:function(){var _=this.originalEvent;this.isDefaultPrevented=Ht,_&&!this.isSimulated&&_.preventDefault()},stopPropagation:function(){var _=this.originalEvent;this.isPropagationStopped=Ht,_&&!this.isSimulated&&_.stopPropagation()},stopImmediatePropagation:function(){var _=this.originalEvent;this.isImmediatePropagationStopped=Ht,_&&!this.isSimulated&&_.stopImmediatePropagation(),this.stopPropagation()}},b.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},b.event.addProp),b.each({focus:"focusin",blur:"focusout"},function(_,A){function F(G){if(v.documentMode){var Q=oe.get(this,"handle"),J=b.event.fix(G);J.type=G.type==="focusin"?"focus":"blur",J.isSimulated=!0,Q(G),J.target===J.currentTarget&&Q(J)}else b.event.simulate(A,G.target,b.event.fix(G))}b.event.special[_]={setup:function(){var G;if(Bt(this,_,!0),v.documentMode)G=oe.get(this,A),G||this.addEventListener(A,F),oe.set(this,A,(G||0)+1);else return!1},trigger:function(){return Bt(this,_),!0},teardown:function(){var G;if(v.documentMode)G=oe.get(this,A)-1,G?oe.set(this,A,G):(this.removeEventListener(A,F),oe.remove(this,A));else return!1},_default:function(G){return oe.get(G.target,_)},delegateType:A},b.event.special[A]={setup:function(){var G=this.ownerDocument||this.document||this,Q=v.documentMode?this:G,J=oe.get(Q,A);J||(v.documentMode?this.addEventListener(A,F):G.addEventListener(_,F,!0)),oe.set(Q,A,(J||0)+1)},teardown:function(){var G=this.ownerDocument||this.document||this,Q=v.documentMode?this:G,J=oe.get(Q,A)-1;J?oe.set(Q,A,J):(v.documentMode?this.removeEventListener(A,F):G.removeEventListener(_,F,!0),oe.remove(Q,A))}}}),b.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(_,A){b.event.special[_]={delegateType:A,bindType:A,handle:function(F){var G,Q=this,J=F.relatedTarget,ne=F.handleObj;return(!J||J!==Q&&!b.contains(Q,J))&&(F.type=ne.origType,G=ne.handler.apply(this,arguments),F.type=A),G}}}),b.fn.extend({on:function(_,A,F,G){return dt(this,_,A,F,G)},one:function(_,A,F,G){return dt(this,_,A,F,G,1)},off:function(_,A,F){var G,Q;if(_&&_.preventDefault&&_.handleObj)return G=_.handleObj,b(_.delegateTarget).off(G.namespace?G.origType+"."+G.namespace:G.origType,G.selector,G.handler),this;if(typeof _=="object"){for(Q in _)this.off(Q,A,_[Q]);return this}return(A===!1||typeof A=="function")&&(F=A,A=void 0),F===!1&&(F=ot),this.each(function(){b.event.remove(this,_,F,A)})}});var nr=/<script|<style|<link/i,Zt=/checked\s*(?:[^=]|=\s*.checked.)/i,Qt=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Br(_,A){return S(_,"table")&&S(A.nodeType!==11?A:A.firstChild,"tr")&&b(_).children("tbody")[0]||_}function Tn(_){return _.type=(_.getAttribute("type")!==null)+"/"+_.type,_}function Mi(_){return(_.type||"").slice(0,5)==="true/"?_.type=_.type.slice(5):_.removeAttribute("type"),_}function an(_,A){var F,G,Q,J,ne,pe,he;if(A.nodeType===1){if(oe.hasData(_)&&(J=oe.get(_),he=J.events,he)){oe.remove(A,"handle events");for(Q in he)for(F=0,G=he[Q].length;F<G;F++)b.event.add(A,Q,he[Q][F])}ge.hasData(_)&&(ne=ge.access(_),pe=b.extend({},ne),ge.set(A,pe))}}function Sn(_,A){var F=A.nodeName.toLowerCase();F==="input"&&Qe.test(_.type)?A.checked=_.checked:(F==="input"||F==="textarea")&&(A.defaultValue=_.defaultValue)}function qr(_,A,F,G){A=a(A);var Q,J,ne,pe,he,xe,Le=0,Pe=_.length,De=Pe-1,$e=A[0],Et=g($e);if(Et||Pe>1&&typeof $e=="string"&&!p.checkClone&&Zt.test($e))return _.each(function(Pt){var Tt=_.eq(Pt);Et&&(A[0]=$e.call(this,Pt,Tt.html())),qr(Tt,A,F,G)});if(Pe&&(Q=ut(A,_[0].ownerDocument,!1,_,G),J=Q.firstChild,Q.childNodes.length===1&&(Q=J),J||G)){for(ne=b.map(Je(Q,"script"),Tn),pe=ne.length;Le<Pe;Le++)he=Q,Le!==De&&(he=b.clone(he,!0,!0),pe&&b.merge(ne,Je(he,"script"))),F.call(_[Le],he,Le);if(pe)for(xe=ne[ne.length-1].ownerDocument,b.map(ne,Mi),Le=0;Le<pe;Le++)he=ne[Le],at.test(he.type||"")&&!oe.access(he,"globalEval")&&b.contains(xe,he)&&(he.src&&(he.type||"").toLowerCase()!=="module"?b._evalUrl&&!he.noModule&&b._evalUrl(he.src,{nonce:he.nonce||he.getAttribute("nonce")},xe):y(he.textContent.replace(Qt,""),he,xe))}return _}function on(_,A,F){for(var G,Q=A?b.filter(A,_):_,J=0;(G=Q[J])!=null;J++)!F&&G.nodeType===1&&b.cleanData(Je(G)),G.parentNode&&(F&&Ne(G)&&rt(Je(G,"script")),G.parentNode.removeChild(G));return _}b.extend({htmlPrefilter:function(_){return _},clone:function(_,A,F){var G,Q,J,ne,pe=_.cloneNode(!0),he=Ne(_);if(!p.noCloneChecked&&(_.nodeType===1||_.nodeType===11)&&!b.isXMLDoc(_))for(ne=Je(pe),J=Je(_),G=0,Q=J.length;G<Q;G++)Sn(J[G],ne[G]);if(A)if(F)for(J=J||Je(_),ne=ne||Je(pe),G=0,Q=J.length;G<Q;G++)an(J[G],ne[G]);else an(_,pe);return ne=Je(pe,"script"),ne.length>0&&rt(ne,!he&&Je(_,"script")),pe},cleanData:function(_){for(var A,F,G,Q=b.event.special,J=0;(F=_[J])!==void 0;J++)if(le(F)){if(A=F[oe.expando]){if(A.events)for(G in A.events)Q[G]?b.event.remove(F,G):b.removeEvent(F,G,A.handle);F[oe.expando]=void 0}F[ge.expando]&&(F[ge.expando]=void 0)}}}),b.fn.extend({detach:function(_){return on(this,_,!0)},remove:function(_){return on(this,_)},text:function(_){return Y(this,function(A){return A===void 0?b.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=A)})},null,_,arguments.length)},append:function(){return qr(this,arguments,function(_){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var A=Br(this,_);A.appendChild(_)}})},prepend:function(){return qr(this,arguments,function(_){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var A=Br(this,_);A.insertBefore(_,A.firstChild)}})},before:function(){return qr(this,arguments,function(_){this.parentNode&&this.parentNode.insertBefore(_,this)})},after:function(){return qr(this,arguments,function(_){this.parentNode&&this.parentNode.insertBefore(_,this.nextSibling)})},empty:function(){for(var _,A=0;(_=this[A])!=null;A++)_.nodeType===1&&(b.cleanData(Je(_,!1)),_.textContent="");return this},clone:function(_,A){return _=_??!1,A=A??_,this.map(function(){return b.clone(this,_,A)})},html:function(_){return Y(this,function(A){var F=this[0]||{},G=0,Q=this.length;if(A===void 0&&F.nodeType===1)return F.innerHTML;if(typeof A=="string"&&!nr.test(A)&&!yt[(pt.exec(A)||["",""])[1].toLowerCase()]){A=b.htmlPrefilter(A);try{for(;G<Q;G++)F=this[G]||{},F.nodeType===1&&(b.cleanData(Je(F,!1)),F.innerHTML=A);F=0}catch{}}F&&this.empty().append(A)},null,_,arguments.length)},replaceWith:function(){var _=[];return qr(this,arguments,function(A){var F=this.parentNode;b.inArray(this,_)<0&&(b.cleanData(Je(this)),F&&F.replaceChild(A,this))},_)}}),b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(_,A){b.fn[_]=function(F){for(var G,Q=[],J=b(F),ne=J.length-1,pe=0;pe<=ne;pe++)G=pe===ne?this:this.clone(!0),b(J[pe])[A](G),s.apply(Q,G.get());return this.pushStack(Q)}});var Vr=new RegExp("^("+Re+")(?!px)[a-z%]+$","i"),Wr=/^--/,Lr=function(_){var A=_.ownerDocument.defaultView;return(!A||!A.opener)&&(A=e),A.getComputedStyle(_)},ui=function(_,A,F){var G,Q,J={};for(Q in A)J[Q]=_.style[Q],_.style[Q]=A[Q];G=F.call(_);for(Q in A)_.style[Q]=J[Q];return G},li=new RegExp(Ee.join("|"),"i");(function(){function _(){if(xe){he.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",xe.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Se.appendChild(he).appendChild(xe);var Le=e.getComputedStyle(xe);F=Le.top!=="1%",pe=A(Le.marginLeft)===12,xe.style.right="60%",J=A(Le.right)===36,G=A(Le.width)===36,xe.style.position="absolute",Q=A(xe.offsetWidth/3)===12,Se.removeChild(he),xe=null}}function A(Le){return Math.round(parseFloat(Le))}var F,G,Q,J,ne,pe,he=v.createElement("div"),xe=v.createElement("div");xe.style&&(xe.style.backgroundClip="content-box",xe.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle=xe.style.backgroundClip==="content-box",b.extend(p,{boxSizingReliable:function(){return _(),G},pixelBoxStyles:function(){return _(),J},pixelPosition:function(){return _(),F},reliableMarginLeft:function(){return _(),pe},scrollboxSize:function(){return _(),Q},reliableTrDimensions:function(){var Le,Pe,De,$e;return ne==null&&(Le=v.createElement("table"),Pe=v.createElement("tr"),De=v.createElement("div"),Le.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Pe.style.cssText="border:1px solid",Pe.style.height="1px",De.style.height="9px",De.style.display="block",Se.appendChild(Le).appendChild(Pe).appendChild(De),$e=e.getComputedStyle(Pe),ne=parseInt($e.height,10)+parseInt($e.borderTopWidth,10)+parseInt($e.borderBottomWidth,10)===Pe.offsetHeight,Se.removeChild(Le)),ne}}))})();function Dn(_,A,F){var G,Q,J,ne,pe=Wr.test(A),he=_.style;return F=F||Lr(_),F&&(ne=F.getPropertyValue(A)||F[A],pe&&ne&&(ne=ne.replace(x,"$1")||void 0),ne===""&&!Ne(_)&&(ne=b.style(_,A)),!p.pixelBoxStyles()&&Vr.test(ne)&&li.test(A)&&(G=he.width,Q=he.minWidth,J=he.maxWidth,he.minWidth=he.maxWidth=he.width=ne,ne=F.width,he.width=G,he.minWidth=Q,he.maxWidth=J)),ne!==void 0?ne+"":ne}function wr(_,A){return{get:function(){if(_()){delete this.get;return}return(this.get=A).apply(this,arguments)}}}var fi=["Webkit","Moz","ms"],Un=v.createElement("div").style,gn={};function Mr(_){for(var A=_[0].toUpperCase()+_.slice(1),F=fi.length;F--;)if(_=fi[F]+A,_ in Un)return _}function Vn(_){var A=b.cssProps[_]||gn[_];return A||(_ in Un?_:gn[_]=Mr(_)||_)}var Jo=/^(none|table(?!-c[ea]).+)/,pr={position:"absolute",visibility:"hidden",display:"block"},Ct={letterSpacing:"0",fontWeight:"400"};function qt(_,A,F){var G=Ce.exec(A);return G?Math.max(0,G[2]-(F||0))+(G[3]||"px"):A}function sn(_,A,F,G,Q,J){var ne=A==="width"?1:0,pe=0,he=0,xe=0;if(F===(G?"border":"content"))return 0;for(;ne<4;ne+=2)F==="margin"&&(xe+=b.css(_,F+Ee[ne],!0,Q)),G?(F==="content"&&(he-=b.css(_,"padding"+Ee[ne],!0,Q)),F!=="margin"&&(he-=b.css(_,"border"+Ee[ne]+"Width",!0,Q))):(he+=b.css(_,"padding"+Ee[ne],!0,Q),F!=="padding"?he+=b.css(_,"border"+Ee[ne]+"Width",!0,Q):pe+=b.css(_,"border"+Ee[ne]+"Width",!0,Q));return!G&&J>=0&&(he+=Math.max(0,Math.ceil(_["offset"+A[0].toUpperCase()+A.slice(1)]-J-he-pe-.5))||0),he+xe}function $r(_,A,F){var G=Lr(_),Q=!p.boxSizingReliable()||F,J=Q&&b.css(_,"boxSizing",!1,G)==="border-box",ne=J,pe=Dn(_,A,G),he="offset"+A[0].toUpperCase()+A.slice(1);if(Vr.test(pe)){if(!F)return pe;pe="auto"}return(!p.boxSizingReliable()&&J||!p.reliableTrDimensions()&&S(_,"tr")||pe==="auto"||!parseFloat(pe)&&b.css(_,"display",!1,G)==="inline")&&_.getClientRects().length&&(J=b.css(_,"boxSizing",!1,G)==="border-box",ne=he in _,ne&&(pe=_[he])),pe=parseFloat(pe)||0,pe+sn(_,A,F||(J?"border":"content"),ne,G,pe)+"px"}b.extend({cssHooks:{opacity:{get:function(_,A){if(A){var F=Dn(_,"opacity");return F===""?"1":F}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(_,A,F,G){if(!(!_||_.nodeType===3||_.nodeType===8||!_.style)){var Q,J,ne,pe=fe(A),he=Wr.test(A),xe=_.style;if(he||(A=Vn(pe)),ne=b.cssHooks[A]||b.cssHooks[pe],F!==void 0){if(J=typeof F,J==="string"&&(Q=Ce.exec(F))&&Q[1]&&(F=Ze(_,A,Q),J="number"),F==null||F!==F)return;J==="number"&&!he&&(F+=Q&&Q[3]||(b.cssNumber[pe]?"":"px")),!p.clearCloneStyle&&F===""&&A.indexOf("background")===0&&(xe[A]="inherit"),(!ne||!("set"in ne)||(F=ne.set(_,F,G))!==void 0)&&(he?xe.setProperty(A,F):xe[A]=F)}else return ne&&"get"in ne&&(Q=ne.get(_,!1,G))!==void 0?Q:xe[A]}},css:function(_,A,F,G){var Q,J,ne,pe=fe(A),he=Wr.test(A);return he||(A=Vn(pe)),ne=b.cssHooks[A]||b.cssHooks[pe],ne&&"get"in ne&&(Q=ne.get(_,!0,F)),Q===void 0&&(Q=Dn(_,A,G)),Q==="normal"&&A in Ct&&(Q=Ct[A]),F===""||F?(J=parseFloat(Q),F===!0||isFinite(J)?J||0:Q):Q}}),b.each(["height","width"],function(_,A){b.cssHooks[A]={get:function(F,G,Q){if(G)return Jo.test(b.css(F,"display"))&&(!F.getClientRects().length||!F.getBoundingClientRect().width)?ui(F,pr,function(){return $r(F,A,Q)}):$r(F,A,Q)},set:function(F,G,Q){var J,ne=Lr(F),pe=!p.scrollboxSize()&&ne.position==="absolute",he=pe||Q,xe=he&&b.css(F,"boxSizing",!1,ne)==="border-box",Le=Q?sn(F,A,Q,xe,ne):0;return xe&&pe&&(Le-=Math.ceil(F["offset"+A[0].toUpperCase()+A.slice(1)]-parseFloat(ne[A])-sn(F,A,"border",!1,ne)-.5)),Le&&(J=Ce.exec(G))&&(J[3]||"px")!=="px"&&(F.style[A]=G,G=b.css(F,A)),qt(F,G,Le)}}}),b.cssHooks.marginLeft=wr(p.reliableMarginLeft,function(_,A){if(A)return(parseFloat(Dn(_,"marginLeft"))||_.getBoundingClientRect().left-ui(_,{marginLeft:0},function(){return _.getBoundingClientRect().left}))+"px"}),b.each({margin:"",padding:"",border:"Width"},function(_,A){b.cssHooks[_+A]={expand:function(F){for(var G=0,Q={},J=typeof F=="string"?F.split(" "):[F];G<4;G++)Q[_+Ee[G]+A]=J[G]||J[G-2]||J[0];return Q}},_!=="margin"&&(b.cssHooks[_+A].set=qt)}),b.fn.extend({css:function(_,A){return Y(this,function(F,G,Q){var J,ne,pe={},he=0;if(Array.isArray(G)){for(J=Lr(F),ne=G.length;he<ne;he++)pe[G[he]]=b.css(F,G[he],!1,J);return pe}return Q!==void 0?b.style(F,G,Q):b.css(F,G)},_,A,arguments.length>1)}});function Yr(_,A,F,G,Q){return new Yr.prototype.init(_,A,F,G,Q)}b.Tween=Yr,Yr.prototype={constructor:Yr,init:function(_,A,F,G,Q,J){this.elem=_,this.prop=F,this.easing=Q||b.easing._default,this.options=A,this.start=this.now=this.cur(),this.end=G,this.unit=J||(b.cssNumber[F]?"":"px")},cur:function(){var _=Yr.propHooks[this.prop];return _&&_.get?_.get(this):Yr.propHooks._default.get(this)},run:function(_){var A,F=Yr.propHooks[this.prop];return this.options.duration?this.pos=A=b.easing[this.easing](_,this.options.duration*_,0,1,this.options.duration):this.pos=A=_,this.now=(this.end-this.start)*A+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),F&&F.set?F.set(this):Yr.propHooks._default.set(this),this}},Yr.prototype.init.prototype=Yr.prototype,Yr.propHooks={_default:{get:function(_){var A;return _.elem.nodeType!==1||_.elem[_.prop]!=null&&_.elem.style[_.prop]==null?_.elem[_.prop]:(A=b.css(_.elem,_.prop,""),!A||A==="auto"?0:A)},set:function(_){b.fx.step[_.prop]?b.fx.step[_.prop](_):_.elem.nodeType===1&&(b.cssHooks[_.prop]||_.elem.style[Vn(_.prop)]!=null)?b.style(_.elem,_.prop,_.now+_.unit):_.elem[_.prop]=_.now}}},Yr.propHooks.scrollTop=Yr.propHooks.scrollLeft={set:function(_){_.elem.nodeType&&_.elem.parentNode&&(_.elem[_.prop]=_.now)}},b.easing={linear:function(_){return _},swing:function(_){return .5-Math.cos(_*Math.PI)/2},_default:"swing"},b.fx=Yr.prototype.init,b.fx.step={};var na,es,s_=/^(?:toggle|show|hide)$/,u_=/queueHooks$/;function wu(){es&&(v.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(wu):e.setTimeout(wu,b.fx.interval),b.fx.tick())}function Pv(){return e.setTimeout(function(){na=void 0}),na=Date.now()}function ts(_,A){var F,G=0,Q={height:_};for(A=A?1:0;G<4;G+=2-A)F=Ee[G],Q["margin"+F]=Q["padding"+F]=_;return A&&(Q.opacity=Q.width=_),Q}function Rv(_,A,F){for(var G,Q=(mn.tweeners[A]||[]).concat(mn.tweeners["*"]),J=0,ne=Q.length;J<ne;J++)if(G=Q[J].call(F,A,_))return G}function l_(_,A,F){var G,Q,J,ne,pe,he,xe,Le,Pe="width"in A||"height"in A,De=this,$e={},Et=_.style,Pt=_.nodeType&&Fe(_),Tt=oe.get(_,"fxshow");F.queue||(ne=b._queueHooks(_,"fx"),ne.unqueued==null&&(ne.unqueued=0,pe=ne.empty.fire,ne.empty.fire=function(){ne.unqueued||pe()}),ne.unqueued++,De.always(function(){De.always(function(){ne.unqueued--,b.queue(_,"fx").length||ne.empty.fire()})}));for(G in A)if(Q=A[G],s_.test(Q)){if(delete A[G],J=J||Q==="toggle",Q===(Pt?"hide":"show"))if(Q==="show"&&Tt&&Tt[G]!==void 0)Pt=!0;else continue;$e[G]=Tt&&Tt[G]||b.style(_,G)}if(he=!b.isEmptyObject(A),!(!he&&b.isEmptyObject($e))){Pe&&_.nodeType===1&&(F.overflow=[Et.overflow,Et.overflowX,Et.overflowY],xe=Tt&&Tt.display,xe==null&&(xe=oe.get(_,"display")),Le=b.css(_,"display"),Le==="none"&&(xe?Le=xe:(Be([_],!0),xe=_.style.display||xe,Le=b.css(_,"display"),Be([_]))),(Le==="inline"||Le==="inline-block"&&xe!=null)&&b.css(_,"float")==="none"&&(he||(De.done(function(){Et.display=xe}),xe==null&&(Le=Et.display,xe=Le==="none"?"":Le)),Et.display="inline-block")),F.overflow&&(Et.overflow="hidden",De.always(function(){Et.overflow=F.overflow[0],Et.overflowX=F.overflow[1],Et.overflowY=F.overflow[2]})),he=!1;for(G in $e)he||(Tt?"hidden"in Tt&&(Pt=Tt.hidden):Tt=oe.access(_,"fxshow",{display:xe}),J&&(Tt.hidden=!Pt),Pt&&Be([_],!0),De.done(function(){Pt||Be([_]),oe.remove(_,"fxshow");for(G in $e)b.style(_,G,$e[G])})),he=Rv(Pt?Tt[G]:0,G,De),G in Tt||(Tt[G]=he.start,Pt&&(he.end=he.start,he.start=0))}}function f_(_,A){var F,G,Q,J,ne;for(F in _)if(G=fe(F),Q=A[G],J=_[F],Array.isArray(J)&&(Q=J[1],J=_[F]=J[0]),F!==G&&(_[G]=J,delete _[F]),ne=b.cssHooks[G],ne&&"expand"in ne){J=ne.expand(J),delete _[G];for(F in J)F in _||(_[F]=J[F],A[F]=Q)}else A[G]=Q}function mn(_,A,F){var G,Q,J=0,ne=mn.prefilters.length,pe=b.Deferred().always(function(){delete he.elem}),he=function(){if(Q)return!1;for(var Pe=na||Pv(),De=Math.max(0,xe.startTime+xe.duration-Pe),$e=De/xe.duration||0,Et=1-$e,Pt=0,Tt=xe.tweens.length;Pt<Tt;Pt++)xe.tweens[Pt].run(Et);return pe.notifyWith(_,[xe,Et,De]),Et<1&&Tt?De:(Tt||pe.notifyWith(_,[xe,1,0]),pe.resolveWith(_,[xe]),!1)},xe=pe.promise({elem:_,props:b.extend({},A),opts:b.extend(!0,{specialEasing:{},easing:b.easing._default},F),originalProperties:A,originalOptions:F,startTime:na||Pv(),duration:F.duration,tweens:[],createTween:function(Pe,De){var $e=b.Tween(_,xe.opts,Pe,De,xe.opts.specialEasing[Pe]||xe.opts.easing);return xe.tweens.push($e),$e},stop:function(Pe){var De=0,$e=Pe?xe.tweens.length:0;if(Q)return this;for(Q=!0;De<$e;De++)xe.tweens[De].run(1);return Pe?(pe.notifyWith(_,[xe,1,0]),pe.resolveWith(_,[xe,Pe])):pe.rejectWith(_,[xe,Pe]),this}}),Le=xe.props;for(f_(Le,xe.opts.specialEasing);J<ne;J++)if(G=mn.prefilters[J].call(xe,_,Le,xe.opts),G)return g(G.stop)&&(b._queueHooks(xe.elem,xe.opts.queue).stop=G.stop.bind(G)),G;return b.map(Le,Rv,xe),g(xe.opts.start)&&xe.opts.start.call(_,xe),xe.progress(xe.opts.progress).done(xe.opts.done,xe.opts.complete).fail(xe.opts.fail).always(xe.opts.always),b.fx.timer(b.extend(he,{elem:_,anim:xe,queue:xe.opts.queue})),xe}b.Animation=b.extend(mn,{tweeners:{"*":[function(_,A){var F=this.createTween(_,A);return Ze(F.elem,_,Ce.exec(A),F),F}]},tweener:function(_,A){g(_)?(A=_,_=["*"]):_=_.match(ue);for(var F,G=0,Q=_.length;G<Q;G++)F=_[G],mn.tweeners[F]=mn.tweeners[F]||[],mn.tweeners[F].unshift(A)},prefilters:[l_],prefilter:function(_,A){A?mn.prefilters.unshift(_):mn.prefilters.push(_)}}),b.speed=function(_,A,F){var G=_&&typeof _=="object"?b.extend({},_):{complete:F||!F&&A||g(_)&&_,duration:_,easing:F&&A||A&&!g(A)&&A};return b.fx.off?G.duration=0:typeof G.duration!="number"&&(G.duration in b.fx.speeds?G.duration=b.fx.speeds[G.duration]:G.duration=b.fx.speeds._default),(G.queue==null||G.queue===!0)&&(G.queue="fx"),G.old=G.complete,G.complete=function(){g(G.old)&&G.old.call(this),G.queue&&b.dequeue(this,G.queue)},G},b.fn.extend({fadeTo:function(_,A,F,G){return this.filter(Fe).css("opacity",0).show().end().animate({opacity:A},_,F,G)},animate:function(_,A,F,G){var Q=b.isEmptyObject(_),J=b.speed(A,F,G),ne=function(){var pe=mn(this,b.extend({},_),J);(Q||oe.get(this,"finish"))&&pe.stop(!0)};return ne.finish=ne,Q||J.queue===!1?this.each(ne):this.queue(J.queue,ne)},stop:function(_,A,F){var G=function(Q){var J=Q.stop;delete Q.stop,J(F)};return typeof _!="string"&&(F=A,A=_,_=void 0),A&&this.queue(_||"fx",[]),this.each(function(){var Q=!0,J=_!=null&&_+"queueHooks",ne=b.timers,pe=oe.get(this);if(J)pe[J]&&pe[J].stop&&G(pe[J]);else for(J in pe)pe[J]&&pe[J].stop&&u_.test(J)&&G(pe[J]);for(J=ne.length;J--;)ne[J].elem===this&&(_==null||ne[J].queue===_)&&(ne[J].anim.stop(F),Q=!1,ne.splice(J,1));(Q||!F)&&b.dequeue(this,_)})},finish:function(_){return _!==!1&&(_=_||"fx"),this.each(function(){var A,F=oe.get(this),G=F[_+"queue"],Q=F[_+"queueHooks"],J=b.timers,ne=G?G.length:0;for(F.finish=!0,b.queue(this,_,[]),Q&&Q.stop&&Q.stop.call(this,!0),A=J.length;A--;)J[A].elem===this&&J[A].queue===_&&(J[A].anim.stop(!0),J.splice(A,1));for(A=0;A<ne;A++)G[A]&&G[A].finish&&G[A].finish.call(this);delete F.finish})}}),b.each(["toggle","show","hide"],function(_,A){var F=b.fn[A];b.fn[A]=function(G,Q,J){return G==null||typeof G=="boolean"?F.apply(this,arguments):this.animate(ts(A,!0),G,Q,J)}}),b.each({slideDown:ts("show"),slideUp:ts("hide"),slideToggle:ts("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(_,A){b.fn[_]=function(F,G,Q){return this.animate(A,F,G,Q)}}),b.timers=[],b.fx.tick=function(){var _,A=0,F=b.timers;for(na=Date.now();A<F.length;A++)_=F[A],!_()&&F[A]===_&&F.splice(A--,1);F.length||b.fx.stop(),na=void 0},b.fx.timer=function(_){b.timers.push(_),b.fx.start()},b.fx.interval=13,b.fx.start=function(){es||(es=!0,wu())},b.fx.stop=function(){es=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fn.delay=function(_,A){return _=b.fx&&b.fx.speeds[_]||_,A=A||"fx",this.queue(A,function(F,G){var Q=e.setTimeout(F,_);G.stop=function(){e.clearTimeout(Q)}})},function(){var _=v.createElement("input"),A=v.createElement("select"),F=A.appendChild(v.createElement("option"));_.type="checkbox",p.checkOn=_.value!=="",p.optSelected=F.selected,_=v.createElement("input"),_.value="t",_.type="radio",p.radioValue=_.value==="t"}();var Fv,Ua=b.expr.attrHandle;b.fn.extend({attr:function(_,A){return Y(this,b.attr,_,A,arguments.length>1)},removeAttr:function(_){return this.each(function(){b.removeAttr(this,_)})}}),b.extend({attr:function(_,A,F){var G,Q,J=_.nodeType;if(!(J===3||J===8||J===2)){if(typeof _.getAttribute>"u")return b.prop(_,A,F);if((J!==1||!b.isXMLDoc(_))&&(Q=b.attrHooks[A.toLowerCase()]||(b.expr.match.bool.test(A)?Fv:void 0)),F!==void 0){if(F===null){b.removeAttr(_,A);return}return Q&&"set"in Q&&(G=Q.set(_,F,A))!==void 0?G:(_.setAttribute(A,F+""),F)}return Q&&"get"in Q&&(G=Q.get(_,A))!==null?G:(G=b.find.attr(_,A),G??void 0)}},attrHooks:{type:{set:function(_,A){if(!p.radioValue&&A==="radio"&&S(_,"input")){var F=_.value;return _.setAttribute("type",A),F&&(_.value=F),A}}}},removeAttr:function(_,A){var F,G=0,Q=A&&A.match(ue);if(Q&&_.nodeType===1)for(;F=Q[G++];)_.removeAttribute(F)}}),Fv={set:function(_,A,F){return A===!1?b.removeAttr(_,F):_.setAttribute(F,F),F}},b.each(b.expr.match.bool.source.match(/\w+/g),function(_,A){var F=Ua[A]||b.find.attr;Ua[A]=function(G,Q,J){var ne,pe,he=Q.toLowerCase();return J||(pe=Ua[he],Ua[he]=ne,ne=F(G,Q,J)!=null?he:null,Ua[he]=pe),ne}});var c_=/^(?:input|select|textarea|button)$/i,h_=/^(?:a|area)$/i;b.fn.extend({prop:function(_,A){return Y(this,b.prop,_,A,arguments.length>1)},removeProp:function(_){return this.each(function(){delete this[b.propFix[_]||_]})}}),b.extend({prop:function(_,A,F){var G,Q,J=_.nodeType;if(!(J===3||J===8||J===2))return(J!==1||!b.isXMLDoc(_))&&(A=b.propFix[A]||A,Q=b.propHooks[A]),F!==void 0?Q&&"set"in Q&&(G=Q.set(_,F,A))!==void 0?G:_[A]=F:Q&&"get"in Q&&(G=Q.get(_,A))!==null?G:_[A]},propHooks:{tabIndex:{get:function(_){var A=b.find.attr(_,"tabindex");return A?parseInt(A,10):c_.test(_.nodeName)||h_.test(_.nodeName)&&_.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(b.propHooks.selected={get:function(_){var A=_.parentNode;return A&&A.parentNode&&A.parentNode.selectedIndex,null},set:function(_){var A=_.parentNode;A&&(A.selectedIndex,A.parentNode&&A.parentNode.selectedIndex)}}),b.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){b.propFix[this.toLowerCase()]=this});function Oi(_){var A=_.match(ue)||[];return A.join(" ")}function Ni(_){return _.getAttribute&&_.getAttribute("class")||""}function Eu(_){return Array.isArray(_)?_:typeof _=="string"?_.match(ue)||[]:[]}b.fn.extend({addClass:function(_){var A,F,G,Q,J,ne;return g(_)?this.each(function(pe){b(this).addClass(_.call(this,pe,Ni(this)))}):(A=Eu(_),A.length?this.each(function(){if(G=Ni(this),F=this.nodeType===1&&" "+Oi(G)+" ",F){for(J=0;J<A.length;J++)Q=A[J],F.indexOf(" "+Q+" ")<0&&(F+=Q+" ");ne=Oi(F),G!==ne&&this.setAttribute("class",ne)}}):this)},removeClass:function(_){var A,F,G,Q,J,ne;return g(_)?this.each(function(pe){b(this).removeClass(_.call(this,pe,Ni(this)))}):arguments.length?(A=Eu(_),A.length?this.each(function(){if(G=Ni(this),F=this.nodeType===1&&" "+Oi(G)+" ",F){for(J=0;J<A.length;J++)for(Q=A[J];F.indexOf(" "+Q+" ")>-1;)F=F.replace(" "+Q+" "," ");ne=Oi(F),G!==ne&&this.setAttribute("class",ne)}}):this):this.attr("class","")},toggleClass:function(_,A){var F,G,Q,J,ne=typeof _,pe=ne==="string"||Array.isArray(_);return g(_)?this.each(function(he){b(this).toggleClass(_.call(this,he,Ni(this),A),A)}):typeof A=="boolean"&&pe?A?this.addClass(_):this.removeClass(_):(F=Eu(_),this.each(function(){if(pe)for(J=b(this),Q=0;Q<F.length;Q++)G=F[Q],J.hasClass(G)?J.removeClass(G):J.addClass(G);else(_===void 0||ne==="boolean")&&(G=Ni(this),G&&oe.set(this,"__className__",G),this.setAttribute&&this.setAttribute("class",G||_===!1?"":oe.get(this,"__className__")||""))}))},hasClass:function(_){var A,F,G=0;for(A=" "+_+" ";F=this[G++];)if(F.nodeType===1&&(" "+Oi(Ni(F))+" ").indexOf(A)>-1)return!0;return!1}});var d_=/\r/g;b.fn.extend({val:function(_){var A,F,G,Q=this[0];return arguments.length?(G=g(_),this.each(function(J){var ne;this.nodeType===1&&(G?ne=_.call(this,J,b(this).val()):ne=_,ne==null?ne="":typeof ne=="number"?ne+="":Array.isArray(ne)&&(ne=b.map(ne,function(pe){return pe==null?"":pe+""})),A=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()],(!A||!("set"in A)||A.set(this,ne,"value")===void 0)&&(this.value=ne))})):Q?(A=b.valHooks[Q.type]||b.valHooks[Q.nodeName.toLowerCase()],A&&"get"in A&&(F=A.get(Q,"value"))!==void 0?F:(F=Q.value,typeof F=="string"?F.replace(d_,""):F??"")):void 0}}),b.extend({valHooks:{option:{get:function(_){var A=b.find.attr(_,"value");return A??Oi(b.text(_))}},select:{get:function(_){var A,F,G,Q=_.options,J=_.selectedIndex,ne=_.type==="select-one",pe=ne?null:[],he=ne?J+1:Q.length;for(J<0?G=he:G=ne?J:0;G<he;G++)if(F=Q[G],(F.selected||G===J)&&!F.disabled&&(!F.parentNode.disabled||!S(F.parentNode,"optgroup"))){if(A=b(F).val(),ne)return A;pe.push(A)}return pe},set:function(_,A){for(var F,G,Q=_.options,J=b.makeArray(A),ne=Q.length;ne--;)G=Q[ne],(G.selected=b.inArray(b.valHooks.option.get(G),J)>-1)&&(F=!0);return F||(_.selectedIndex=-1),J}}}}),b.each(["radio","checkbox"],function(){b.valHooks[this]={set:function(_,A){if(Array.isArray(A))return _.checked=b.inArray(b(_).val(),A)>-1}},p.checkOn||(b.valHooks[this].get=function(_){return _.getAttribute("value")===null?"on":_.value})});var Va=e.location,zv={guid:Date.now()},xu=/\?/;b.parseXML=function(_){var A,F;if(!_||typeof _!="string")return null;try{A=new e.DOMParser().parseFromString(_,"text/xml")}catch{}return F=A&&A.getElementsByTagName("parsererror")[0],(!A||F)&&b.error("Invalid XML: "+(F?b.map(F.childNodes,function(G){return G.textContent}).join(`
`):_)),A};var Bv=/^(?:focusinfocus|focusoutblur)$/,qv=function(_){_.stopPropagation()};b.extend(b.event,{trigger:function(_,A,F,G){var Q,J,ne,pe,he,xe,Le,Pe,De=[F||v],$e=c.call(_,"type")?_.type:_,Et=c.call(_,"namespace")?_.namespace.split("."):[];if(J=Pe=ne=F=F||v,!(F.nodeType===3||F.nodeType===8)&&!Bv.test($e+b.event.triggered)&&($e.indexOf(".")>-1&&(Et=$e.split("."),$e=Et.shift(),Et.sort()),he=$e.indexOf(":")<0&&"on"+$e,_=_[b.expando]?_:new b.Event($e,typeof _=="object"&&_),_.isTrigger=G?2:3,_.namespace=Et.join("."),_.rnamespace=_.namespace?new RegExp("(^|\\.)"+Et.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,_.result=void 0,_.target||(_.target=F),A=A==null?[_]:b.makeArray(A,[_]),Le=b.event.special[$e]||{},!(!G&&Le.trigger&&Le.trigger.apply(F,A)===!1))){if(!G&&!Le.noBubble&&!w(F)){for(pe=Le.delegateType||$e,Bv.test(pe+$e)||(J=J.parentNode);J;J=J.parentNode)De.push(J),ne=J;ne===(F.ownerDocument||v)&&De.push(ne.defaultView||ne.parentWindow||e)}for(Q=0;(J=De[Q++])&&!_.isPropagationStopped();)Pe=J,_.type=Q>1?pe:Le.bindType||$e,xe=(oe.get(J,"events")||Object.create(null))[_.type]&&oe.get(J,"handle"),xe&&xe.apply(J,A),xe=he&&J[he],xe&&xe.apply&&le(J)&&(_.result=xe.apply(J,A),_.result===!1&&_.preventDefault());return _.type=$e,!G&&!_.isDefaultPrevented()&&(!Le._default||Le._default.apply(De.pop(),A)===!1)&&le(F)&&he&&g(F[$e])&&!w(F)&&(ne=F[he],ne&&(F[he]=null),b.event.triggered=$e,_.isPropagationStopped()&&Pe.addEventListener($e,qv),F[$e](),_.isPropagationStopped()&&Pe.removeEventListener($e,qv),b.event.triggered=void 0,ne&&(F[he]=ne)),_.result}},simulate:function(_,A,F){var G=b.extend(new b.Event,F,{type:_,isSimulated:!0});b.event.trigger(G,null,A)}}),b.fn.extend({trigger:function(_,A){return this.each(function(){b.event.trigger(_,A,this)})},triggerHandler:function(_,A){var F=this[0];if(F)return b.event.trigger(_,A,F,!0)}});var v_=/\[\]$/,$v=/\r?\n/g,p_=/^(?:submit|button|image|reset|file)$/i,g_=/^(?:input|select|textarea|keygen)/i;function _u(_,A,F,G){var Q;if(Array.isArray(A))b.each(A,function(J,ne){F||v_.test(_)?G(_,ne):_u(_+"["+(typeof ne=="object"&&ne!=null?J:"")+"]",ne,F,G)});else if(!F&&E(A)==="object")for(Q in A)_u(_+"["+Q+"]",A[Q],F,G);else G(_,A)}b.param=function(_,A){var F,G=[],Q=function(J,ne){var pe=g(ne)?ne():ne;G[G.length]=encodeURIComponent(J)+"="+encodeURIComponent(pe??"")};if(_==null)return"";if(Array.isArray(_)||_.jquery&&!b.isPlainObject(_))b.each(_,function(){Q(this.name,this.value)});else for(F in _)_u(F,_[F],A,Q);return G.join("&")},b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var _=b.prop(this,"elements");return _?b.makeArray(_):this}).filter(function(){var _=this.type;return this.name&&!b(this).is(":disabled")&&g_.test(this.nodeName)&&!p_.test(_)&&(this.checked||!Qe.test(_))}).map(function(_,A){var F=b(this).val();return F==null?null:Array.isArray(F)?b.map(F,function(G){return{name:A.name,value:G.replace($v,`\r
`)}}):{name:A.name,value:F.replace($v,`\r
`)}}).get()}});var m_=/%20/g,y_=/#.*$/,b_=/([?&])_=[^&]*/,w_=/^(.*?):[ \t]*([^\r\n]*)$/mg,E_=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,x_=/^(?:GET|HEAD)$/,__=/^\/\//,Gv={},Cu={},Hv="*/".concat("*"),Tu=v.createElement("a");Tu.href=Va.href;function Uv(_){return function(A,F){typeof A!="string"&&(F=A,A="*");var G,Q=0,J=A.toLowerCase().match(ue)||[];if(g(F))for(;G=J[Q++];)G[0]==="+"?(G=G.slice(1)||"*",(_[G]=_[G]||[]).unshift(F)):(_[G]=_[G]||[]).push(F)}}function Vv(_,A,F,G){var Q={},J=_===Cu;function ne(pe){var he;return Q[pe]=!0,b.each(_[pe]||[],function(xe,Le){var Pe=Le(A,F,G);if(typeof Pe=="string"&&!J&&!Q[Pe])return A.dataTypes.unshift(Pe),ne(Pe),!1;if(J)return!(he=Pe)}),he}return ne(A.dataTypes[0])||!Q["*"]&&ne("*")}function Su(_,A){var F,G,Q=b.ajaxSettings.flatOptions||{};for(F in A)A[F]!==void 0&&((Q[F]?_:G||(G={}))[F]=A[F]);return G&&b.extend(!0,_,G),_}function C_(_,A,F){for(var G,Q,J,ne,pe=_.contents,he=_.dataTypes;he[0]==="*";)he.shift(),G===void 0&&(G=_.mimeType||A.getResponseHeader("Content-Type"));if(G){for(Q in pe)if(pe[Q]&&pe[Q].test(G)){he.unshift(Q);break}}if(he[0]in F)J=he[0];else{for(Q in F){if(!he[0]||_.converters[Q+" "+he[0]]){J=Q;break}ne||(ne=Q)}J=J||ne}if(J)return J!==he[0]&&he.unshift(J),F[J]}function T_(_,A,F,G){var Q,J,ne,pe,he,xe={},Le=_.dataTypes.slice();if(Le[1])for(ne in _.converters)xe[ne.toLowerCase()]=_.converters[ne];for(J=Le.shift();J;)if(_.responseFields[J]&&(F[_.responseFields[J]]=A),!he&&G&&_.dataFilter&&(A=_.dataFilter(A,_.dataType)),he=J,J=Le.shift(),J){if(J==="*")J=he;else if(he!=="*"&&he!==J){if(ne=xe[he+" "+J]||xe["* "+J],!ne){for(Q in xe)if(pe=Q.split(" "),pe[1]===J&&(ne=xe[he+" "+pe[0]]||xe["* "+pe[0]],ne)){ne===!0?ne=xe[Q]:xe[Q]!==!0&&(J=pe[0],Le.unshift(pe[1]));break}}if(ne!==!0)if(ne&&_.throws)A=ne(A);else try{A=ne(A)}catch(Pe){return{state:"parsererror",error:ne?Pe:"No conversion from "+he+" to "+J}}}}return{state:"success",data:A}}b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Va.href,type:"GET",isLocal:E_.test(Va.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Hv,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(_,A){return A?Su(Su(_,b.ajaxSettings),A):Su(b.ajaxSettings,_)},ajaxPrefilter:Uv(Gv),ajaxTransport:Uv(Cu),ajax:function(_,A){typeof _=="object"&&(A=_,_=void 0),A=A||{};var F,G,Q,J,ne,pe,he,xe,Le,Pe,De=b.ajaxSetup({},A),$e=De.context||De,Et=De.context&&($e.nodeType||$e.jquery)?b($e):b.event,Pt=b.Deferred(),Tt=b.Callbacks("once memory"),xr=De.statusCode||{},gr={},kn={},An="canceled",Nt={readyState:0,getResponseHeader:function(Rt){var lr;if(he){if(!J)for(J={};lr=w_.exec(Q);)J[lr[1].toLowerCase()+" "]=(J[lr[1].toLowerCase()+" "]||[]).concat(lr[2]);lr=J[Rt.toLowerCase()+" "]}return lr==null?null:lr.join(", ")},getAllResponseHeaders:function(){return he?Q:null},setRequestHeader:function(Rt,lr){return he==null&&(Rt=kn[Rt.toLowerCase()]=kn[Rt.toLowerCase()]||Rt,gr[Rt]=lr),this},overrideMimeType:function(Rt){return he==null&&(De.mimeType=Rt),this},statusCode:function(Rt){var lr;if(Rt)if(he)Nt.always(Rt[Nt.status]);else for(lr in Rt)xr[lr]=[xr[lr],Rt[lr]];return this},abort:function(Rt){var lr=Rt||An;return F&&F.abort(lr),Ii(0,lr),this}};if(Pt.promise(Nt),De.url=((_||De.url||Va.href)+"").replace(__,Va.protocol+"//"),De.type=A.method||A.type||De.method||De.type,De.dataTypes=(De.dataType||"*").toLowerCase().match(ue)||[""],De.crossDomain==null){pe=v.createElement("a");try{pe.href=De.url,pe.href=pe.href,De.crossDomain=Tu.protocol+"//"+Tu.host!=pe.protocol+"//"+pe.host}catch{De.crossDomain=!0}}if(De.data&&De.processData&&typeof De.data!="string"&&(De.data=b.param(De.data,De.traditional)),Vv(Gv,De,A,Nt),he)return Nt;xe=b.event&&De.global,xe&&b.active++===0&&b.event.trigger("ajaxStart"),De.type=De.type.toUpperCase(),De.hasContent=!x_.test(De.type),G=De.url.replace(y_,""),De.hasContent?De.data&&De.processData&&(De.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(De.data=De.data.replace(m_,"+")):(Pe=De.url.slice(G.length),De.data&&(De.processData||typeof De.data=="string")&&(G+=(xu.test(G)?"&":"?")+De.data,delete De.data),De.cache===!1&&(G=G.replace(b_,"$1"),Pe=(xu.test(G)?"&":"?")+"_="+zv.guid+++Pe),De.url=G+Pe),De.ifModified&&(b.lastModified[G]&&Nt.setRequestHeader("If-Modified-Since",b.lastModified[G]),b.etag[G]&&Nt.setRequestHeader("If-None-Match",b.etag[G])),(De.data&&De.hasContent&&De.contentType!==!1||A.contentType)&&Nt.setRequestHeader("Content-Type",De.contentType),Nt.setRequestHeader("Accept",De.dataTypes[0]&&De.accepts[De.dataTypes[0]]?De.accepts[De.dataTypes[0]]+(De.dataTypes[0]!=="*"?", "+Hv+"; q=0.01":""):De.accepts["*"]);for(Le in De.headers)Nt.setRequestHeader(Le,De.headers[Le]);if(De.beforeSend&&(De.beforeSend.call($e,Nt,De)===!1||he))return Nt.abort();if(An="abort",Tt.add(De.complete),Nt.done(De.success),Nt.fail(De.error),F=Vv(Cu,De,A,Nt),!F)Ii(-1,"No Transport");else{if(Nt.readyState=1,xe&&Et.trigger("ajaxSend",[Nt,De]),he)return Nt;De.async&&De.timeout>0&&(ne=e.setTimeout(function(){Nt.abort("timeout")},De.timeout));try{he=!1,F.send(gr,Ii)}catch(Rt){if(he)throw Rt;Ii(-1,Rt)}}function Ii(Rt,lr,Ya,ku){var Ln,Xa,Mn,ci,hi,un=lr;he||(he=!0,ne&&e.clearTimeout(ne),F=void 0,Q=ku||"",Nt.readyState=Rt>0?4:0,Ln=Rt>=200&&Rt<300||Rt===304,Ya&&(ci=C_(De,Nt,Ya)),!Ln&&b.inArray("script",De.dataTypes)>-1&&b.inArray("json",De.dataTypes)<0&&(De.converters["text script"]=function(){}),ci=T_(De,ci,Nt,Ln),Ln?(De.ifModified&&(hi=Nt.getResponseHeader("Last-Modified"),hi&&(b.lastModified[G]=hi),hi=Nt.getResponseHeader("etag"),hi&&(b.etag[G]=hi)),Rt===204||De.type==="HEAD"?un="nocontent":Rt===304?un="notmodified":(un=ci.state,Xa=ci.data,Mn=ci.error,Ln=!Mn)):(Mn=un,(Rt||!un)&&(un="error",Rt<0&&(Rt=0))),Nt.status=Rt,Nt.statusText=(lr||un)+"",Ln?Pt.resolveWith($e,[Xa,un,Nt]):Pt.rejectWith($e,[Nt,un,Mn]),Nt.statusCode(xr),xr=void 0,xe&&Et.trigger(Ln?"ajaxSuccess":"ajaxError",[Nt,De,Ln?Xa:Mn]),Tt.fireWith($e,[Nt,un]),xe&&(Et.trigger("ajaxComplete",[Nt,De]),--b.active||b.event.trigger("ajaxStop")))}return Nt},getJSON:function(_,A,F){return b.get(_,A,F,"json")},getScript:function(_,A){return b.get(_,void 0,A,"script")}}),b.each(["get","post"],function(_,A){b[A]=function(F,G,Q,J){return g(G)&&(J=J||Q,Q=G,G=void 0),b.ajax(b.extend({url:F,type:A,dataType:J,data:G,success:Q},b.isPlainObject(F)&&F))}}),b.ajaxPrefilter(function(_){var A;for(A in _.headers)A.toLowerCase()==="content-type"&&(_.contentType=_.headers[A]||"")}),b._evalUrl=function(_,A,F){return b.ajax({url:_,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(G){b.globalEval(G,A,F)}})},b.fn.extend({wrapAll:function(_){var A;return this[0]&&(g(_)&&(_=_.call(this[0])),A=b(_,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&A.insertBefore(this[0]),A.map(function(){for(var F=this;F.firstElementChild;)F=F.firstElementChild;return F}).append(this)),this},wrapInner:function(_){return g(_)?this.each(function(A){b(this).wrapInner(_.call(this,A))}):this.each(function(){var A=b(this),F=A.contents();F.length?F.wrapAll(_):A.append(_)})},wrap:function(_){var A=g(_);return this.each(function(F){b(this).wrapAll(A?_.call(this,F):_)})},unwrap:function(_){return this.parent(_).not("body").each(function(){b(this).replaceWith(this.childNodes)}),this}}),b.expr.pseudos.hidden=function(_){return!b.expr.pseudos.visible(_)},b.expr.pseudos.visible=function(_){return!!(_.offsetWidth||_.offsetHeight||_.getClientRects().length)},b.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var S_={0:200,1223:204},Wa=b.ajaxSettings.xhr();p.cors=!!Wa&&"withCredentials"in Wa,p.ajax=Wa=!!Wa,b.ajaxTransport(function(_){var A,F;if(p.cors||Wa&&!_.crossDomain)return{send:function(G,Q){var J,ne=_.xhr();if(ne.open(_.type,_.url,_.async,_.username,_.password),_.xhrFields)for(J in _.xhrFields)ne[J]=_.xhrFields[J];_.mimeType&&ne.overrideMimeType&&ne.overrideMimeType(_.mimeType),!_.crossDomain&&!G["X-Requested-With"]&&(G["X-Requested-With"]="XMLHttpRequest");for(J in G)ne.setRequestHeader(J,G[J]);A=function(pe){return function(){A&&(A=F=ne.onload=ne.onerror=ne.onabort=ne.ontimeout=ne.onreadystatechange=null,pe==="abort"?ne.abort():pe==="error"?typeof ne.status!="number"?Q(0,"error"):Q(ne.status,ne.statusText):Q(S_[ne.status]||ne.status,ne.statusText,(ne.responseType||"text")!=="text"||typeof ne.responseText!="string"?{binary:ne.response}:{text:ne.responseText},ne.getAllResponseHeaders()))}},ne.onload=A(),F=ne.onerror=ne.ontimeout=A("error"),ne.onabort!==void 0?ne.onabort=F:ne.onreadystatechange=function(){ne.readyState===4&&e.setTimeout(function(){A&&F()})},A=A("abort");try{ne.send(_.hasContent&&_.data||null)}catch(pe){if(A)throw pe}},abort:function(){A&&A()}}}),b.ajaxPrefilter(function(_){_.crossDomain&&(_.contents.script=!1)}),b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(_){return b.globalEval(_),_}}}),b.ajaxPrefilter("script",function(_){_.cache===void 0&&(_.cache=!1),_.crossDomain&&(_.type="GET")}),b.ajaxTransport("script",function(_){if(_.crossDomain||_.scriptAttrs){var A,F;return{send:function(G,Q){A=b("<script>").attr(_.scriptAttrs||{}).prop({charset:_.scriptCharset,src:_.url}).on("load error",F=function(J){A.remove(),F=null,J&&Q(J.type==="error"?404:200,J.type)}),v.head.appendChild(A[0])},abort:function(){F&&F()}}}});var Wv=[],Du=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var _=Wv.pop()||b.expando+"_"+zv.guid++;return this[_]=!0,_}}),b.ajaxPrefilter("json jsonp",function(_,A,F){var G,Q,J,ne=_.jsonp!==!1&&(Du.test(_.url)?"url":typeof _.data=="string"&&(_.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Du.test(_.data)&&"data");if(ne||_.dataTypes[0]==="jsonp")return G=_.jsonpCallback=g(_.jsonpCallback)?_.jsonpCallback():_.jsonpCallback,ne?_[ne]=_[ne].replace(Du,"$1"+G):_.jsonp!==!1&&(_.url+=(xu.test(_.url)?"&":"?")+_.jsonp+"="+G),_.converters["script json"]=function(){return J||b.error(G+" was not called"),J[0]},_.dataTypes[0]="json",Q=e[G],e[G]=function(){J=arguments},F.always(function(){Q===void 0?b(e).removeProp(G):e[G]=Q,_[G]&&(_.jsonpCallback=A.jsonpCallback,Wv.push(G)),J&&g(Q)&&Q(J[0]),J=Q=void 0}),"script"}),p.createHTMLDocument=function(){var _=v.implementation.createHTMLDocument("").body;return _.innerHTML="<form></form><form></form>",_.childNodes.length===2}(),b.parseHTML=function(_,A,F){if(typeof _!="string")return[];typeof A=="boolean"&&(F=A,A=!1);var G,Q,J;return A||(p.createHTMLDocument?(A=v.implementation.createHTMLDocument(""),G=A.createElement("base"),G.href=v.location.href,A.head.appendChild(G)):A=v),Q=$.exec(_),J=!F&&[],Q?[A.createElement(Q[1])]:(Q=ut([_],A,J),J&&J.length&&b(J).remove(),b.merge([],Q.childNodes))},b.fn.load=function(_,A,F){var G,Q,J,ne=this,pe=_.indexOf(" ");return pe>-1&&(G=Oi(_.slice(pe)),_=_.slice(0,pe)),g(A)?(F=A,A=void 0):A&&typeof A=="object"&&(Q="POST"),ne.length>0&&b.ajax({url:_,type:Q||"GET",dataType:"html",data:A}).done(function(he){J=arguments,ne.html(G?b("<div>").append(b.parseHTML(he)).find(G):he)}).always(F&&function(he,xe){ne.each(function(){F.apply(this,J||[he.responseText,xe,he])})}),this},b.expr.pseudos.animated=function(_){return b.grep(b.timers,function(A){return _===A.elem}).length},b.offset={setOffset:function(_,A,F){var G,Q,J,ne,pe,he,xe,Le=b.css(_,"position"),Pe=b(_),De={};Le==="static"&&(_.style.position="relative"),pe=Pe.offset(),J=b.css(_,"top"),he=b.css(_,"left"),xe=(Le==="absolute"||Le==="fixed")&&(J+he).indexOf("auto")>-1,xe?(G=Pe.position(),ne=G.top,Q=G.left):(ne=parseFloat(J)||0,Q=parseFloat(he)||0),g(A)&&(A=A.call(_,F,b.extend({},pe))),A.top!=null&&(De.top=A.top-pe.top+ne),A.left!=null&&(De.left=A.left-pe.left+Q),"using"in A?A.using.call(_,De):Pe.css(De)}},b.fn.extend({offset:function(_){if(arguments.length)return _===void 0?this:this.each(function(Q){b.offset.setOffset(this,_,Q)});var A,F,G=this[0];if(G)return G.getClientRects().length?(A=G.getBoundingClientRect(),F=G.ownerDocument.defaultView,{top:A.top+F.pageYOffset,left:A.left+F.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var _,A,F,G=this[0],Q={top:0,left:0};if(b.css(G,"position")==="fixed")A=G.getBoundingClientRect();else{for(A=this.offset(),F=G.ownerDocument,_=G.offsetParent||F.documentElement;_&&(_===F.body||_===F.documentElement)&&b.css(_,"position")==="static";)_=_.parentNode;_&&_!==G&&_.nodeType===1&&(Q=b(_).offset(),Q.top+=b.css(_,"borderTopWidth",!0),Q.left+=b.css(_,"borderLeftWidth",!0))}return{top:A.top-Q.top-b.css(G,"marginTop",!0),left:A.left-Q.left-b.css(G,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var _=this.offsetParent;_&&b.css(_,"position")==="static";)_=_.offsetParent;return _||Se})}}),b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(_,A){var F=A==="pageYOffset";b.fn[_]=function(G){return Y(this,function(Q,J,ne){var pe;if(w(Q)?pe=Q:Q.nodeType===9&&(pe=Q.defaultView),ne===void 0)return pe?pe[A]:Q[J];pe?pe.scrollTo(F?pe.pageXOffset:ne,F?ne:pe.pageYOffset):Q[J]=ne},_,G,arguments.length)}}),b.each(["top","left"],function(_,A){b.cssHooks[A]=wr(p.pixelPosition,function(F,G){if(G)return G=Dn(F,A),Vr.test(G)?b(F).position()[A]+"px":G})}),b.each({Height:"height",Width:"width"},function(_,A){b.each({padding:"inner"+_,content:A,"":"outer"+_},function(F,G){b.fn[G]=function(Q,J){var ne=arguments.length&&(F||typeof Q!="boolean"),pe=F||(Q===!0||J===!0?"margin":"border");return Y(this,function(he,xe,Le){var Pe;return w(he)?G.indexOf("outer")===0?he["inner"+_]:he.document.documentElement["client"+_]:he.nodeType===9?(Pe=he.documentElement,Math.max(he.body["scroll"+_],Pe["scroll"+_],he.body["offset"+_],Pe["offset"+_],Pe["client"+_])):Le===void 0?b.css(he,xe,pe):b.style(he,xe,Le,pe)},A,ne?Q:void 0,ne)}})}),b.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(_,A){b.fn[A]=function(F){return this.on(A,F)}}),b.fn.extend({bind:function(_,A,F){return this.on(_,null,A,F)},unbind:function(_,A){return this.off(_,null,A)},delegate:function(_,A,F,G){return this.on(A,_,F,G)},undelegate:function(_,A,F){return arguments.length===1?this.off(_,"**"):this.off(A,_||"**",F)},hover:function(_,A){return this.mouseenter(_).mouseleave(A||_)}}),b.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(_,A){b.fn[A]=function(F,G){return arguments.length>0?this.on(A,null,F,G):this.trigger(A)}});var D_=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;b.proxy=function(_,A){var F,G,Q;if(typeof A=="string"&&(F=_[A],A=_,_=F),!!g(_))return G=o.call(arguments,2),Q=function(){return _.apply(A||this,G.concat(o.call(arguments)))},Q.guid=_.guid=_.guid||b.guid++,Q},b.holdReady=function(_){_?b.readyWait++:b.ready(!0)},b.isArray=Array.isArray,b.parseJSON=JSON.parse,b.nodeName=S,b.isFunction=g,b.isWindow=w,b.camelCase=fe,b.type=E,b.now=Date.now,b.isNumeric=function(_){var A=b.type(_);return(A==="number"||A==="string")&&!isNaN(_-parseFloat(_))},b.trim=function(_){return _==null?"":(_+"").replace(D_,"$1")};var k_=e.jQuery,A_=e.$;return b.noConflict=function(_){return e.$===b&&(e.$=A_),_&&e.jQuery===b&&(e.jQuery=k_),b},typeof r>"u"&&(e.jQuery=e.$=b),b})}(Cd)),Cd.exports}/*!
Copyright (c) The Cytoscape Consortium

Permission is hereby granted, free of charge, to any person obtaining a copy of
this software and associated documentation files (the Software), to deal in
the Software without restriction, including without limitation the rights to
use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies
of the Software, and to permit persons to whom the Software is furnished to do
so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED AS IS, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
*/(function(t){(function(){var e=function(i,o){!i||!o||(o.fn.cyPanzoom=o.fn.cytoscapePanzoom=function(a){return n.apply(this,[a,i,o]),this},i("core","panzoom",function(a){return n.apply(this,[a,i,o]),this}))},r={zoomFactor:.05,zoomDelay:45,minZoom:.1,maxZoom:10,fitPadding:50,panSpeed:10,panDistance:10,panDragAreaSize:75,panMinPercentSpeed:.25,panInactiveArea:8,panIndicatorMinOpacity:.5,zoomOnly:!1,fitSelector:void 0,animateOnFit:function(){return!1},fitAnimationDuration:1e3,sliderHandleIcon:"fa fa-minus",zoomInIcon:"fa fa-plus",zoomOutIcon:"fa fa-minus",resetIcon:"fa fa-expand"},n=function(i,o,a){var s=this,u=a.extend(!0,{},r,i),l=i,f={destroy:function(){var c=a(s.container()),h=c.find(".cy-panzoom");h.data("winbdgs").forEach(function(d){a(window).unbind(d.evt,d.fn)}),h.data("cybdgs").forEach(function(d){s.off(d.evt,d.fn)}),h.remove()},init:function(){return a(s.container()).each(function(){var c=a(this);c.cytoscape=o;var h=[],d=a(window),p=function(ae,Z){h.push({evt:ae,fn:Z}),d.bind(ae,Z)},g=function(ae,Z){for(var W=0;W<h.length;W++){var Y=h[W];if(Y.evt===ae&&Y.fn===Z){h.splice(W,1);break}}d.unbind(ae,Z)},w=[],v=function(ae,Z){w.push({evt:ae,fn:Z}),s.on(ae,Z)},m=a('<div class="cy-panzoom"></div>');c.prepend(m),m.css("position","absolute"),m.data("winbdgs",h),m.data("cybdgs",w),u.zoomOnly&&m.addClass("cy-panzoom-zoom-only");var y=a('<div class="cy-panzoom-zoom-in cy-panzoom-zoom-button"><span class="icon '+u.zoomInIcon+'"></span></div>');m.append(y);var E=a('<div class="cy-panzoom-zoom-out cy-panzoom-zoom-button"><span class="icon '+u.zoomOutIcon+'"></span></div>');m.append(E);var T=a('<div class="cy-panzoom-reset cy-panzoom-zoom-button"><span class="icon '+u.resetIcon+'"></span></div>');m.append(T);var C=a('<div class="cy-panzoom-slider"></div>');m.append(C),C.append('<div class="cy-panzoom-slider-background"></div>');var b=a('<div class="cy-panzoom-slider-handle"><span class="icon '+u.sliderHandleIcon+'"></span></div>');C.append(b);var k=a('<div class="cy-panzoom-no-zoom-tick"></div>');C.append(k);var S=a('<div class="cy-panzoom-panner"></div>');m.append(S);var O=a('<div class="cy-panzoom-panner-handle"></div>');S.append(O);var N=a('<div class="cy-panzoom-pan-up cy-panzoom-pan-button"></div>'),D=a('<div class="cy-panzoom-pan-down cy-panzoom-pan-button"></div>'),I=a('<div class="cy-panzoom-pan-left cy-panzoom-pan-button"></div>'),x=a('<div class="cy-panzoom-pan-right cy-panzoom-pan-button"></div>');S.append(N).append(D).append(I).append(x);var P=a('<div class="cy-panzoom-pan-indicator"></div>');S.append(P);function L(ae){var Z={x:ae.originalEvent.pageX-S.offset().left-S.width()/2,y:ae.originalEvent.pageY-S.offset().top-S.height()/2},W=u.panDragAreaSize,Y=Math.sqrt(Z.x*Z.x+Z.y*Z.y),ie=Math.min(Y/W,1);if(Y<u.panInactiveArea)return{x:NaN,y:NaN};Z={x:Z.x/Y,y:Z.y/Y},ie=Math.max(u.panMinPercentSpeed,ie);var ve={x:-1*Z.x*(ie*u.panDistance),y:-1*Z.y*(ie*u.panDistance)};return ve}function M(){clearInterval(j),g("mousemove",K),P.hide()}function R(ae){var Z=ae,W=Math.sqrt(Z.x*Z.x+Z.y*Z.y),Y={x:-1*Z.x/W,y:-1*Z.y/W},ie=S.width(),ve=S.height(),me=W/u.panDistance,fe=Math.max(u.panIndicatorMinOpacity,me),le=255-Math.round(fe*255);P.show().css({left:ie/2*Y.x+ie/2,top:ve/2*Y.y+ve/2,background:"rgb("+le+", "+le+", "+le+")"})}function V(){s.pan(),s.zoom(),X=c.width()/2,B=c.height()/2}var U=!1;function q(){U=!0,V()}function $(){U=!1}var X,B;function H(ae){U||V(),s.zoom({level:ae,renderedPosition:{x:X,y:B}})}var j,K=function(ae){ae.stopPropagation(),ae.preventDefault(),clearInterval(j);var Z=L(ae);if(isNaN(Z.x)||isNaN(Z.y)){P.hide();return}R(Z),j=setInterval(function(){s.panBy(Z)},u.panSpeed)};O.bind("mousedown",function(ae){K(ae),p("mousemove",K)}),O.bind("mouseup",function(){M()}),p("mouseup blur",function(){M()}),C.bind("mousedown",function(){return!1});var te=!1,re=2;function ue(ae,Z){Z===void 0&&(Z=0);var W=re,Y=0+W,ie=C.height()-b.height()-2*W,ve=ae.pageY-C.offset().top-Z;ve<Y&&(ve=Y),ve>ie&&(ve=ie);var me=1-(ve-Y)/(ie-Y);b.css("top",ve);var fe=u.minZoom,le=u.maxZoom,ee=Math.log(fe)/Math.log(le),oe=(1-ee)*me+ee,ge=Math.pow(le,oe);ge<fe?ge=fe:ge>le&&(ge=le),H(ge)}var se,de;b.bind("mousedown",se=function(ae){var Z=ae.target===b[0]?ae.offsetY:0;te=!0,q(),b.addClass("active");var W=0;return p("mousemove",de=function(Y){var ie=+new Date;if(ie>W+10)W=ie;else return!1;return ue(Y,Z),!1}),p("mouseup",function(){g("mousemove",de),te=!1,b.removeClass("active"),$()}),!1}),C.bind("mousedown",function(ae){ae.target!==b[0]&&(se(ae),ue(ae))});function be(){var ae=s.zoom(),Z=u.minZoom,W=u.maxZoom,Y=Math.log(Z)/Math.log(W),ie=Math.log(ae)/Math.log(W),ve=1-(ie-Y)/(1-Y),me=re,fe=C.height()-b.height()-2*re,le=ve*(fe-me);le<me&&(le=me),le>fe&&(le=fe),b.css("top",le)}be(),v("zoom",function(){te||be()}),function(){var ae=1,Z=u.minZoom,W=u.maxZoom,Y=Math.log(Z)/Math.log(W),ie=Math.log(ae)/Math.log(W),ve=1-(ie-Y)/(1-Y);if(ve>1||ve<0){k.hide();return}var me=re,fe=C.height()-b.height()-2*re,le=ve*(fe-me);le<me&&(le=me),le>fe&&(le=fe),k.css("top",le)}();function z(ae,Z){var W;ae.bind("mousedown",function(Y){if(Y.preventDefault(),Y.stopPropagation(),Y.button==0){var ie=function(){var ve=s.zoom(),me=s.zoom()*Z;me<u.minZoom&&(me=u.minZoom),me>u.maxZoom&&(me=u.maxZoom),!(me==u.maxZoom&&ve==u.maxZoom||me==u.minZoom&&ve==u.minZoom)&&H(me)};return q(),ie(),W=setInterval(ie,u.zoomDelay),!1}}),p("mouseup blur",function(){clearInterval(W),$()})}z(y,1+u.zoomFactor),z(E,1-u.zoomFactor),T.bind("mousedown",function(ae){if(ae.button==0){var Z=u.fitSelector?s.elements(u.fitSelector):s.elements();if(Z.size()===0)s.reset();else{var W=typeof u.animateOnFit=="function"?u.animateOnFit.call():u.animateOnFit;W?s.animate({fit:{eles:Z,padding:u.fitPadding}},{duration:u.fitAnimationDuration}):s.fit(Z,u.fitPadding)}return!1}})})}};return f[l]?f[l].apply(this,Array.prototype.slice.call(arguments,1)):typeof l=="object"||!l?f.init.apply(this,arguments):(a.error("No such function `"+l+"` for jquery.cytoscapePanzoom"),a(this))};t.exports&&(t.exports=function(i,o){e(i,o||yF())}),typeof cytoscape<"u"&&typeof jQuery<"u"&&e(cytoscape,jQuery)})()})(a_);var bF=a_.exports;const wF=qn(bF);function EF(t){wF(Rn);let e=Ut(tr);var r={zoomFactor:.05,zoomDelay:45,minZoom:e.minZoom(),maxZoom:e.maxZoom(),fitPadding:50,panSpeed:10,panDistance:10,panDragAreaSize:75,panMinPercentSpeed:.25,panInactiveArea:8,panIndicatorMinOpacity:.5,zoomOnly:!1,fitSelector:void 0,animateOnFit(){return!1},fitAnimationDuration:1e3,sliderHandleIcon:"fa fa-minus",zoomInIcon:"fa fa-plus",zoomOutIcon:"fa fa-minus",resetIcon:"fa fa-expand"};return Di(()=>{e.panzoom(r),e.on("zoom",function(n){var i=e.zoom();i<r.minZoom?e.zoom(r.minZoom):i>r.maxZoom&&e.zoom(r.maxZoom)})}),[]}class xF extends At{constructor(e){super(),kt(this,e,EF,null,St,{})}}function _F(t){let e,r;const n=t[1].default,i=Lo(n,t,t[0],null);return{c(){e=Ke("div"),i&&i.c(),Oe(e,"class","svelte-16igfw6")},m(o,a){Ue(o,e,a),i&&i.m(e,null),r=!0},p(o,[a]){i&&i.p&&(!r||a&1)&&Oo(i,n,o,o[0],r?Mo(n,o[0],a,null):No(o[0]),null)},i(o){r||(qe(i,o),r=!0)},o(o){Ve(i,o),r=!1},d(o){o&&He(e),i&&i.d(o)}}}function CF(t,e,r){let{$$slots:n={},$$scope:i}=e;return t.$$set=o=>{"$$scope"in o&&r(0,i=o.$$scope)},[i,n]}class TF extends At{constructor(e){super(),kt(this,e,CF,_F,St,{})}}function SF(t,e,r){let n;jt(t,wt,o=>r(0,n=o));let i=Ut(tr);return setInterval(()=>{!n.drawing&&i&&(i.autoungrabify(!1),i.nodes().grabify())},1e3),Di(()=>{Shiny.bindAll()}),[]}class DF extends At{constructor(e){super(),kt(this,e,SF,null,St,{})}}function P1(t,e,r){const n=t.slice();n[13]=e[r],n[15]=e,n[16]=r;const i=n[3](n[0].ids[n[16]]);return n[14]=i,n}function R1(t,e,r){const n=t.slice();return n[17]=e[r],n}function F1(t,e,r){const n=t.slice();return n[20]=e[r],n}function z1(t,e,r){const n=t.slice();return n[23]=e[r],n}function B1(t){let e,r=t[2].columnNames,n=[];for(let i=0;i<r.length;i+=1)n[i]=U1(P1(t,r,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=Bn()},m(i,o){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(i,o);Ue(i,e,o)},p(i,o){if(o&13){r=i[2].columnNames;let a;for(a=0;a<r.length;a+=1){const s=P1(i,r,a);n[a]?n[a].p(s,o):(n[a]=U1(s),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=r.length}},d(i){hn(n,i),i&&He(e)}}}function q1(t){let e,r=t[23]+"",n,i;return{c(){e=Ke("td"),n=Ir(r),i=it(),Nr(e,"width","11%"),Nr(e,"text-align","right"),Oe(e,"class","svelte-1yjp35b")},m(o,a){Ue(o,e,a),je(e,n),je(e,i)},p(o,a){a&1&&r!==(r=o[23]+"")&&Jn(n,r)},d(o){o&&He(e)}}}function $1(t){let e,r=t[14].rowsAfterId,n=[];for(let i=0;i<r.length;i+=1)n[i]=H1(R1(t,r,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=Bn()},m(i,o){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(i,o);Ue(i,e,o)},p(i,o){if(o&9){r=i[14].rowsAfterId;let a;for(a=0;a<r.length;a+=1){const s=R1(i,r,a);n[a]?n[a].p(s,o):(n[a]=H1(s),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=r.length}},d(i){hn(n,i),i&&He(e)}}}function G1(t){let e,r=t[20]+"",n;return{c(){e=Ke("td"),n=Ir(r),Nr(e,"width","11%"),Nr(e,"text-align","right"),Oe(e,"class","svelte-1yjp35b")},m(i,o){Ue(i,e,o),je(e,n)},p(i,o){o&1&&r!==(r=i[20]+"")&&Jn(n,r)},d(i){i&&He(e)}}}function H1(t){let e,r,n=t[17],i=[];for(let o=0;o<n.length;o+=1)i[o]=G1(F1(t,n,o));return{c(){e=Ke("tr");for(let o=0;o<i.length;o+=1)i[o].c();r=it()},m(o,a){Ue(o,e,a);for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(e,null);je(e,r)},p(o,a){if(a&9){n=o[17];let s;for(s=0;s<n.length;s+=1){const u=F1(o,n,s);i[s]?i[s].p(u,a):(i[s]=G1(u),i[s].c(),i[s].m(e,r))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}},d(o){o&&He(e),hn(i,o)}}}function U1(t){let e,r,n,i,o,a,s,u;function l(){t[4].call(n,t[15],t[16])}let f=t[14].tdsAfterId,c=[];for(let d=0;d<f.length;d+=1)c[d]=q1(z1(t,f,d));let h=t[14].rowsAfterId&&$1(t);return{c(){e=Ke("tr"),r=Ke("td"),n=Ke("input"),i=it();for(let d=0;d<c.length;d+=1)c[d].c();o=it(),h&&h.c(),a=Bn(),Oe(n,"class","svelte-1yjp35b"),Nr(r,"width","22%"),Nr(r,"text-align","left"),Oe(r,"class","svelte-1yjp35b")},m(d,p){Ue(d,e,p),je(e,r),je(r,n),Zv(n,t[13]),je(e,i);for(let g=0;g<c.length;g+=1)c[g]&&c[g].m(e,null);Ue(d,o,p),h&&h.m(d,p),Ue(d,a,p),s||(u=cr(n,"input",l),s=!0)},p(d,p){if(t=d,p&4&&n.value!==t[13]&&Zv(n,t[13]),p&9){f=t[14].tdsAfterId;let g;for(g=0;g<f.length;g+=1){const w=z1(t,f,g);c[g]?c[g].p(w,p):(c[g]=q1(w),c[g].c(),c[g].m(e,null))}for(;g<c.length;g+=1)c[g].d(1);c.length=f.length}t[14].rowsAfterId?h?h.p(t,p):(h=$1(t),h.c(),h.m(a.parentNode,a)):h&&(h.d(1),h=null)},d(d){d&&He(e),hn(c,d),d&&He(o),h&&h.d(d),d&&He(a),s=!1,u()}}}function kF(t){let e,r,n,i,o,a,s,u,l,f=t[1]&&B1(t);return{c(){e=Ke("div"),r=Ke("div"),n=Ke("div"),i=Ke("div"),i.innerHTML=`<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true"></span></button> 
        <h4 class="modal-title">Data Information</h4>`,o=it(),a=Ke("div"),s=Ke("table"),u=Ke("tr"),u.innerHTML=`<th style="width: 22%; text-align: left" class="svelte-1yjp35b">Variable</th> 
            <th style="width: 11%; text-align: right" class="svelte-1yjp35b">N</th> 
            <th style="width: 11%; text-align: right" class="svelte-1yjp35b">Mean</th> 
            <th style="width: 11%; text-align: right" class="svelte-1yjp35b">Std. Dev.</th> 
            <th style="width: 11%; text-align: right" class="svelte-1yjp35b">Min</th> 
            <th style="width: 11%; text-align: right" class="svelte-1yjp35b">Pctl. 25</th> 
            <th style="width: 11%; text-align: right" class="svelte-1yjp35b">Pctl. 75</th> 
            <th style="width: 11%; text-align: right" class="svelte-1yjp35b">Max</th>`,l=it(),f&&f.c(),Oe(i,"class","modal-header"),Oe(s,"class","svelte-1yjp35b"),Oe(a,"class","modal-body"),Oe(a,"id","data-content"),Oe(n,"class","modal-content"),Oe(r,"class","modal-dialog"),Oe(r,"role","document"),Oe(e,"class","modal fade"),Oe(e,"tabindex","-1"),Oe(e,"role","dialog"),Oe(e,"id","data-modal")},m(c,h){Ue(c,e,h),je(e,r),je(r,n),je(n,i),je(n,o),je(n,a),je(a,s),je(s,u),je(s,l),f&&f.m(s,null)},p(c,[h]){c[1]?f?f.p(c,h):(f=B1(c),f.c(),f.m(s,null)):f&&(f.d(1),f=null)},i:Lt,o:Lt,d(c){c&&He(e),f&&f.d()}}}function V1(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function AF(t,e,r){let n;jt(t,wt,d=>r(2,n=d));let i,o,a=!1;wt.subscribe(d=>{r(0,i=d)});let s,u,l;ka.subscribe(d=>{if(i.dataAvail&&i.columnNames!==void 0&&i.ids!==void 0)if(V1(i.columnNames,i.ids))o=d,s=new DOMParser,u=s.parseFromString(o,"text/html"),l=Array.from(u.querySelectorAll("td")),r(1,a=!0);else throw new Error("Columnnames and ids where not the same after dataInfo was updated, should never happene");else r(1,a=!1)});let f=!1;dO.subscribe(d=>{i.dataAvail&&d!==void 0&&i.ids!==void 0&&(f||!V1(d,i.ids))&&(Shiny.setInputValue("newnames",JSON.stringify(d)),gv(d,!0),f=!0)});function c(d){let p=!1,g=[],w=[],v;for(let y of l)if(p){if(g.push(y.textContent.trim()),!y.nextElementSibling){v=y;break}}else y.textContent===d&&(p=!0);if(g[g.length-1]==""){let y=v.parentElement.nextElementSibling;for(;y&&y.querySelector("td:first-child").textContent.trim().startsWith("...");)w.push(Array.from(y.querySelectorAll("td")).map(T=>T.textContent.trim())),y=y.nextElementSibling}return{tdsAfterId:g,rowsAfterId:w}}function h(d,p){d[p]=this.value,wt.set(n)}return[i,a,n,c,h]}class LF extends At{constructor(e){super(),kt(this,e,AF,kF,St,{})}}function W1(t){let e,r,n,i,o,a;return{c(){e=Ke("div"),r=Ke("button"),r.innerHTML='<span class="glyphicon glyphicon-refresh spinning svelte-16d2v0h"></span> Fitting...',n=it(),i=Ke("button"),i.textContent="Cancel",Oe(r,"class","btn btn-lg btn-secondary fixed-width disabled-button svelte-16d2v0h"),Oe(r,"id","fitting-button"),r.disabled=!0,Oe(i,"class","btn btn-lg btn-default fixed-width svelte-16d2v0h"),Oe(e,"class","center-screen svelte-16d2v0h")},m(s,u){Ue(s,e,u),je(e,r),je(e,n),je(e,i),o||(a=cr(i,"click",OF),o=!0)},p:Lt,d(s){s&&He(e),o=!1,a()}}}function MF(t){let e,r=t[0].fitting&&W1();return{c(){r&&r.c(),e=Bn()},m(n,i){r&&r.m(n,i),Ue(n,e,i)},p(n,[i]){n[0].fitting?r?r.p(n,i):(r=W1(),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},i:Lt,o:Lt,d(n){r&&r.d(n),n&&He(e)}}}function OF(){Shiny.setInputValue("abort",Math.random())}function NF(t,e,r){let n;return jt(t,wt,i=>r(0,n=i)),[n]}class IF extends At{constructor(e){super(),kt(this,e,NF,MF,St,{})}}function Y1(t){let e,r,n=t[2][t[0].type].label+"",i,o,a=t[0].message+"",s,u;return{c(){e=Ke("div"),r=Ke("strong"),i=Ir(n),o=it(),s=Ir(a),Oe(e,"class",u=mi(t[2][t[0].type].class+(t[1]?" fadeOut":""))+" svelte-1wv9zbn")},m(l,f){Ue(l,e,f),je(e,r),je(r,i),je(e,o),je(e,s)},p(l,f){f&1&&n!==(n=l[2][l[0].type].label+"")&&Jn(i,n),f&1&&a!==(a=l[0].message+"")&&Jn(s,a),f&3&&u!==(u=mi(l[2][l[0].type].class+(l[1]?" fadeOut":""))+" svelte-1wv9zbn")&&Oe(e,"class",u)},d(l){l&&He(e)}}}function PF(t){let e,r=t[0].message!==""&&Y1(t);return{c(){r&&r.c(),e=Bn()},m(n,i){r&&r.m(n,i),Ue(n,e,i)},p(n,[i]){n[0].message!==""?r?r.p(n,i):(r=Y1(n),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},i:Lt,o:Lt,d(n){r&&r.d(n),n&&He(e)}}}function RF(t,e,r){let n;jt(t,$E,s=>r(0,n=s));let i={success:{class:"alert-success",label:"Success!"},info:{class:"alert-info",label:"Info!"},warning:{class:"alert-warning",label:"Warning!"},danger:{class:"alert-danger",label:"Danger!"}},o=!1,a;return t.$$.update=()=>{t.$$.dirty&9&&n.message!==""&&(r(1,o=!1),clearTimeout(a),r(3,a=setTimeout(()=>{r(1,o=!0)},1e4)))},[n,o,i,a]}class FF extends At{constructor(e){super(),kt(this,e,RF,PF,St,{})}}var o_={exports:{}};(function(t){(function(){var e=function(r){if(!r)return;function n(u,l){u.scratch("_undoRedo")===void 0&&u.scratch("_undoRedo",{});var f=u.scratch("_undoRedo");return l===void 0?f:f[l]}function i(u,l,f){var c=n(u);c[l]=f,u.scratch("_undoRedo",c)}function o(u){var l={};return l.options={isDebug:!1,actions:{},undoableDrag:!0,stackSizeLimit:void 0,beforeUndo:function(){},afterUndo:function(){},beforeRedo:function(){},afterRedo:function(){},ready:function(){}},l.actions={},l.undoStack=[],l.redoStack=[],l.reset=function(f,c){this.undoStack=f||[],this.redoStack=c||[]},l.undo=function(){if(this.isUndoStackEmpty())this.options.isDebug&&console.log("Undoing cannot be done because undo stack is empty!");else{var f=this.undoStack.pop();u.trigger("beforeUndo",[f.name,f.args]);var c=this.actions[f.name]._undo(f.args);return this.redoStack.push({name:f.name,args:c}),u.trigger("afterUndo",[f.name,f.args,c]),c}},l.redo=function(){if(this.isRedoStackEmpty())this.options.isDebug&&console.log("Redoing cannot be done because redo stack is empty!");else{var f=this.redoStack.pop();u.trigger(f.firstTime?"beforeDo":"beforeRedo",[f.name,f.args]),f.args||(f.args={}),f.args.firstTime=!!f.firstTime;var c=this.actions[f.name]._do(f.args);return this.undoStack.push({name:f.name,args:c}),this.options.stackSizeLimit!=null&&this.undoStack.length>this.options.stackSizeLimit&&this.undoStack.shift(),u.trigger(f.firstTime?"afterDo":"afterRedo",[f.name,f.args,c]),c}},l.do=function(f,c){return this.redoStack.length=0,this.redoStack.push({name:f,args:c,firstTime:!0}),this.redo()},l.undoAll=function(){for(;!this.isUndoStackEmpty();)this.undo()},l.redoAll=function(){for(;!this.isRedoStackEmpty();)this.redo()},l.action=function(f,c,h){return this.actions[f]={_do:c,_undo:h},this},l.removeAction=function(f){delete this.actions[f]},l.isUndoStackEmpty=function(){return this.undoStack.length===0},l.isRedoStackEmpty=function(){return this.redoStack.length===0},l.getUndoStack=function(){return this.undoStack},l.getRedoStack=function(){return this.redoStack},l}r("core","undoRedo",function(u,l){var f=this,c=n(f,"instance")||o(f);if(i(f,"instance",c),u){for(var h in u)c.options.hasOwnProperty(h)&&(c.options[h]=u[h]);if(u.actions)for(var h in u.actions)c.actions[h]=u.actions[h]}if(!n(f,"isInitialized")&&!l){var d=s(f);for(var h in d)c.actions[h]=d[h];a(f,c.options.undoableDrag),i(f,"isInitialized",!0)}return c.options.ready(),c});function a(u,l){var f=null;u.on("grab","node",function(){(typeof l=="function"?l.call(this):l)&&(f={},f.lastMouseDownPosition={x:this.position("x"),y:this.position("y")},f.node=this)}),u.on("free","node",function(){var c=n(u,"instance");if(typeof l=="function"?l.call(this):l){if(f==null)return;var h=f.node,d=f.lastMouseDownPosition,p={x:h.position("x"),y:h.position("y")};if(p.x!=d.x||p.y!=d.y){var g={x:p.x-d.x,y:p.y-d.y},w;h.selected()?w=u.nodes(":visible").filter(":selected"):w=u.collection([h]);var v={positionDiff:g,nodes:w,move:!1};c.do("drag",v),f=null}}})}function s(u){function l(m){for(var y={},E=0;E<m.length;E++)y[m[E].id()]=!0;var T=m.filter(function(C,b){typeof C=="number"&&(C=b);for(var k=C.parent()[0];k!=null;){if(y[k.id()])return!1;k=k.parent()[0]}return!0});return T}function f(m,y,E){for(var T=E?y:l(y),C=0;C<T.length;C++){var b=T[C],k=b.position("x"),S=b.position("y");b.isParent()||b.position({x:k+m.x,y:S+m.y});var O=b.children();f(m,O,!0)}}function c(m){return typeof m=="string"?u.$(m):m}function h(m){return c(m).restore()}function d(m){var y={};return u.nodes().not(":parent").positions(function(E,T){typeof E=="number"&&(E=T),y[E.id()]={x:E.position("x"),y:E.position("y")};var C=m[E.id()];return{x:C.x,y:C.y}}),y}function p(){for(var m={},y=u.nodes(),E=0;E<y.length;E++){var T=y[E];m[T.id()]={x:T.position("x"),y:T.position("y")}}return m}function g(m){var y={};if(m.firstTime){var E=m.parentData==null?null:m.parentData,T=m.nodes.union(m.nodes.descendants());y.elesToRestore=T.union(T.connectedEdges()),y.movedEles=m.nodes.move({parent:E});var C={x:m.posDiffX,y:m.posDiffY};f(C,y.movedEles)}else y.elesToRestore=m.movedEles.remove(),y.movedEles=m.elesToRestore.restore();return m.callback&&(y.callback=m.callback,m.callback(y.movedEles)),y}function w(m){var y={};if(m.firstTime){var E=m.parentData==null?null:m.parentData,T=m.nodes.union(m.nodes.descendants()),C={};T.forEach(function(S){S.parent().id()?C[S.id()]=S.parent():C[S.id()]=null});var b={};T.forEach(function(S){b[S.id()]={},b[S.id()].x=S.position("x"),b[S.id()].y=S.position("y")}),y.oldParent=C,y.oldPosition=b,y.newParent=E,y.movedEles=T,m.nodes.move({parent:E}).nodes();var k={x:m.posDiffX,y:m.posDiffY};f(k,y.movedEles)}else y.oldParent={},m.movedEles.forEach(function(S){S.parent().id()?y.oldParent[S.id()]=S.parent():y.oldParent[S.id()]=null}),y.oldPosition={},m.movedEles.forEach(function(S){y.oldPosition[S.id()]={},y.oldPosition[S.id()].x=S.position("x"),y.oldPosition[S.id()].y=S.position("y")}),y.newParent=m.oldParent,y.movedEles=m.movedEles,y.movedEles.forEach(function(S){typeof y.newParent!="object"?S.move({parent:y.newParent}):y.newParent[S.id()]==null?S.move({parent:null}):S.move({parent:y.newParent[S.id()].id()}),S.position(m.oldPosition[S.id()])});return m.callback&&(y.callback=m.callback,m.callback(y.movedEles)),y}function v(m,y){for(var E=[],T=n(u,"instance"),C=T.actions,b=0;b<m.length;b++){var k=m[b];if(!C.hasOwnProperty(k.name))throw"Action "+k.name+" does not exist as an undoable function"}for(var b=0;b<m.length;b++){var k=m[b];k.param.firstTime=m.firstTime;var S;y=="undo"?S=C[k.name]._undo(k.param):S=C[k.name]._do(k.param),E.unshift({name:k.name,param:S})}return E}return{add:{_do:function(m){return m.firstTime?u.add(m):h(m)},_undo:u.remove},remove:{_do:u.remove,_undo:h},restore:{_do:h,_undo:u.remove},select:{_do:function(m){return c(m).select()},_undo:function(m){return c(m).unselect()}},unselect:{_do:function(m){return c(m).unselect()},_undo:function(m){return c(m).select()}},move:{_do:function(m){var y=c(m.eles),E=y.nodes(),T=y.edges(),C=[],b=[],k=[];return E.forEach(function(S){C.push(S.parent().length>1?S.parent().id():null)}),T.forEach(function(S){b.push(S.source().id()),k.push(S.target().id())}),{oldNodesParents:C,newNodes:E.move(m.location),oldEdgesSources:b,oldEdgesTargets:k,newEdges:T.move(m.location)}},_undo:function(m){var y=u.collection(),E={};if(m.newNodes.length>0){E.parent=m.newNodes[0].parent().id();for(var T=0;T<m.newNodes.length;T++){var C=m.newNodes[T].move({parent:m.oldNodesParents[T]});y=y.union(C)}}else{E.source=m.newEdges[0].source().id(),E.target=m.newEdges[0].target().id();for(var T=0;T<m.newEdges.length;T++){var b=m.newEdges[T].move({source:m.oldEdgesSources[T],target:m.oldEdgesTargets[T]});y=y.union(b)}}return{eles:y,location:E}}},drag:{_do:function(m){return m.move&&(f(m.positionDiff,m.nodes),u.elements().unselect()),m},_undo:function(m){var y={x:-1*m.positionDiff.x,y:-1*m.positionDiff.y},E={positionDiff:m.positionDiff,nodes:m.nodes,move:!0};return f(y,m.nodes),u.elements().unselect(),E}},layout:{_do:function(m){if(m.firstTime){var y=p(),E;return m.eles?E=c(m.eles).layout(m.options):E=u.layout(m.options),E&&E.run&&E.run(),y}else return d(m)},_undo:function(m){return d(m)}},changeParent:{_do:function(m){return u.nodes()[0].component?w(m):g(m)},_undo:function(m){return u.nodes()[0].component?w(m):g(m)}},batch:{_do:function(m){return v(m,"do")},_undo:function(m){return v(m,"undo")}}}}};t.exports&&(t.exports=e),typeof cytoscape<"u"&&e(cytoscape)})()})(o_);var zF=o_.exports;const BF=qn(zF);function qF(t,e,r){let n;jt(t,ko,o=>r(0,n=o));let i=Ut(tr);return Di(()=>{Rn.use(BF);const o={isDebug:!0};let a=i.undoRedo(o);ko.set(a),document.addEventListener("keydown",function(s){(s.ctrlKey||s.metaKey)&&s.target.nodeName==="BODY"&&(s.which===90?n.undo():s.which===89&&n.redo())})}),[]}class $F extends At{constructor(e){super(),kt(this,e,qF,null,St,{})}}function GF(){return typeof Shiny=="object"&&Shiny!==null}function HF(t,e,r){let n;return jt(t,wt,i=>r(0,n=i)),GF()?Shiny.addCustomMessageHandler("full",function(i){Dt(wt,n.full=i,n),Dt(wt,n.ready=!0,n)}):(Dt(wt,n.full=!0,n),Dt(wt,n.ready=!0,n)),navigator.userAgent.indexOf("Safari")!==-1&&navigator.userAgent.indexOf("Chrome")===-1&&alert("You are using Safari. This browser is not supported. Chrome or Firefox are recommended"),[]}class UF extends At{constructor(e){super(),kt(this,e,HF,null,St,{})}}function VF(t,e,r){let n;jt(t,sr,o=>r(1,n=o));let i=!1;return Di(()=>{r(0,i=!0)}),t.$$.update=()=>{t.$$.dirty&2&&wN(n,$d),t.$$.dirty&3&&i&&bN(n.view,n.std)},[i,n]}class WF extends At{constructor(e){super(),kt(this,e,VF,null,St,{})}}function YF(t){let e,r,n,i;const o=t[6].default,a=Lo(o,t,t[5],null);return{c(){e=Ke("section"),a&&a.c(),Nr(e,"left",t[0]+"px"),Nr(e,"top",t[1]+"px"),Oe(e,"class","draggable svelte-13fkbj1")},m(s,u){Ue(s,e,u),a&&a.m(e,null),r=!0,n||(i=[cr(window,"mouseup",t[4]),cr(window,"mousemove",t[3]),cr(e,"mousedown",t[2])],n=!0)},p(s,[u]){a&&a.p&&(!r||u&32)&&Oo(a,o,s,s[5],r?Mo(o,s[5],u,null):No(s[5]),null),(!r||u&1)&&Nr(e,"left",s[0]+"px"),(!r||u&2)&&Nr(e,"top",s[1]+"px")},i(s){r||(qe(a,s),r=!0)},o(s){Ve(a,s),r=!1},d(s){s&&He(e),a&&a.d(s),n=!1,zn(i)}}}function XF(t,e,r){let{$$slots:n={},$$scope:i}=e,{left:o=100}=e,{top:a=100}=e,s=!1;function u(){s=!0}function l(c){s&&(r(0,o+=c.movementX),r(1,a+=c.movementY))}function f(){s=!1}return t.$$set=c=>{"left"in c&&r(0,o=c.left),"top"in c&&r(1,a=c.top),"$$scope"in c&&r(5,i=c.$$scope)},[o,a,u,l,f,i,n]}class jF extends At{constructor(e){super(),kt(this,e,XF,YF,St,{left:0,top:1})}}function KF(t){let e,r,n;const i=t[0].default,o=Lo(i,t,t[1],null);return{c(){e=Ke("ul"),r=Ke("div"),o&&o.c(),Nr(r,"display","flex"),Nr(r,"flex-direction","column"),Oe(e,"class","nav navbar-nav navbar-left"),Nr(e,"border","1px solid black"),Nr(e,"z-index","9999")},m(a,s){Ue(a,e,s),je(e,r),o&&o.m(r,null),n=!0},p(a,s){o&&o.p&&(!n||s&2)&&Oo(o,i,a,a[1],n?Mo(i,a[1],s,null):No(a[1]),null)},i(a){n||(qe(o,a),n=!0)},o(a){Ve(o,a),n=!1},d(a){a&&He(e),o&&o.d(a)}}}function ZF(t){let e,r;return e=new jF({props:{$$slots:{default:[KF]},$$scope:{ctx:t}}}),{c(){vt(e.$$.fragment)},m(n,i){ct(e,n,i),r=!0},p(n,[i]){const o={};i&2&&(o.$$scope={dirty:i,ctx:n}),e.$set(o)},i(n){r||(qe(e.$$.fragment,n),r=!0)},o(n){Ve(e.$$.fragment,n),r=!1},d(n){ht(e,n)}}}function QF(t,e,r){let{$$slots:n={},$$scope:i}=e;return t.$$set=o=>{"$$scope"in o&&r(1,i=o.$$scope)},[n,i]}class JF extends At{constructor(e){super(),kt(this,e,QF,ZF,St,{})}}function Td(t,e){return bootbox.alert({title:"<span style='color: red;'>Error</span>",message:`A ${e} error occurred:<br> <span style='color: red;'>${t}</span>.<br><br>Please consider reporting this issue by sending an email to <a href="mailto:j.d.karch@fsw.leidenuniv.nl">j.d.karch@fsw.leidenuniv.nl</a>.`,centerVertical:!0}),!0}function ez(){return typeof Shiny=="object"&&Shiny!==null}function tz(t){return window.onerror=function(e,r,n,i,o){Td(e,"Javascript")},window.addEventListener("unhandledrejection",function(e){Td(e.reason,"Javascript")}),ez()&&Shiny.addCustomMessageHandler("serverError",function(e){console.log(e),Td(e.msg,"Server")}),[]}class rz extends At{constructor(e){super(),kt(this,e,tz,null,St,{})}}function X1(t){let e,r,n,i,o,a,s,u,l,f,c,h,d,p,g,w,v=t[0].full&&j1();r=new xO({});const m=[iz,nz],y=[];function E(C,b){return C[0].full?0:1}o=E(t),a=y[o]=m[o](t),u=new TF({props:{$$slots:{default:[oz]},$$scope:{ctx:t}}});let T=t[0].full&&Z1();return c=new QR({}),d=new pF({}),g=new DF({}),{c(){v&&v.c(),e=it(),vt(r.$$.fragment),n=it(),i=Ke("div"),a.c(),s=it(),vt(u.$$.fragment),l=it(),T&&T.c(),f=it(),vt(c.$$.fragment),h=it(),vt(d.$$.fragment),p=it(),vt(g.$$.fragment),Oe(i,"class","svelte-15ghafl")},m(C,b){v&&v.m(C,b),Ue(C,e,b),ct(r,C,b),Ue(C,n,b),Ue(C,i,b),y[o].m(i,null),je(i,s),ct(u,i,null),je(i,l),T&&T.m(i,null),Ue(C,f,b),ct(c,C,b),Ue(C,h,b),ct(d,C,b),Ue(C,p,b),ct(g,C,b),w=!0},p(C,b){C[0].full?v?b&1&&qe(v,1):(v=j1(),v.c(),qe(v,1),v.m(e.parentNode,e)):v&&(dn(),Ve(v,1,1,()=>{v=null}),vn());let k=o;o=E(C),o!==k&&(dn(),Ve(y[k],1,1,()=>{y[k]=null}),vn(),a=y[o],a||(a=y[o]=m[o](C),a.c()),qe(a,1),a.m(i,s));const S={};b&3&&(S.$$scope={dirty:b,ctx:C}),u.$set(S),C[0].full?T?b&1&&qe(T,1):(T=Z1(),T.c(),qe(T,1),T.m(i,null)):T&&(dn(),Ve(T,1,1,()=>{T=null}),vn())},i(C){w||(qe(v),qe(r.$$.fragment,C),qe(a),qe(u.$$.fragment,C),qe(T),qe(c.$$.fragment,C),qe(d.$$.fragment,C),qe(g.$$.fragment,C),w=!0)},o(C){Ve(v),Ve(r.$$.fragment,C),Ve(a),Ve(u.$$.fragment,C),Ve(T),Ve(c.$$.fragment,C),Ve(d.$$.fragment,C),Ve(g.$$.fragment,C),w=!1},d(C){v&&v.d(C),C&&He(e),ht(r,C),C&&He(n),C&&He(i),y[o].d(),ht(u),T&&T.d(),C&&He(f),ht(c,C),C&&He(h),ht(d,C),C&&He(p),ht(g,C)}}}function j1(t){let e,r,n,i;return e=new LF({}),n=new IF({}),{c(){vt(e.$$.fragment),r=it(),vt(n.$$.fragment)},m(o,a){ct(e,o,a),Ue(o,r,a),ct(n,o,a),i=!0},i(o){i||(qe(e.$$.fragment,o),qe(n.$$.fragment,o),i=!0)},o(o){Ve(e.$$.fragment,o),Ve(n.$$.fragment,o),i=!1},d(o){ht(e,o),o&&He(r),ht(n,o)}}}function nz(t){let e,r;return e=new JF({props:{$$slots:{default:[az]},$$scope:{ctx:t}}}),{c(){vt(e.$$.fragment)},m(n,i){ct(e,n,i),r=!0},i(n){r||(qe(e.$$.fragment,n),r=!0)},o(n){Ve(e.$$.fragment,n),r=!1},d(n){ht(e,n)}}}function iz(t){let e,r;return e=new XR({}),{c(){vt(e.$$.fragment)},m(n,i){ct(e,n,i),r=!0},i(n){r||(qe(e.$$.fragment,n),r=!0)},o(n){Ve(e.$$.fragment,n),r=!1},d(n){ht(e,n)}}}function az(t){let e,r,n,i,o,a;return e=new XE({props:{full:!1}}),n=new KE({props:{minimal:!0}}),o=new n_({props:{minimal:!0}}),{c(){vt(e.$$.fragment),r=it(),vt(n.$$.fragment),i=it(),vt(o.$$.fragment)},m(s,u){ct(e,s,u),Ue(s,r,u),ct(n,s,u),Ue(s,i,u),ct(o,s,u),a=!0},p:Lt,i(s){a||(qe(e.$$.fragment,s),qe(n.$$.fragment,s),qe(o.$$.fragment,s),a=!0)},o(s){Ve(e.$$.fragment,s),Ve(n.$$.fragment,s),Ve(o.$$.fragment,s),a=!1},d(s){ht(e,s),s&&He(r),ht(n,s),s&&He(i),ht(o,s)}}}function K1(t){let e,r;return e=new KR({}),{c(){vt(e.$$.fragment)},m(n,i){ct(e,n,i),r=!0},i(n){r||(qe(e.$$.fragment,n),r=!0)},o(n){Ve(e.$$.fragment,n),r=!1},d(n){ht(e,n)}}}function oz(t){let e,r,n,i,o,a,s,u,l,f,c,h,d,p,g,w;e=new FO({}),n=new pO({}),o=new xF({}),s=new aF({}),l=new BO({}),c=new $F({}),d=new WF({});let v=t[0].full&&K1();return{c(){vt(e.$$.fragment),r=it(),vt(n.$$.fragment),i=it(),vt(o.$$.fragment),a=it(),vt(s.$$.fragment),u=it(),vt(l.$$.fragment),f=it(),vt(c.$$.fragment),h=it(),vt(d.$$.fragment),p=it(),v&&v.c(),g=Bn()},m(m,y){ct(e,m,y),Ue(m,r,y),ct(n,m,y),Ue(m,i,y),ct(o,m,y),Ue(m,a,y),ct(s,m,y),Ue(m,u,y),ct(l,m,y),Ue(m,f,y),ct(c,m,y),Ue(m,h,y),ct(d,m,y),Ue(m,p,y),v&&v.m(m,y),Ue(m,g,y),w=!0},p(m,y){m[0].full?v?y&1&&qe(v,1):(v=K1(),v.c(),qe(v,1),v.m(g.parentNode,g)):v&&(dn(),Ve(v,1,1,()=>{v=null}),vn())},i(m){w||(qe(e.$$.fragment,m),qe(n.$$.fragment,m),qe(o.$$.fragment,m),qe(s.$$.fragment,m),qe(l.$$.fragment,m),qe(c.$$.fragment,m),qe(d.$$.fragment,m),qe(v),w=!0)},o(m){Ve(e.$$.fragment,m),Ve(n.$$.fragment,m),Ve(o.$$.fragment,m),Ve(s.$$.fragment,m),Ve(l.$$.fragment,m),Ve(c.$$.fragment,m),Ve(d.$$.fragment,m),Ve(v),w=!1},d(m){ht(e,m),m&&He(r),ht(n,m),m&&He(i),ht(o,m),m&&He(a),ht(s,m),m&&He(u),ht(l,m),m&&He(f),ht(c,m),m&&He(h),ht(d,m),m&&He(p),v&&v.d(m),m&&He(g)}}}function Z1(t){let e,r,n,i;return e=new FF({}),n=new fF({}),{c(){vt(e.$$.fragment),r=it(),vt(n.$$.fragment)},m(o,a){ct(e,o,a),Ue(o,r,a),ct(n,o,a),i=!0},i(o){i||(qe(e.$$.fragment,o),qe(n.$$.fragment,o),i=!0)},o(o){Ve(e.$$.fragment,o),Ve(n.$$.fragment,o),i=!1},d(o){ht(e,o),o&&He(r),ht(n,o)}}}function sz(t){let e,r,n,i,o,a,s,u,l;e=new UF({});let f=t[0].ready&&X1(t);return i=new sF({}),a=new mF({}),u=new rz({}),{c(){vt(e.$$.fragment),r=it(),f&&f.c(),n=it(),vt(i.$$.fragment),o=it(),vt(a.$$.fragment),s=it(),vt(u.$$.fragment)},m(c,h){ct(e,c,h),Ue(c,r,h),f&&f.m(c,h),Ue(c,n,h),ct(i,c,h),Ue(c,o,h),ct(a,c,h),Ue(c,s,h),ct(u,c,h),l=!0},p(c,[h]){c[0].ready?f?(f.p(c,h),h&1&&qe(f,1)):(f=X1(c),f.c(),qe(f,1),f.m(n.parentNode,n)):f&&(dn(),Ve(f,1,1,()=>{f=null}),vn())},i(c){l||(qe(e.$$.fragment,c),qe(f),qe(i.$$.fragment,c),qe(a.$$.fragment,c),qe(u.$$.fragment,c),l=!0)},o(c){Ve(e.$$.fragment,c),Ve(f),Ve(i.$$.fragment,c),Ve(a.$$.fragment,c),Ve(u.$$.fragment,c),l=!1},d(c){ht(e,c),c&&He(r),f&&f.d(c),c&&He(n),ht(i,c),c&&He(o),ht(a,c),c&&He(s),ht(u,c)}}}function uz(t,e,r){let n;return jt(t,wt,i=>r(0,n=i)),[n]}class lz extends At{constructor(e){super(),kt(this,e,uz,sz,St,{})}}new lz({target:document.getElementById("app")});
